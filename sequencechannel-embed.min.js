/*

 Lodash <https://lodash.com/>
 Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 Released under MIT license <https://lodash.com/license>
 Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 RequireJS 2.3.6 Copyright jQuery Foundation and other contributors.
 Released under MIT license, https://github.com/requirejs/requirejs/blob/master/LICENSE
 jQuery JavaScript Library v1.12.4-aem
 http://jquery.com/

 Includes Sizzle.js
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2016-05-20T17:17Z
 Sizzle CSS Selector Engine v2.2.1
 http://sizzlejs.com/

 Copyright jQuery Foundation and other contributors
 Released under the MIT license
 http://jquery.org/license

 Date: 2015-10-17
 jQuery requestAnimationFrame - 0.2.2 - 2016-10-26
 https://github.com/gnarf37/jquery-requestAnimationFrame
 Copyright (c) 2016 Corey Frang; Licensed MIT  jQuery Transit - CSS3 transitions and transformations
 (c) 2011-2014 Rico Sta. Cruz
 MIT Licensed.

 http://ricostacruz.com/jquery.transit
 http://github.com/rstacruz/jquery.transit
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){b!=Array.prototype&&b!=Object.prototype&&(b[a]=c.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};
$jscomp.Symbol=function(){var b=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+b++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.asyncIterator;b||(b=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};
$jscomp.makeIterator=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):$jscomp.arrayIterator(b)};$jscomp.arrayFromIterator=function(b){for(var a,c=[];!(a=b.next()).done;)c.push(a.value);return c};$jscomp.arrayFromIterable=function(b){return b instanceof Array?b:$jscomp.arrayFromIterator($jscomp.makeIterator(b))};
(function(b,a){"object"===typeof module&&"object"===typeof module.exports?module.exports=b.document?a(b,!0):function(b){if(!b.document)throw Error("jQuery requires a window with a document");return a(b)}:a(b)})("undefined"!==typeof window?window:this,function(b,a){function c(a){var p=!!a&&"length"in a&&a.length,b=h.type(a);return"function"===b||h.isWindow(a)?!1:"array"===b||0===p||"number"===typeof p&&0<p&&p-1 in a}function d(a,b,c){if(h.isFunction(b))return h.grep(a,function(a,p){return!!b.call(a,
p,a)!==c});if(b.nodeType)return h.grep(a,function(a){return a===b!==c});if("string"===typeof b){if(Ua.test(b))return h.filter(b,a,c);b=h.filter(b,a)}return h.grep(a,function(a){return-1<h.inArray(a,b)!==c})}function e(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function k(a){var p={};h.each(a.match(Ja)||[],function(a,b){p[b]=!0});return p}function l(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",f),b.removeEventListener("load",f)):(J.detachEvent("onreadystatechange",f),b.detachEvent("onload",
f))}function f(){if(J.addEventListener||"load"===b.event.type||"complete"===J.readyState)l(),h.ready()}function m(a,b,c){if(void 0===c&&1===a.nodeType)if(c="data-"+b.replace(Wd,"-$1").toLowerCase(),c=a.getAttribute(c),"string"===typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:Xd.test(c)?h.parseJSON(c):c}catch(Ta){}h.data(a,b,c)}else c=void 0;return c}function r(a){for(var b in a)if(("data"!==b||!h.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function g(a,b,c,d){if(Pa(a)){var p=
h.expando,e=a.nodeType,v=e?h.cache:a,f=e?a[p]:a[p]&&p;if(f&&v[f]&&(d||v[f].data)||void 0!==c||"string"!==typeof b){f||(f=e?a[p]=mb.pop()||h.guid++:p);v[f]||(v[f]=e?{}:{toJSON:h.noop});if("object"===typeof b||"function"===typeof b)d?v[f]=h.extend(v[f],b):v[f].data=h.extend(v[f].data,b);a=v[f];d||(a.data||(a.data={}),a=a.data);void 0!==c&&(a[h.camelCase(b)]=c);"string"===typeof b?(c=a[b],null==c&&(c=a[h.camelCase(b)])):c=a;return c}}}function n(a,b,c){if(Pa(a)){var p,d,e=a.nodeType,v=e?h.cache:a,f=
e?a[h.expando]:h.expando;if(v[f]){if(b&&(p=c?v[f]:v[f].data)){h.isArray(b)?b=b.concat(h.map(b,h.camelCase)):b in p?b=[b]:(b=h.camelCase(b),b=b in p?[b]:b.split(" "));for(d=b.length;d--;)delete p[b[d]];if(c?!r(p):!h.isEmptyObject(p))return}if(!c&&(delete v[f].data,!r(v[f])))return;e?h.cleanData([a],!0):E.deleteExpando||v!=v.window?delete v[f]:v[f]=void 0}}}function x(a,b,c,d){var p=1,e=20,v=d?function(){return d.cur()}:function(){return h.css(a,b,"")},f=v(),g=c&&c[3]||(h.cssNumber[b]?"":"px"),I=(h.cssNumber[b]||
"px"!==g&&+f)&&Kc.exec(h.css(a,b));if(I&&I[3]!==g){g=g||I[3];c=c||[];I=+f||1;do p=p||".5",I/=p,h.style(a,b,I+g);while(p!==(p=v()/f)&&1!==p&&--e)}if(c){I=+I||+f||0;var k=c[1]?I+(c[1]+1)*c[2]:+c[2];d&&(d.unit=g,d.start=I,d.end=k)}return k}function y(a){var b="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output picture progress section summary template time video".split(" ");a=a.createDocumentFragment();if(a.createElement)for(;b.length;)a.createElement(b.pop());
return a}function D(a,b){var c,p,d=0,e="undefined"!==typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!==typeof a.querySelectorAll?a.querySelectorAll(b||"*"):void 0;if(!e)for(e=[],c=a.childNodes||a;null!=(p=c[d]);d++)!b||h.nodeName(p,b)?e.push(p):h.merge(e,D(p,b));return void 0===b||b&&h.nodeName(a,b)?h.merge([a],e):e}function w(a,b){for(var c,p=0;null!=(c=a[p]);p++)h._data(c,"globalEval",!b||h._data(b[p],"globalEval"))}function B(a){Lc.test(a.type)&&(a.defaultChecked=a.checked)}
function F(a,b,c,d,e){for(var p,v,f,g,I,k,m=a.length,l=y(b),r=[],n=0;n<m;n++)if((v=a[n])||0===v)if("object"===h.type(v))h.merge(r,v.nodeType?[v]:v);else if(be.test(v)){f=f||l.appendChild(b.createElement("div"));g=(ra.exec(v)||["",""])[1].toLowerCase();k=Va[g]||Va._default;f.innerHTML=k[1]+h.htmlPrefilter(v)+k[2];for(p=k[0];p--;)f=f.lastChild;!E.leadingWhitespace&&Mb.test(v)&&r.push(b.createTextNode(Mb.exec(v)[0]));if(!E.tbody)for(p=(v="table"!==g||Yb.test(v)?"\x3ctable\x3e"!==k[1]||Yb.test(v)?0:f:
f.firstChild)&&v.childNodes.length;p--;)h.nodeName(I=v.childNodes[p],"tbody")&&!I.childNodes.length&&v.removeChild(I);h.merge(r,f.childNodes);for(f.textContent="";f.firstChild;)f.removeChild(f.firstChild);f=l.lastChild}else r.push(b.createTextNode(v));f&&l.removeChild(f);E.appendChecked||h.grep(D(r,"input"),B);for(n=0;v=r[n++];)if(d&&-1<h.inArray(v,d))e&&e.push(v);else if(a=h.contains(v.ownerDocument,v),f=D(l.appendChild(v),"script"),a&&w(f),c)for(p=0;v=f[p++];)pa.test(v.type||"")&&c.push(v);return l}
function P(){return!0}function A(){return!1}function G(){try{return J.activeElement}catch(p){}}function M(a,b,c,d,e,f){var p;if("object"===typeof b){"string"!==typeof c&&(d=d||c,c=void 0);for(p in b)M(a,p,c,d,b[p],f);return a}null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"===typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0));if(!1===e)e=A;else if(!e)return a;if(1===f){var v=e;e=function(a){h().off(a);return v.apply(this,arguments)};e.guid=v.guid||(v.guid=h.guid++)}return a.each(function(){h.event.add(this,
b,e,d,c)})}function fa(a,b){return h.nodeName(a,"table")&&h.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function O(a){a.type=(null!==h.find.attr(a,"type"))+"/"+a.type;return a}function S(a){var b=fd.exec(a.type);b?a.type=b[1]:a.removeAttribute("type");return a}function H(a,b){if(1===b.nodeType&&h.hasData(a)){var c,p;var d=h._data(a);a=h._data(b,d);var e=d.events;if(e)for(c in delete a.handle,a.events={},
e)for(d=0,p=e[c].length;d<p;d++)h.event.add(b,c,e[c][d]);a.data&&(a.data=h.extend({},a.data))}}function K(a,b,c,d){b=Mc.apply([],b);var p,e=0,v=a.length,f=v-1,g=b[0],I=h.isFunction(g);if(I||1<v&&"string"===typeof g&&!E.checkClone&&gd.test(g))return a.each(function(p){var e=a.eq(p);I&&(b[0]=g.call(this,p,e.html()));K(e,b,c,d)});if(v){var k=F(b,a[0].ownerDocument,!1,a,d);var m=k.firstChild;1===k.childNodes.length&&(k=m);if(m||d){var l=h.map(D(k,"script"),O);for(p=l.length;e<v;e++)m=k,e!==f&&(m=h.clone(m,
!0,!0),p&&h.merge(l,D(m,"script"))),c.call(a[e],m,e);if(p)for(k=l[l.length-1].ownerDocument,h.map(l,S),e=0;e<p;e++)m=l[e],pa.test(m.type||"")&&!h._data(m,"globalEval")&&h.contains(k,m)&&(m.src?h._evalUrl&&h._evalUrl(m.src):h.globalEval((m.text||m.textContent||m.innerHTML||"").replace(hd,"")));k=m=null}}return a}function C(a,b,c){for(var p=b?h.filter(b,a):a,d=0;null!=(b=p[d]);d++)c||1!==b.nodeType||h.cleanData(D(b)),b.parentNode&&(c&&h.contains(b.ownerDocument,b)&&w(D(b,"script")),b.parentNode.removeChild(b));
return a}function Q(a,b){a=h(b.createElement(a)).appendTo(b.body);b=h.css(a[0],"display");a.detach();return b}function U(a){var b=J,c=mc[a];c||(c=Q(a,b),"none"!==c&&c||(Nb=(Nb||h("\x3ciframe frameborder\x3d'0' width\x3d'0' height\x3d'0'/\x3e")).appendTo(b.documentElement),b=(Nb[0].contentWindow||Nb[0].contentDocument).document,b.write(),b.close(),c=Q(a,b),Nb.detach()),mc[a]=c);return c}function T(a,b){return{get:function(){if(a())delete this.get;else return(this.get=b).apply(this,arguments)}}}function ha(a){if(a in
Xe)return a;for(var b=a.charAt(0).toUpperCase()+a.slice(1),c=Ye.length;c--;)if(a=Ye[c]+b,a in Xe)return a}function ia(a,b){for(var c,p,d,e=[],v=0,f=a.length;v<f;v++)p=a[v],p.style&&(e[v]=h._data(p,"olddisplay"),c=p.style.display,b?(e[v]||"none"!==c||(p.style.display=""),""===p.style.display&&Zb(p)&&(e[v]=h._data(p,"olddisplay",U(p.nodeName)))):(d=Zb(p),(c&&"none"!==c||!d)&&h._data(p,"olddisplay",d?c:h.css(p,"display"))));for(v=0;v<f;v++)p=a[v],!p.style||b&&"none"!==p.style.display&&""!==p.style.display||
(p.style.display=b?e[v]||"":"none");return a}function Y(a,b,c){return(a=da.exec(b))?Math.max(0,a[1]-(c||0))+(a[2]||"px"):b}function ka(a,b,c,d,e){b=c===(d?"border":"content")?4:"width"===b?1:0;for(var p=0;4>b;b+=2)"margin"===c&&(p+=h.css(a,c+Wa[b],!0,e)),d?("content"===c&&(p-=h.css(a,"padding"+Wa[b],!0,e)),"margin"!==c&&(p-=h.css(a,"border"+Wa[b]+"Width",!0,e))):(p+=h.css(a,"padding"+Wa[b],!0,e),"padding"!==c&&(p+=h.css(a,"border"+Wa[b]+"Width",!0,e)));return p}function R(a,b,c){var p=!0,d="width"===
b?a.offsetWidth:a.offsetHeight,e=Ga(a),v=E.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,e);if(0>=d||null==d){d=nb(a,b,e);if(0>d||null==d)d=a.style[b];if(nc.test(d))return d;p=v&&(E.boxSizingReliable()||d===a.style[b]);d=parseFloat(d)||0}return d+ka(a,b,c||(v?"border":"content"),p,e)+"px"}function aa(a,b,c,d,e){return new aa.prototype.init(a,b,c,d,e)}function N(){b.setTimeout(function(){Ha=void 0});return Ha=h.now()}function V(a,b){var c={height:a},p=0;for(b=b?1:0;4>p;p+=2-b){var d=Wa[p];c["margin"+
d]=c["padding"+d]=a}b&&(c.opacity=c.width=a);return c}function sa(a,b,c){for(var p,d=(u.tweeners[b]||[]).concat(u.tweeners["*"]),e=0,v=d.length;e<v;e++)if(p=d[e].call(c,b,a))return p}function ob(a,b){var c,p;for(c in a){var d=h.camelCase(c);var e=b[d];var v=a[c];h.isArray(v)&&(e=v[1],v=a[c]=v[0]);c!==d&&(a[d]=v,delete a[c]);if((p=h.cssHooks[d])&&"expand"in p)for(c in v=p.expand(v),delete a[d],v)c in a||(a[c]=v[c],b[c]=e);else b[d]=e}}function u(a,b,c){var p,d=0,e=u.prefilters.length,v=h.Deferred().always(function(){delete f.elem}),
f=function(){if(p)return!1;var b=Ha||N();b=Math.max(0,g.startTime+g.duration-b);for(var c=1-(b/g.duration||0),d=0,e=g.tweens.length;d<e;d++)g.tweens[d].run(c);v.notifyWith(a,[g,c,b]);if(1>c&&e)return b;v.resolveWith(a,[g]);return!1},g=v.promise({elem:a,props:h.extend({},b),opts:h.extend(!0,{specialEasing:{},easing:h.easing._default},c),originalProperties:b,originalOptions:c,startTime:Ha||N(),duration:c.duration,tweens:[],createTween:function(b,c){b=h.Tween(a,g.opts,b,c,g.opts.specialEasing[b]||g.opts.easing);
g.tweens.push(b);return b},stop:function(b){var c=0,d=b?g.tweens.length:0;if(p)return this;for(p=!0;c<d;c++)g.tweens[c].run(1);b?(v.notifyWith(a,[g,1,0]),v.resolveWith(a,[g,b])):v.rejectWith(a,[g,b]);return this}});c=g.props;for(ob(c,g.opts.specialEasing);d<e;d++)if(b=u.prefilters[d].call(g,a,c,g.opts))return h.isFunction(b.stop)&&(h._queueHooks(g.elem,g.opts.queue).stop=h.proxy(b.stop,b)),b;h.map(c,sa,g);h.isFunction(g.opts.start)&&g.opts.start.call(a,g);h.fx.timer(h.extend(f,{elem:a,anim:g,queue:g.opts.queue}));
return g.progress(g.opts.progress).done(g.opts.done,g.opts.complete).fail(g.opts.fail).always(g.opts.always)}function wa(a){return h.attr(a,"class")||""}function ja(a){return function(b,c){"string"!==typeof b&&(c=b,b="*");var p=0,d=b.toLowerCase().match(Ja)||[];if(h.isFunction(c))for(;b=d[p++];)"+"===b.charAt(0)?(b=b.slice(1)||"*",(a[b]=a[b]||[]).unshift(c)):(a[b]=a[b]||[]).push(c)}}function la(a,b,c,d){function p(f){var g;e[f]=!0;h.each(a[f]||[],function(a,f){a=f(b,c,d);if("string"===typeof a&&!v&&
!e[a])return b.dataTypes.unshift(a),p(a),!1;if(v)return!(g=a)});return g}var e={},v=a===bb;return p(b.dataTypes[0])||!e["*"]&&p("*")}function xa(a,b){var c,p,d=h.ajaxSettings.flatOptions||{};for(p in b)void 0!==b[p]&&((d[p]?a:c||(c={}))[p]=b[p]);c&&h.extend(!0,a,c);return a}function oc(a){if(!h.contains(a.ownerDocument||J,a))return!0;for(;a&&1===a.nodeType;){if("none"===(a.style&&a.style.display||h.css(a,"display"))||"hidden"===a.type)return!0;a=a.parentNode}return!1}function Xa(a,b,c,d){var p;if(h.isArray(b))h.each(b,
function(b,p){c||ce.test(a)?d(a,p):Xa(a+"["+("object"===typeof p&&null!=p?b:"")+"]",p,c,d)});else if(c||"object"!==h.type(b))d(a,b);else for(p in b)Xa(a+"["+p+"]",b[p],c,d)}function Ob(){try{return new b.XMLHttpRequest}catch(p){}}function ma(){try{return new b.ActiveXObject("Microsoft.XMLHTTP")}catch(p){}}function pc(a){return h.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var mb=[],J=b.document,ub=mb.slice,Mc=mb.concat,Nc=mb.push,id=mb.indexOf,qc={},ba=qc.toString,na=qc.hasOwnProperty,
E={},h=function(a,b){return new h.fn.init(a,b)},hb=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Ba=/^-ms-/,Pb=/-([\da-z])/gi,$b=function(a,b){return b.toUpperCase()};h.fn=h.prototype={jquery:"1.12.4-aem",constructor:h,selector:"",length:0,toArray:function(){return ub.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:ub.call(this)},pushStack:function(a){a=h.merge(this.constructor(),a);a.prevObject=this;a.context=this.context;return a},each:function(a){return h.each(this,a)},map:function(a){return this.pushStack(h.map(this,
function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(ub.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length;a=+a+(0>a?b:0);return this.pushStack(0<=a&&a<b?[this[a]]:[])},end:function(){return this.prevObject||this.constructor()},push:Nc,sort:mb.sort,splice:mb.splice};h.extend=h.fn.extend=function(){var a,b,c,d=arguments[0]||{},e=1,f=arguments.length,g=!1;"boolean"===typeof d&&(g=d,d=arguments[e]||
{},e++);"object"===typeof d||h.isFunction(d)||(d={});e===f&&(d=this,e--);for(;e<f;e++)if(null!=(c=arguments[e]))for(b in c){var k=d[b];var m=c[b];"__proto__"!==b&&d!==m&&(g&&m&&(h.isPlainObject(m)||(a=h.isArray(m)))?(a?(a=!1,k=k&&h.isArray(k)?k:[]):k=k&&h.isPlainObject(k)?k:{},d[b]=h.extend(g,k,m)):void 0!==m&&(d[b]=m))}return d};h.extend({expando:"jQuery"+("1.12.4-aem"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw Error(a);},noop:function(){},isFunction:function(a){return"function"===
h.type(a)},isArray:Array.isArray||function(a){return"array"===h.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){var b=a&&a.toString();return!h.isArray(a)&&0<=b-parseFloat(b)+1},isEmptyObject:function(a){for(var b in a)return!1;return!0},isPlainObject:function(a){var b;if(!a||"object"!==h.type(a)||a.nodeType||h.isWindow(a))return!1;try{if(a.constructor&&!na.call(a,"constructor")&&!na.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(I){return!1}if(!E.ownFirst)for(b in a)return na.call(a,
b);for(b in a);return void 0===b||na.call(a,b)},type:function(a){return null==a?a+"":"object"===typeof a||"function"===typeof a?qc[ba.call(a)]||"object":typeof a},globalEval:function(a){a&&h.trim(a)&&(b.execScript||function(a){b.eval.call(b,a)})(a)},camelCase:function(a){return a.replace(Ba,"ms-").replace(Pb,$b)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var p,d=0;if(c(a))for(p=a.length;d<p&&!1!==b.call(a[d],d,a[d]);d++);else for(d in a)if(!1===
b.call(a[d],d,a[d]))break;return a},trim:function(a){return null==a?"":(a+"").replace(hb,"")},makeArray:function(a,b){b=b||[];null!=a&&(c(Object(a))?h.merge(b,"string"===typeof a?[a]:a):Nc.call(b,a));return b},inArray:function(a,b,c){if(b){if(id)return id.call(b,a,c);var p=b.length;for(c=c?0>c?Math.max(0,p+c):c:0;c<p;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){for(var c=+b.length,p=0,d=a.length;p<c;)a[d++]=b[p++];if(c!==c)for(;void 0!==b[p];)a[d++]=b[p++];a.length=d;return a},grep:function(a,
b,c){for(var p=[],d=0,e=a.length,v=!c;d<e;d++)c=!b(a[d],d),c!==v&&p.push(a[d]);return p},map:function(a,b,d){var p,e=0,v=[];if(c(a))for(p=a.length;e<p;e++){var f=b(a[e],e,d);null!=f&&v.push(f)}else for(e in a)f=b(a[e],e,d),null!=f&&v.push(f);return Mc.apply([],v)},guid:1,proxy:function(a,b){if("string"===typeof b){var c=a[b];b=a;a=c}if(h.isFunction(a)){var d=ub.call(arguments,2);c=function(){return a.apply(b||this,d.concat(ub.call(arguments)))};c.guid=a.guid=a.guid||h.guid++;return c}},now:function(){return+new Date},
support:E});$jscomp.initSymbol();"function"===typeof Symbol&&($jscomp.initSymbol(),$jscomp.initSymbolIterator(),$jscomp.initSymbol(),$jscomp.initSymbolIterator(),h.fn[Symbol.iterator]=mb[Symbol.iterator]);h.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){qc["[object "+b+"]"]=b.toLowerCase()});var yb=function(a){function b(a,b,c,d){var p,e,f,v,g=b&&b.ownerDocument,h=b?b.nodeType:9;c=c||[];if("string"!==typeof a||!a||1!==h&&9!==h&&11!==h)return c;
if(!d&&((b?b.ownerDocument||b:xa)!==y&&ba(b),b=b||y,F)){if(11!==h&&(v=Ja.exec(a)))if(p=v[1])if(9===h)if(e=b.getElementById(p)){if(e.id===p)return c.push(e),c}else return c;else{if(g&&(e=g.getElementById(p))&&Ua(b,e)&&e.id===p)return c.push(e),c}else{if(v[2])return Xa.apply(c,b.getElementsByTagName(a)),c;if((p=v[3])&&ma.getElementsByClassName&&b.getElementsByClassName)return Xa.apply(c,b.getElementsByClassName(p)),c}if(!(!ma.qsa||vc[a+" "]||C&&C.test(a))){if(1!==h){g=b;var k=a}else if("object"!==b.nodeName.toLowerCase()){(f=
b.getAttribute("id"))?f=f.replace(S,"\\$\x26"):b.setAttribute("id",f=N);v=X(a);p=v.length;for(e=wa.test(f)?"#"+f:"[id\x3d'"+f+"']";p--;)v[p]=e+" "+r(v[p]);k=v.join(",");g=ia.test(a)&&m(b.parentNode)||b}if(k)try{return Xa.apply(c,g.querySelectorAll(k)),c}catch(Pc){}finally{f===N&&b.removeAttribute("id")}}}return pc(a.replace(Tb,"$1"),b,c,d)}function c(){function a(c,d){b.push(c+" ")>H.cacheLength&&delete a[b.shift()];return a[c+" "]=d}var b=[];return a}function d(a){a[N]=!0;return a}function p(a){var b=
y.createElement("div");try{return!!a(b)}catch(vb){return!1}finally{b.parentNode&&b.parentNode.removeChild(b)}}function e(a,b){a=a.split("|");for(var c=a.length;c--;)H.attrHandle[a[c]]=b}function f(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||-2147483648)-(~a.sourceIndex||-2147483648);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function g(a){return function(b){return"input"===b.nodeName.toLowerCase()&&b.type===a}}function h(a){return function(b){var c=
b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return d(function(b){b=+b;return d(function(c,d){for(var p,e=a([],c.length,b),f=e.length;f--;)c[p=e[f]]&&(c[p]=!(d[p]=c[p]))})})}function m(a){return a&&"undefined"!==typeof a.getElementsByTagName&&a}function l(){}function r(a){for(var b=0,c=a.length,d="";b<c;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,p=c&&"parentNode"===d,e=G++;return b.first?function(b,c,e){for(;b=b[d];)if(1===b.nodeType||p)return a(b,
c,e)}:function(b,c,f){var v,g=[P,e];if(f)for(;b=b[d];){if((1===b.nodeType||p)&&a(b,c,f))return!0}else for(;b=b[d];)if(1===b.nodeType||p){var h=b[N]||(b[N]={});h=h[b.uniqueID]||(h[b.uniqueID]={});if((v=h[d])&&v[0]===P&&v[1]===e)return g[2]=v[2];h[d]=g;if(g[2]=a(b,c,f))return!0}}}function w(a){return 1<a.length?function(b,c,d){for(var p=a.length;p--;)if(!a[p](b,c,d))return!1;return!0}:a[0]}function ja(a,b,c,d,p){for(var e,f=[],v=0,g=a.length,h=null!=b;v<g;v++)if(e=a[v])if(!c||c(e,d,p))f.push(e),h&&
b.push(v);return f}function R(a,c,p,e,f,v){e&&!e[N]&&(e=R(e));f&&!f[N]&&(f=R(f,v));return d(function(d,v,g,h){var k,m=[],l=[],r=v.length,n;if(!(n=d)){n=c||"*";for(var I=g.nodeType?[g]:g,w=[],Ta=0,R=I.length;Ta<R;Ta++)b(n,I[Ta],w);n=w}n=!a||!d&&c?n:ja(n,m,a,g,h);I=p?f||(d?a:r||e)?[]:v:n;p&&p(n,I,g,h);if(e){var A=ja(I,l);e(A,[],g,h);for(g=A.length;g--;)if(k=A[g])I[l[g]]=!(n[l[g]]=k)}if(d){if(f||a){if(f){A=[];for(g=I.length;g--;)(k=I[g])&&A.push(n[g]=k);f(null,I=[],A,h)}for(g=I.length;g--;)(k=I[g])&&
-1<(A=f?pb(d,k):m[g])&&(d[A]=!(v[A]=k))}}else I=ja(I===v?I.splice(r,I.length):I),f?f(null,v,I,h):Xa.apply(v,I)})}function A(a){var b,c,d=a.length,p=H.relative[a[0].type];var e=p||H.relative[" "];for(var f=p?1:0,v=n(function(a){return a===b},e,!0),g=n(function(a){return-1<pb(b,a)},e,!0),h=[function(a,c,d){a=!p&&(d||c!==x)||((b=c).nodeType?v(a,c,d):g(a,c,d));b=null;return a}];f<d;f++)if(e=H.relative[a[f].type])h=[n(w(h),e)];else{e=H.filter[a[f].type].apply(null,a[f].matches);if(e[N]){for(c=++f;c<d&&
!H.relative[a[c].type];c++);return R(1<f&&w(h),1<f&&r(a.slice(0,f-1).concat({value:" "===a[f-2].type?"*":""})).replace(Tb,"$1"),e,f<c&&A(a.slice(f,c)),c<d&&A(a=a.slice(c)),c<d&&r(a))}h.push(e)}return w(h)}function q(a,c){var p=0<c.length,e=0<a.length,f=function(d,f,v,g,h){var k,m,l=0,n="0",r=d&&[],I=[],w=x,Ta=d||e&&H.find.TAG("*",h),R=P+=null==w?1:Math.random()||.1,A=Ta.length;for(h&&(x=f===y||f||h);n!==A&&null!=(k=Ta[n]);n++){if(e&&k){var q=0;f||k.ownerDocument===y||(ba(k),v=!F);for(;m=a[q++];)if(m(k,
f||y,v)){g.push(k);break}h&&(P=R)}p&&((k=!m&&k)&&l--,d&&r.push(k))}l+=n;if(p&&n!==l){for(q=0;m=c[q++];)m(r,I,f,v);if(d){if(0<l)for(;n--;)r[n]||I[n]||(I[n]=nb.call(g));I=ja(I)}Xa.apply(g,I);h&&!d&&0<I.length&&1<l+c.length&&b.uniqueSort(g)}h&&(P=R,x=w);return r};return p?d(f):f}var la,x,B,u,y,K,F,C,D,aa,Ua,N="sizzle"+1*new Date,xa=a.document,P=0,G=0,Q=c(),oc=c(),vc=c(),V=function(a,b){a===b&&(u=!0);return 0},ob={}.hasOwnProperty,U=[],nb=U.pop,Qc=U.push,Xa=U.push,Ga=U.slice,pb=function(a,b){for(var c=
0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1},Ob=/[\x20\t\r\n\f]+/g,Tb=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,M=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,T=/^[\x20\t\r\n\f]*([>+~]|[\x20\t\r\n\f])[\x20\t\r\n\f]*/,sa=/=[\x20\t\r\n\f]*([^\]'"]*?)[\x20\t\r\n\f]*\]/g,E=/:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
wa=/^(?:\\.|[\w-]|[^\x00-\xa0])+$/,Fb={ID:/^#((?:\\.|[\w-]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[\w-]|[^\x00-\xa0])+)/,TAG:/^((?:\\.|[\w-]|[^\x00-\xa0])+|[*])/,ATTR:/^\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\]/,PSEUDO:/^:((?:\\.|[\w-]|[^\x00-\xa0])+)(?:\((('((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)")|((?:\\.|[^\\()[\]]|\[[\x20\t\r\n\f]*((?:\\.|[\w-]|[^\x00-\xa0])+)(?:[\x20\t\r\n\f]*([*^$|!~]?=)[\x20\t\r\n\f]*(?:'((?:\\.|[^\\'])*)'|"((?:\\.|[^\\"])*)"|((?:\\.|[\w-]|[^\x00-\xa0])+))|)[\x20\t\r\n\f]*\])*)|.*)\)|)/,
CHILD:/^:(only|first|last|nth|nth-last)-(child|of-type)(?:\([\x20\t\r\n\f]*(even|odd|(([+-]|)(\d*)n|)[\x20\t\r\n\f]*(?:([+-]|)[\x20\t\r\n\f]*(\d+)|))[\x20\t\r\n\f]*\)|)/i,bool:/^(?:checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)$/i,needsContext:/^[\x20\t\r\n\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i},J=/^(?:input|select|textarea|button)$/i,fa=/^h\d$/i,ha=/^[^{]+\{\s*\[native \w/,
Ja=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ia=/[+~]/,S=/'|\\/g,O=/\\([\da-f]{1,6}[\x20\t\r\n\f]?|([\x20\t\r\n\f])|.)/ig,Y=function(a,b,c){a="0x"+b-65536;return a!==a||c?b:0>a?String.fromCharCode(a+65536):String.fromCharCode(a>>10|55296,a&1023|56320)},qb=function(){ba()};try{Xa.apply(U=Ga.call(xa.childNodes),xa.childNodes),U[xa.childNodes.length].nodeType}catch(jd){Xa={apply:U.length?function(a,b){Qc.apply(a,Ga.call(b))}:function(a,b){for(var c=a.length,d=0;a[c++]=b[d++];);a.length=c-1}}}var ma=b.support=
{};var da=b.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};var ba=b.setDocument=function(a){var b;a=a?a.ownerDocument||a:xa;if(a===y||9!==a.nodeType||!a.documentElement)return y;y=a;K=y.documentElement;F=!da(y);(b=y.defaultView)&&b.top!==b&&(b.addEventListener?b.addEventListener("unload",qb,!1):b.attachEvent&&b.attachEvent("onunload",qb));ma.attributes=p(function(a){a.className="i";return!a.getAttribute("className")});ma.getElementsByTagName=p(function(a){a.appendChild(y.createComment(""));
return!a.getElementsByTagName("*").length});ma.getElementsByClassName=ha.test(y.getElementsByClassName);ma.getById=p(function(a){K.appendChild(a).id=N;return!y.getElementsByName||!y.getElementsByName(N).length});ma.getById?(H.find.ID=function(a,b){if("undefined"!==typeof b.getElementById&&F)return(a=b.getElementById(a))?[a]:[]},H.filter.ID=function(a){var b=a.replace(O,Y);return function(a){return a.getAttribute("id")===b}}):(delete H.find.ID,H.filter.ID=function(a){var b=a.replace(O,Y);return function(a){return(a=
"undefined"!==typeof a.getAttributeNode&&a.getAttributeNode("id"))&&a.value===b}});H.find.TAG=ma.getElementsByTagName?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a);if(ma.qsa)return b.querySelectorAll(a)}:function(a,b){var c=[],d=0;b=b.getElementsByTagName(a);if("*"===a){for(;a=b[d++];)1===a.nodeType&&c.push(a);return c}return b};H.find.CLASS=ma.getElementsByClassName&&function(a,b){if("undefined"!==typeof b.getElementsByClassName&&F)return b.getElementsByClassName(a)};
D=[];C=[];if(ma.qsa=ha.test(y.querySelectorAll))p(function(a){K.appendChild(a).innerHTML="\x3ca id\x3d'"+N+"'\x3e\x3c/a\x3e\x3cselect id\x3d'"+N+"-\r\\' msallowcapture\x3d''\x3e\x3coption selected\x3d''\x3e\x3c/option\x3e\x3c/select\x3e";a.querySelectorAll("[msallowcapture^\x3d'']").length&&C.push("[*^$]\x3d[\\x20\\t\\r\\n\\f]*(?:''|\"\")");a.querySelectorAll("[selected]").length||C.push("\\[[\\x20\\t\\r\\n\\f]*(?:value|checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped)");
a.querySelectorAll("[id~\x3d"+N+"-]").length||C.push("~\x3d");a.querySelectorAll(":checked").length||C.push(":checked");a.querySelectorAll("a#"+N+"+*").length||C.push(".#.+[+~]")}),p(function(a){var b=y.createElement("input");b.setAttribute("type","hidden");a.appendChild(b).setAttribute("name","D");a.querySelectorAll("[name\x3dd]").length&&C.push("name[\\x20\\t\\r\\n\\f]*[*^$|!~]?\x3d");a.querySelectorAll(":enabled").length||C.push(":enabled",":disabled");a.querySelectorAll("*,:x");C.push(",.*:")});
(ma.matchesSelector=ha.test(aa=K.matches||K.webkitMatchesSelector||K.mozMatchesSelector||K.oMatchesSelector||K.msMatchesSelector))&&p(function(a){ma.disconnectedMatch=aa.call(a,"div");aa.call(a,"[s!\x3d'']:x");D.push("!\x3d",":((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+)(?:[\\x20\\t\\r\\n\\f]*([*^$|!~]?\x3d)[\\x20\\t\\r\\n\\f]*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|((?:\\\\.|[\\w-]|[^\\x00-\\xa0])+))|)[\\x20\\t\\r\\n\\f]*\\])*)|.*)\\)|)")});
C=C.length&&new RegExp(C.join("|"));D=D.length&&new RegExp(D.join("|"));Ua=(b=ha.test(K.compareDocumentPosition))||ha.test(K.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a;b=b&&b.parentNode;return a===b||!!(b&&1===b.nodeType&&(c.contains?c.contains(b):a.compareDocumentPosition&&a.compareDocumentPosition(b)&16))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1};V=b?function(a,b){if(a===b)return u=!0,0;var c=!a.compareDocumentPosition-!b.compareDocumentPosition;
if(c)return c;c=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1;return c&1||!ma.sortDetached&&b.compareDocumentPosition(a)===c?a===y||a.ownerDocument===xa&&Ua(xa,a)?-1:b===y||b.ownerDocument===xa&&Ua(xa,b)?1:B?pb(B,a)-pb(B,b):0:c&4?-1:1}:function(a,b){if(a===b)return u=!0,0;var c=0,d=a.parentNode,p=b.parentNode,e=[a],v=[b];if(!d||!p)return a===y?-1:b===y?1:d?-1:p?1:B?pb(B,a)-pb(B,b):0;if(d===p)return f(a,b);for(;a=a.parentNode;)e.unshift(a);for(a=b;a=a.parentNode;)v.unshift(a);
for(;e[c]===v[c];)c++;return c?f(e[c],v[c]):e[c]===xa?-1:v[c]===xa?1:0};return y};b.matches=function(a,c){return b(a,null,null,c)};b.matchesSelector=function(a,c){(a.ownerDocument||a)!==y&&ba(a);c=c.replace(sa,"\x3d'$1']");if(!(!ma.matchesSelector||!F||vc[c+" "]||D&&D.test(c)||C&&C.test(c)))try{var d=aa.call(a,c);if(d||ma.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(de){}return 0<b(c,y,null,[a]).length};b.contains=function(a,b){(a.ownerDocument||a)!==y&&ba(a);return Ua(a,
b)};b.attr=function(a,b){(a.ownerDocument||a)!==y&&ba(a);var c=H.attrHandle[b.toLowerCase()];c=c&&ob.call(H.attrHandle,b.toLowerCase())?c(a,b,!F):void 0;return void 0!==c?c:ma.attributes||!F?a.getAttribute(b):(c=a.getAttributeNode(b))&&c.specified?c.value:null};b.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};b.uniqueSort=function(a){var b,c=[],d=0,p=0;u=!ma.detectDuplicates;B=!ma.sortStable&&a.slice(0);a.sort(V);if(u){for(;b=a[p++];)b===a[p]&&(d=c.push(p));for(;d--;)a.splice(c[d],
1)}B=null;return a};var na=b.getText=function(a){var b="",c=0;var d=a.nodeType;if(!d)for(;d=a[c++];)b+=na(d);else if(1===d||9===d||11===d){if("string"===typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)b+=na(a)}else if(3===d||4===d)return a.nodeValue;return b};var H=b.selectors={cacheLength:50,createPseudo:d,match:Fb,attrHandle:{},find:{},relative:{"\x3e":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},
preFilter:{ATTR:function(a){a[1]=a[1].replace(O,Y);a[3]=(a[3]||a[4]||a[5]||"").replace(O,Y);"~\x3d"===a[2]&&(a[3]=" "+a[3]+" ");return a.slice(0,4)},CHILD:function(a){a[1]=a[1].toLowerCase();"nth"===a[1].slice(0,3)?(a[3]||b.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&b.error(a[0]);return a},PSEUDO:function(a){var b,c=!a[6]&&a[2];if(Fb.CHILD.test(a[0]))return null;a[3]?a[2]=a[4]||a[5]||"":c&&E.test(c)&&(b=X(c,!0))&&(b=c.indexOf(")",
c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b));return a.slice(0,3)}},filter:{TAG:function(a){var b=a.replace(O,Y).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=Q[a+" "];return b||(b=new RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"),Q(a,function(a){return b.test("string"===typeof a.className&&a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}))},ATTR:function(a,
c,d){return function(p){p=b.attr(p,a);if(null==p)return"!\x3d"===c;if(!c)return!0;p+="";return"\x3d"===c?p===d:"!\x3d"===c?p!==d:"^\x3d"===c?d&&0===p.indexOf(d):"*\x3d"===c?d&&-1<p.indexOf(d):"$\x3d"===c?d&&p.slice(-d.length)===d:"~\x3d"===c?-1<(" "+p.replace(Ob," ")+" ").indexOf(d):"|\x3d"===c?p===d||p.slice(0,d.length+1)===d+"-":!1}},CHILD:function(a,b,c,d,p){var e="nth"!==a.slice(0,3),f="last"!==a.slice(-4),v="of-type"===b;return 1===d&&0===p?function(a){return!!a.parentNode}:function(b,c,g){var h,
k;c=e!==f?"nextSibling":"previousSibling";var m=b.parentNode,l=v&&b.nodeName.toLowerCase();g=!g&&!v;var n=!1;if(m){if(e){for(;c;){for(h=b;h=h[c];)if(v?h.nodeName.toLowerCase()===l:1===h.nodeType)return!1;var r=c="only"===a&&!r&&"nextSibling"}return!0}r=[f?m.firstChild:m.lastChild];if(f&&g){h=m;var I=h[N]||(h[N]={});I=I[h.uniqueID]||(I[h.uniqueID]={});n=I[a]||[];n=(k=n[0]===P&&n[1])&&n[2];for(h=k&&m.childNodes[k];h=++k&&h&&h[c]||(n=k=0)||r.pop();)if(1===h.nodeType&&++n&&h===b){I[a]=[P,k,n];break}}else if(g&&
(h=b,I=h[N]||(h[N]={}),I=I[h.uniqueID]||(I[h.uniqueID]={}),n=I[a]||[],n=k=n[0]===P&&n[1]),!1===n)for(;(h=++k&&h&&h[c]||(n=k=0)||r.pop())&&((v?h.nodeName.toLowerCase()!==l:1!==h.nodeType)||!++n||(g&&(I=h[N]||(h[N]={}),I=I[h.uniqueID]||(I[h.uniqueID]={}),I[a]=[P,n]),h!==b)););n-=p;return n===d||0===n%d&&0<=n/d}}},PSEUDO:function(a,c){var p=H.pseudos[a]||H.setFilters[a.toLowerCase()]||b.error("unsupported pseudo: "+a);if(p[N])return p(c);if(1<p.length){var e=[a,a,"",c];return H.setFilters.hasOwnProperty(a.toLowerCase())?
d(function(a,b){for(var d,e=p(a,c),f=e.length;f--;)d=pb(a,e[f]),a[d]=!(b[d]=e[f])}):function(a){return p(a,0,e)}}return p}},pseudos:{not:d(function(a){var b=[],c=[],p=ud(a.replace(Tb,"$1"));return p[N]?d(function(a,b,c,d){d=p(a,null,d,[]);for(var e=a.length;e--;)if(c=d[e])a[e]=!(b[e]=c)}):function(a,d,e){b[0]=a;p(b,null,e,c);b[0]=null;return!c.pop()}}),has:d(function(a){return function(c){return 0<b(a,c).length}}),contains:d(function(a){a=a.replace(O,Y);return function(b){return-1<(b.textContent||
b.innerText||na(b)).indexOf(a)}}),lang:d(function(a){wa.test(a||"")||b.error("unsupported lang: "+a);a=a.replace(O,Y).toLowerCase();return function(b){var c;do if(c=F?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===K},focus:function(a){return a===y.activeElement&&(!y.hasFocus||
y.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return!0===a.selected},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(6>a.nodeType)return!1;return!0},parent:function(a){return!H.pseudos.empty(a)},header:function(a){return fa.test(a.nodeName)},
input:function(a){return J.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;c<b;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;c<b;c+=2)a.push(c);
return a}),lt:k(function(a,b,c){for(b=0>c?c+b:c;0<=--b;)a.push(b);return a}),gt:k(function(a,b,c){for(c=0>c?c+b:c;++c<b;)a.push(c);return a})}};H.pseudos.nth=H.pseudos.eq;for(la in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})H.pseudos[la]=g(la);for(la in{submit:!0,reset:!0})H.pseudos[la]=h(la);l.prototype=H.filters=H.pseudos;H.setFilters=new l;var X=b.tokenize=function(a,c){var d,p,e,f,v;if(f=oc[a+" "])return c?0:f.slice(0);f=a;var h=[];for(v=H.preFilter;f;){if(!g||(d=M.exec(f)))d&&(f=f.slice(d[0].length)||
f),h.push(p=[]);var g=!1;if(d=T.exec(f))g=d.shift(),p.push({value:g,type:d[0].replace(Tb," ")}),f=f.slice(g.length);for(e in H.filter)!(d=Fb[e].exec(f))||v[e]&&!(d=v[e](d))||(g=d.shift(),p.push({value:g,type:e,matches:d}),f=f.slice(g.length));if(!g)break}return c?f.length:f?b.error(a):oc(a,h).slice(0)};var ud=b.compile=function(a,b){var c,d=[],p=[],e=vc[a+" "];if(!e){b||(b=X(a));for(c=b.length;c--;)e=A(b[c]),e[N]?d.push(e):p.push(e);e=vc(a,q(p,d));e.selector=a}return e};var pc=b.select=function(a,
b,c,d){var p,e,f,v="function"===typeof a&&a,g=!d&&X(a=v.selector||a);c=c||[];if(1===g.length){var h=g[0]=g[0].slice(0);if(2<h.length&&"ID"===(e=h[0]).type&&ma.getById&&9===b.nodeType&&F&&H.relative[h[1].type]){b=(H.find.ID(e.matches[0].replace(O,Y),b)||[])[0];if(!b)return c;v&&(b=b.parentNode);a=a.slice(h.shift().value.length)}for(p=Fb.needsContext.test(a)?0:h.length;p--;){e=h[p];if(H.relative[f=e.type])break;if(f=H.find[f])if(d=f(e.matches[0].replace(O,Y),ia.test(h[0].type)&&m(b.parentNode)||b)){h.splice(p,
1);a=d.length&&r(h);if(!a)return Xa.apply(c,d),c;break}}}(v||ud(a,g))(d,b,!F,c,!b||ia.test(a)&&m(b.parentNode)||b);return c};ma.sortStable=N.split("").sort(V).join("")===N;ma.detectDuplicates=!!u;ba();ma.sortDetached=p(function(a){return a.compareDocumentPosition(y.createElement("div"))&1});p(function(a){a.innerHTML="\x3ca href\x3d'#'\x3e\x3c/a\x3e";return"#"===a.firstChild.getAttribute("href")})||e("type|href|height|width",function(a,b,c){if(!c)return a.getAttribute(b,"type"===b.toLowerCase()?1:
2)});ma.attributes&&p(function(a){a.innerHTML="\x3cinput/\x3e";a.firstChild.setAttribute("value","");return""===a.firstChild.getAttribute("value")})||e("value",function(a,b,c){if(!c&&"input"===a.nodeName.toLowerCase())return a.defaultValue});p(function(a){return null==a.getAttribute("disabled")})||e("checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",function(a,b,c){var d;if(!c)return!0===a[b]?b.toLowerCase():(d=a.getAttributeNode(b))&&
d.specified?d.value:null});return b}(b);h.find=yb;h.expr=yb.selectors;h.expr[":"]=h.expr.pseudos;h.uniqueSort=h.unique=yb.uniqueSort;h.text=yb.getText;h.isXMLDoc=yb.isXML;h.contains=yb.contains;var zb=function(a,b,c){for(var d=[],p=void 0!==c;(a=a[b])&&9!==a.nodeType;)if(1===a.nodeType){if(p&&h(a).is(c))break;d.push(a)}return d},Eb=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},Sb=h.expr.match.needsContext,X=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,Ua=/^.[^:#\[\.,]*$/;
h.filter=function(a,b,c){var d=b[0];c&&(a=":not("+a+")");return 1===b.length&&1===d.nodeType?h.find.matchesSelector(d,a)?[d]:[]:h.find.matches(a,h.grep(b,function(a){return 1===a.nodeType}))};h.fn.extend({find:function(a){var b,c=[],d=this,p=d.length;if("string"!==typeof a)return this.pushStack(h(a).filter(function(){for(b=0;b<p;b++)if(h.contains(d[b],this))return!0}));for(b=0;b<p;b++)h.find(a,d[b],c);c=this.pushStack(1<p?h.unique(c):c);c.selector=this.selector?this.selector+" "+a:a;return c},filter:function(a){return this.pushStack(d(this,
a||[],!1))},not:function(a){return this.pushStack(d(this,a||[],!0))},is:function(a){return!!d(this,"string"===typeof a&&Sb.test(a)?h(a):a||[],!1).length}});var Tb=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(h.fn.init=function(a,b,c){if(!a)return this;c=c||Fb;if("string"===typeof a){var d="\x3c"===a.charAt(0)&&"\x3e"===a.charAt(a.length-1)&&3<=a.length?[null,a,null]:Tb.exec(a);if(!d||!d[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(d[1]){if(b=b instanceof h?b[0]:b,h.merge(this,
h.parseHTML(d[1],b&&b.nodeType?b.ownerDocument||b:J,!0)),X.test(d[1])&&h.isPlainObject(b))for(d in b)if(h.isFunction(this[d]))this[d](b[d]);else this.attr(d,b[d])}else{if((b=J.getElementById(d[2]))&&b.parentNode){if(b.id!==d[2])return Fb.find(a);this.length=1;this[0]=b}this.context=J;this.selector=a}return this}if(a.nodeType)return this.context=this[0]=a,this.length=1,this;if(h.isFunction(a))return"undefined"!==typeof c.ready?c.ready(a):a(h);void 0!==a.selector&&(this.selector=a.selector,this.context=
a.context);return h.makeArray(a,this)}).prototype=h.fn;var Fb=h(J);var Qc=/^(?:parents|prev(?:Until|All))/,pb={children:!0,contents:!0,next:!0,prev:!0};h.fn.extend({has:function(a){var b,c=h(a,this),d=c.length;return this.filter(function(){for(b=0;b<d;b++)if(h.contains(this,c[b]))return!0})},closest:function(a,b){for(var c,d=0,p=this.length,e=[],f=Sb.test(a)||"string"!==typeof a?h(a,b||this.context):0;d<p;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(11>c.nodeType&&(f?-1<f.index(c):1===c.nodeType&&
h.find.matchesSelector(c,a))){e.push(c);break}return this.pushStack(1<e.length?h.uniqueSort(e):e)},index:function(a){return a?"string"===typeof a?h.inArray(this[0],h(a)):h.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(h.uniqueSort(h.merge(this.get(),h(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});h.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?
a:null},parents:function(a){return zb(a,"parentNode")},parentsUntil:function(a,b,c){return zb(a,"parentNode",c)},next:function(a){return e(a,"nextSibling")},prev:function(a){return e(a,"previousSibling")},nextAll:function(a){return zb(a,"nextSibling")},prevAll:function(a){return zb(a,"previousSibling")},nextUntil:function(a,b,c){return zb(a,"nextSibling",c)},prevUntil:function(a,b,c){return zb(a,"previousSibling",c)},siblings:function(a){return Eb((a.parentNode||{}).firstChild,a)},children:function(a){return Eb(a.firstChild)},
contents:function(a){return h.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:h.merge([],a.childNodes)}},function(a,b){h.fn[a]=function(c,d){var e=h.map(this,b,c);"Until"!==a.slice(-5)&&(d=c);d&&"string"===typeof d&&(e=h.filter(d,e));1<this.length&&(pb[a]||(e=h.uniqueSort(e)),Qc.test(a)&&(e=e.reverse()));return this.pushStack(e)}});var Ja=/\S+/g;h.Callbacks=function(a){a="string"===typeof a?k(a):h.extend({},a);var b,c,d,e,p=[],f=[],g=-1,m=function(){e=a.once;for(d=b=!0;f.length;g=
-1)for(c=f.shift();++g<p.length;)!1===p[g].apply(c[0],c[1])&&a.stopOnFalse&&(g=p.length,c=!1);a.memory||(c=!1);b=!1;e&&(p=c?[]:"")},n={add:function(){p&&(c&&!b&&(g=p.length-1,f.push(c)),function lc(b){h.each(b,function(b,c){h.isFunction(c)?a.unique&&n.has(c)||p.push(c):c&&c.length&&"string"!==h.type(c)&&lc(c)})}(arguments),c&&!b&&m());return this},remove:function(){h.each(arguments,function(a,b){for(var c;-1<(c=h.inArray(b,p,c));)p.splice(c,1),c<=g&&g--});return this},has:function(a){return a?-1<
h.inArray(a,p):0<p.length},empty:function(){p&&(p=[]);return this},disable:function(){e=f=[];p=c="";return this},disabled:function(){return!p},lock:function(){e=!0;c||n.disable();return this},locked:function(){return!!e},fireWith:function(a,c){e||(c=c||[],c=[a,c.slice?c.slice():c],f.push(c),b||m());return this},fire:function(){n.fireWith(this,arguments);return this},fired:function(){return!!d}};return n};h.extend({Deferred:function(a){var b=[["resolve","done",h.Callbacks("once memory"),"resolved"],
["reject","fail",h.Callbacks("once memory"),"rejected"],["notify","progress",h.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){e.done(arguments).fail(arguments);return this},then:function(){var a=arguments;return h.Deferred(function(c){h.each(b,function(b,p){var f=h.isFunction(a[b])&&a[b];e[p[1]](function(){var a=f&&f.apply(this,arguments);if(a&&h.isFunction(a.promise))a.promise().progress(c.notify).done(c.resolve).fail(c.reject);else c[p[0]+"With"](this===d?c.promise():
this,f?[a]:arguments)})});a=null}).promise()},promise:function(a){return null!=a?h.extend(a,d):d}},e={};d.pipe=d.then;h.each(b,function(a,p){var f=p[2],g=p[3];d[p[1]]=f.add;g&&f.add(function(){c=g},b[a^1][2].disable,b[2][2].lock);e[p[0]]=function(){e[p[0]+"With"](this===e?d:this,arguments);return this};e[p[0]+"With"]=f.fireWith});d.promise(e);a&&a.call(e,e);return e},when:function(a){var b=0,c=ub.call(arguments),d=c.length,e=1!==d||a&&h.isFunction(a.promise)?d:0,p=1===e?a:h.Deferred(),f=function(a,
b,c){return function(d){b[a]=this;c[a]=1<arguments.length?ub.call(arguments):d;c===k?p.notifyWith(b,c):--e||p.resolveWith(b,c)}},g;if(1<d){var k=Array(d);var m=Array(d);for(g=Array(d);b<d;b++)c[b]&&h.isFunction(c[b].promise)?c[b].promise().progress(f(b,m,k)).done(f(b,g,c)).fail(p.reject):--e}e||p.resolveWith(g,c);return p.promise()}});var qb;h.fn.ready=function(a){h.ready.promise().done(a);return this};h.extend({isReady:!1,readyWait:1,holdReady:function(a){a?h.readyWait++:h.ready(!0)},ready:function(a){(!0===
a?--h.readyWait:h.isReady)||(h.isReady=!0,!0!==a&&0<--h.readyWait||(qb.resolveWith(J,[h]),h.fn.triggerHandler&&(h(J).triggerHandler("ready"),h(J).off("ready"))))}});h.ready.promise=function(a){if(!qb)if(qb=h.Deferred(),"complete"===J.readyState||"loading"!==J.readyState&&!J.documentElement.doScroll)b.setTimeout(h.ready);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",f),b.addEventListener("load",f);else{J.attachEvent("onreadystatechange",f);b.attachEvent("onload",f);var c=!1;try{c=
null==b.frameElement&&J.documentElement}catch(I){}c&&c.doScroll&&function Ta(){if(!h.isReady){try{c.doScroll("left")}catch(dd){return b.setTimeout(Ta,50)}l();h.ready()}}()}return qb.promise(a)};h.ready.promise();for(var Ka in h(E))break;E.ownFirst="0"===Ka;E.inlineBlockNeedsLayout=!1;h(function(){var a;if((a=J.getElementsByTagName("body")[0])&&a.style){var b=J.createElement("div");var c=J.createElement("div");c.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";a.appendChild(c).appendChild(b);
"undefined"!==typeof b.style.zoom&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",E.inlineBlockNeedsLayout=b=3===b.offsetWidth)&&(a.style.zoom=1);a.removeChild(c)}});(function(){var a=J.createElement("div");E.deleteExpando=!0;try{delete a.test}catch(v){E.deleteExpando=!1}})();var Pa=function(a){var b=h.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||!0!==b&&a.getAttribute("classid")===b},Xd=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Wd=/([A-Z])/g;
h.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){a=a.nodeType?h.cache[a[h.expando]]:a[h.expando];return!!a&&!r(a)},data:function(a,b,c){return g(a,b,c)},removeData:function(a,b){return n(a,b)},_data:function(a,b,c){return g(a,b,c,!0)},_removeData:function(a,b){return n(a,b,!0)}});h.fn.extend({data:function(a,b){var c,d=this[0],e=d&&d.attributes;if(void 0===a){if(this.length){var p=h.data(d);if(1===d.nodeType&&!h._data(d,
"parsedAttrs")){for(c=e.length;c--;)if(e[c]){var f=e[c].name;0===f.indexOf("data-")&&(f=h.camelCase(f.slice(5)),m(d,f,p[f]))}h._data(d,"parsedAttrs",!0)}}return p}return"object"===typeof a?this.each(function(){h.data(this,a)}):1<arguments.length?this.each(function(){h.data(this,a,b)}):d?m(d,a,h.data(d,a)):void 0},removeData:function(a){return this.each(function(){h.removeData(this,a)})}});h.extend({queue:function(a,b,c){if(a){b=(b||"fx")+"queue";var d=h._data(a,b);c&&(!d||h.isArray(c)?d=h._data(a,
b,h.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||"fx";var c=h.queue(a,b),d=c.length,e=c.shift(),p=h._queueHooks(a,b),f=function(){h.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--);e&&("fx"===b&&c.unshift("inprogress"),delete p.stop,e.call(a,f,p));!d&&p&&p.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return h._data(a,c)||h._data(a,c,{empty:h.Callbacks("once memory").add(function(){h._removeData(a,b+"queue");h._removeData(a,c)})})}});h.fn.extend({queue:function(a,
b){var c=2;"string"!==typeof a&&(b=a,a="fx",c--);return arguments.length<c?h.queue(this[0],a):void 0===b?this:this.each(function(){var c=h.queue(this,a,b);h._queueHooks(this,a);"fx"===a&&"inprogress"!==c[0]&&h.dequeue(this,a)})},dequeue:function(a){return this.each(function(){h.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=h.Deferred(),p=this,f=this.length,g=function(){--d||e.resolveWith(p,[p])};"string"!==typeof a&&(b=a,a=void 0);for(a=
a||"fx";f--;)(c=h._data(p[f],a+"queueHooks"))&&c.empty&&(d++,c.empty.add(g));g();return e.promise(b)}});(function(){var a;E.shrinkWrapBlocks=function(){if(null!=a)return a;a=!1;var b;if((b=J.getElementsByTagName("body")[0])&&b.style){var c=J.createElement("div");var d=J.createElement("div");d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px";b.appendChild(d).appendChild(c);"undefined"!==typeof c.style.zoom&&(c.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",
c.appendChild(J.createElement("div")).style.width="5px",a=3!==c.offsetWidth);b.removeChild(d);return a}}})();var La=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Kc=new RegExp("^(?:([+-])\x3d|)("+La+")([a-z%]*)$","i"),Wa=["Top","Right","Bottom","Left"],Zb=function(a,b){a=b||a;return"none"===h.css(a,"display")||!h.contains(a.ownerDocument,a)},eb=function(a,b,c,d,e,f,g){var p=0,v=a.length,k=null==c;if("object"===h.type(c))for(p in e=!0,c)eb(a,b,p,c[p],!0,f,g);else if(void 0!==d&&(e=!0,h.isFunction(d)||
(g=!0),k&&(g?(b.call(a,d),b=null):(k=b,b=function(a,b,c){return k.call(h(a),c)})),b))for(;p<v;p++)b(a[p],c,g?d:d.call(a[p],p,b(a[p],c)));return e?a:k?b.call(a):v?b(a[0],c):f},Lc=/^(?:checkbox|radio)$/i,ra=/<([\w:-]+)/,pa=/^$|\/(?:java|ecma)script/i,Mb=/^\s+/;(function(){var a=J.createElement("div"),b=J.createDocumentFragment(),c=J.createElement("input");a.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";E.leadingWhitespace=3===
a.firstChild.nodeType;E.tbody=!a.getElementsByTagName("tbody").length;E.htmlSerialize=!!a.getElementsByTagName("link").length;E.html5Clone="\x3c:nav\x3e\x3c/:nav\x3e"!==J.createElement("nav").cloneNode(!0).outerHTML;c.type="checkbox";c.checked=!0;b.appendChild(c);E.appendChecked=c.checked;a.innerHTML="\x3ctextarea\x3ex\x3c/textarea\x3e";E.noCloneChecked=!!a.cloneNode(!0).lastChild.defaultValue;a.innerHTML="\x3coption\x3e\x3c/option\x3e";E.option=!!a.lastChild;b.appendChild(a);c=J.createElement("input");
c.setAttribute("type","radio");c.setAttribute("checked","checked");c.setAttribute("name","t");a.appendChild(c);E.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked;E.noCloneEvent=!!a.addEventListener;a[h.expando]=1;E.attributes=!a.getAttribute(h.expando)})();var Va={legend:[1,"\x3cfieldset\x3e","\x3c/fieldset\x3e"],area:[1,"\x3cmap\x3e","\x3c/map\x3e"],param:[1,"\x3cobject\x3e","\x3c/object\x3e"],thead:[1,"\x3ctable\x3e","\x3c/table\x3e"],tr:[2,"\x3ctable\x3e\x3ctbody\x3e","\x3c/tbody\x3e\x3c/table\x3e"],
col:[2,"\x3ctable\x3e\x3ctbody\x3e\x3c/tbody\x3e\x3ccolgroup\x3e","\x3c/colgroup\x3e\x3c/table\x3e"],td:[3,"\x3ctable\x3e\x3ctbody\x3e\x3ctr\x3e","\x3c/tr\x3e\x3c/tbody\x3e\x3c/table\x3e"],_default:E.htmlSerialize?[0,"",""]:[1,"X\x3cdiv\x3e","\x3c/div\x3e"]};Va.tbody=Va.tfoot=Va.colgroup=Va.caption=Va.thead;Va.th=Va.td;E.option||(Va.optgroup=Va.option=[1,"\x3cselect multiple\x3d'multiple'\x3e","\x3c/select\x3e"]);var be=/<|&#?\w+;/,Yb=/<tbody/i;(function(){var a,c=J.createElement("div");for(a in{submit:!0,
change:!0,focusin:!0}){var d="on"+a;(E[a]=d in b)||(c.setAttribute(d,"t"),E[a]=!1===c.attributes[d].expando)}})();var bc=/^(?:input|select|textarea)$/i,Aa=/^key/,Gb=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fb=/^(?:focusinfocus|focusoutblur)$/,Rc=/^([^.]*)(?:\.(.+)|)/;h.event={global:{},add:function(a,b,c,d,e){var p,f,g,k,v;if(f=h._data(a)){if(c.handler){var m=c;c=m.handler;e=m.selector}c.guid||(c.guid=h.guid++);(p=f.events)||(p=f.events={});(g=f.handle)||(g=f.handle=function(a){return"undefined"===
typeof h||a&&h.event.triggered===a.type?void 0:h.event.dispatch.apply(g.elem,arguments)},g.elem=a);b=(b||"").match(Ja)||[""];for(f=b.length;f--;){var n=Rc.exec(b[f])||[];var l=k=n[1];var r=(n[2]||"").split(".").sort();l&&(n=h.event.special[l]||{},l=(e?n.delegateType:n.bindType)||l,n=h.event.special[l]||{},k=h.extend({type:l,origType:k,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&h.expr.match.needsContext.test(e),namespace:r.join(".")},m),(v=p[l])||(v=p[l]=[],v.delegateCount=0,n.setup&&
!1!==n.setup.call(a,d,r,g)||(a.addEventListener?a.addEventListener(l,g,!1):a.attachEvent&&a.attachEvent("on"+l,g))),n.add&&(n.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?v.splice(v.delegateCount++,0,k):v.push(k),h.event.global[l]=!0)}a=null}},remove:function(a,b,c,d,e){var p,f,g,k,v,m=h.hasData(a)&&h._data(a);if(m&&(k=m.events)){b=(b||"").match(Ja)||[""];for(g=b.length;g--;){var n=Rc.exec(b[g])||[];var l=v=n[1];var r=(n[2]||"").split(".").sort();if(l){var w=h.event.special[l]||{};l=(d?
w.delegateType:w.bindType)||l;var ja=k[l]||[];n=n[2]&&new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)");for(f=p=ja.length;p--;){var I=ja[p];!e&&v!==I.origType||c&&c.guid!==I.guid||n&&!n.test(I.namespace)||d&&d!==I.selector&&("**"!==d||!I.selector)||(ja.splice(p,1),I.selector&&ja.delegateCount--,w.remove&&w.remove.call(a,I))}f&&!ja.length&&(w.teardown&&!1!==w.teardown.call(a,r,m.handle)||h.removeEvent(a,l,m.handle),delete k[l])}else for(l in k)h.event.remove(a,l+b[g],c,d,!0)}h.isEmptyObject(k)&&
(delete m.handle,h._removeData(a,"events"))}},trigger:function(a,c,d,e){var p,f,g=[d||J],k=na.call(a,"type")?a.type:a;var v=na.call(a,"namespace")?a.namespace.split("."):[];var m=p=d=d||J;if(3!==d.nodeType&&8!==d.nodeType&&!fb.test(k+h.event.triggered)){-1<k.indexOf(".")&&(v=k.split("."),k=v.shift(),v.sort());var n=0>k.indexOf(":")&&"on"+k;a=a[h.expando]?a:new h.Event(k,"object"===typeof a&&a);a.isTrigger=e?2:3;a.namespace=v.join(".");a.rnamespace=a.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+
"(\\.|$)"):null;a.result=void 0;a.target||(a.target=d);c=null==c?[a]:h.makeArray(c,[a]);v=h.event.special[k]||{};if(e||!v.trigger||!1!==v.trigger.apply(d,c)){if(!e&&!v.noBubble&&!h.isWindow(d)){var l=v.delegateType||k;fb.test(l+k)||(m=m.parentNode);for(;m;m=m.parentNode)g.push(m),p=m;p===(d.ownerDocument||J)&&g.push(p.defaultView||p.parentWindow||b)}for(f=0;(m=g[f++])&&!a.isPropagationStopped();)a.type=1<f?l:v.bindType||k,(p=(h._data(m,"events")||{})[a.type]&&h._data(m,"handle"))&&p.apply(m,c),(p=
n&&m[n])&&p.apply&&Pa(m)&&(a.result=p.apply(m,c),!1===a.result&&a.preventDefault());a.type=k;if(!(e||a.isDefaultPrevented()||v._default&&!1!==v._default.apply(g.pop(),c))&&Pa(d)&&n&&d[k]&&!h.isWindow(d)){(p=d[n])&&(d[n]=null);h.event.triggered=k;try{d[k]()}catch(lc){}h.event.triggered=void 0;p&&(d[n]=p)}return a.result}}},dispatch:function(a){a=h.event.fix(a);var b,c,d,e=ub.call(arguments);var p=(h._data(this,"events")||{})[a.type]||[];var f=h.event.special[a.type]||{};e[0]=a;a.delegateTarget=this;
if(!f.preDispatch||!1!==f.preDispatch.call(this,a)){var g=h.event.handlers.call(this,a,p);for(p=0;(d=g[p++])&&!a.isPropagationStopped();)for(a.currentTarget=d.elem,b=0;(c=d.handlers[b++])&&!a.isImmediatePropagationStopped();)if(!a.rnamespace||a.rnamespace.test(c.namespace))a.handleObj=c,a.data=c.data,c=((h.event.special[c.origType]||{}).handle||c.handler).apply(d.elem,e),void 0!==c&&!1===(a.result=c)&&(a.preventDefault(),a.stopPropagation());f.postDispatch&&f.postDispatch.call(this,a);return a.result}},
handlers:function(a,b){var c,d=[],e=b.delegateCount,p=a.target;if(e&&p.nodeType&&("click"!==a.type||isNaN(a.button)||1>a.button))for(;p!=this;p=p.parentNode||this)if(1===p.nodeType&&(!0!==p.disabled||"click"!==a.type)){var f=[];for(c=0;c<e;c++){var g=b[c];var k=g.selector+" ";void 0===f[k]&&(f[k]=g.needsContext?-1<h(k,this).index(p):h.find(k,this,null,[p]).length);f[k]&&f.push(g)}f.length&&d.push({elem:p,handlers:f})}e<b.length&&d.push({elem:this,handlers:b.slice(e)});return d},fix:function(a){if(a[h.expando])return a;
var b=a.type;var c=a,d=this.fixHooks[b];d||(this.fixHooks[b]=d=Gb.test(b)?this.mouseHooks:Aa.test(b)?this.keyHooks:{});var e=d.props?this.props.concat(d.props):this.props;a=new h.Event(c);for(b=e.length;b--;){var p=e[b];a[p]=c[p]}a.target||(a.target=c.srcElement||J);3===a.target.nodeType&&(a.target=a.target.parentNode);a.metaKey=!!a.metaKey;return d.filter?d.filter(a,c):a},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
fixHooks:{},keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,b){null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode);return a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c=b.button,d=b.fromElement;if(null==a.pageX&&null!=b.clientX){var e=a.target.ownerDocument||J;var p=e.documentElement;e=e.body;a.pageX=b.clientX+(p&&p.scrollLeft||e&&e.scrollLeft||0)-(p&&p.clientLeft||
e&&e.clientLeft||0);a.pageY=b.clientY+(p&&p.scrollTop||e&&e.scrollTop||0)-(p&&p.clientTop||e&&e.clientTop||0)}!a.relatedTarget&&d&&(a.relatedTarget=d===a.target?b.toElement:d);a.which||void 0===c||(a.which=c&1?1:c&2?3:c&4?2:0);return a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==G()&&this.focus)try{return this.focus(),!1}catch(p){}},delegateType:"focusin"},blur:{trigger:function(){if(this===G()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(h.nodeName(this,
"input")&&"checkbox"===this.type&&this.click)return this.click(),!1},_default:function(a){return h.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c){a=h.extend(new h.Event,c,{type:a,isSimulated:!0});h.event.trigger(a,null,b);a.isDefaultPrevented()&&c.preventDefault()}};h.removeEvent=J.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)}:function(a,
b,c){b="on"+b;a.detachEvent&&("undefined"===typeof a[b]&&(a[b]=null),a.detachEvent(b,c))};h.Event=function(a,b){if(!(this instanceof h.Event))return new h.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?P:A):this.type=a;b&&h.extend(this,b);this.timeStamp=a&&a.timeStamp||h.now();this[h.expando]=!0};h.Event.prototype={constructor:h.Event,isDefaultPrevented:A,isPropagationStopped:A,isImmediatePropagationStopped:A,
preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=P;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=P;a&&!this.isSimulated&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=P;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}};h.each({mouseenter:"mouseover",
mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){h.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=a.relatedTarget,d=a.handleObj;if(!c||c!==this&&!h.contains(this,c)){a.type=d.origType;var e=d.handler.apply(this,arguments);a.type=b}return e}}});E.submit||(h.event.special.submit={setup:function(){if(h.nodeName(this,"form"))return!1;h.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=h.nodeName(a,"input")||h.nodeName(a,
"button")?h.prop(a,"form"):void 0)&&!h._data(a,"submit")&&(h.event.add(a,"submit._submit",function(a){a._submitBubble=!0}),h._data(a,"submit",!0))})},postDispatch:function(a){a._submitBubble&&(delete a._submitBubble,this.parentNode&&!a.isTrigger&&h.event.simulate("submit",this.parentNode,a))},teardown:function(){if(h.nodeName(this,"form"))return!1;h.event.remove(this,"._submit")}});E.change||(h.event.special.change={setup:function(){if(bc.test(this.nodeName)){if("checkbox"===this.type||"radio"===
this.type)h.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._justChanged=!0)}),h.event.add(this,"click._change",function(a){this._justChanged&&!a.isTrigger&&(this._justChanged=!1);h.event.simulate("change",this,a)});return!1}h.event.add(this,"beforeactivate._change",function(a){a=a.target;bc.test(a.nodeName)&&!h._data(a,"change")&&(h.event.add(a,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||h.event.simulate("change",
this.parentNode,a)}),h._data(a,"change",!0))})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){h.event.remove(this,"._change");return!bc.test(this.nodeName)}});E.focusin||h.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){h.event.simulate(b,a.target,h.event.fix(a))};h.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=h._data(d,
b);e||d.addEventListener(a,c,!0);h._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=h._data(d,b)-1;e?h._data(d,b,e):(d.removeEventListener(a,c,!0),h._removeData(d,b))}}});h.fn.extend({on:function(a,b,c,d){return M(this,a,b,c,d)},one:function(a,b,c,d){return M(this,a,b,c,d,1)},off:function(a,b,c){if(a&&a.preventDefault&&a.handleObj){var d=a.handleObj;h(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler);return this}if("object"===typeof a){for(d in a)this.off(d,
b,a[d]);return this}if(!1===b||"function"===typeof b)c=b,b=void 0;!1===c&&(c=A);return this.each(function(){h.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){h.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];if(c)return h.event.trigger(a,b,c,!0)}});var cc=/ jQuery\d+="(?:null|\d+)"/g,ta=/<(?:abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video)[\s/>]/i,
sd=/<script|<style|<link/i,gd=/checked\s*(?:[^=]|=\s*.checked.)/i,fd=/^true\/(.*)/,hd=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,uc=y(J).appendChild(J.createElement("div"));h.extend({htmlPrefilter:function(a){return a},clone:function(a,b,c){var d,e,p=h.contains(a.ownerDocument,a);if(E.html5Clone||h.isXMLDoc(a)||!ta.test("\x3c"+a.nodeName+"\x3e"))var f=a.cloneNode(!0);else uc.innerHTML=a.outerHTML,uc.removeChild(f=uc.firstChild);if(!(E.noCloneEvent&&E.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||
h.isXMLDoc(a))){var g=D(f);var k=D(a);for(e=0;null!=(d=k[e]);++e)if(g[e]){var m=void 0,n=d,l=g[e];if(1===l.nodeType){var v=l.nodeName.toLowerCase();if(!E.noCloneEvent&&l[h.expando]){d=h._data(l);for(m in d.events)h.removeEvent(l,m,d.handle);l.removeAttribute(h.expando)}if("script"===v&&l.text!==n.text)O(l).text=n.text,S(l);else if("object"===v)l.parentNode&&(l.outerHTML=n.outerHTML),E.html5Clone&&n.innerHTML&&!h.trim(l.innerHTML)&&(l.innerHTML=n.innerHTML);else if("input"===v&&Lc.test(n.type))l.defaultChecked=
l.checked=n.checked,l.value!==n.value&&(l.value=n.value);else if("option"===v)l.defaultSelected=l.selected=n.defaultSelected;else if("input"===v||"textarea"===v)l.defaultValue=n.defaultValue}}}if(b)if(c)for(k=k||D(a),g=g||D(f),e=0;null!=(d=k[e]);e++)H(d,g[e]);else H(a,f);g=D(f,"script");0<g.length&&w(g,!p&&D(a,"script"));return f},cleanData:function(a,b){for(var c,d,e,p,f=0,g=h.expando,k=h.cache,m=E.attributes,n=h.event.special;null!=(c=a[f]);f++)if(b||Pa(c))if(p=(e=c[g])&&k[e]){if(p.events)for(d in p.events)n[d]?
h.event.remove(c,d):h.removeEvent(c,d,p.handle);k[e]&&(delete k[e],m||"undefined"===typeof c.removeAttribute?c[g]=void 0:c.removeAttribute(g),mb.push(e))}}});h.fn.extend({domManip:K,detach:function(a){return C(this,a,!0)},remove:function(a){return C(this,a)},text:function(a){return eb(this,function(a){return void 0===a?h.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(a))},null,a,arguments.length)},append:function(){return K(this,arguments,function(a){1!==this.nodeType&&
11!==this.nodeType&&9!==this.nodeType||fa(this,a).appendChild(a)})},prepend:function(){return K(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=fa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return K(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=
(a=this[b]);b++){for(1===a.nodeType&&h.cleanData(D(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&h.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){a=null==a?!1:a;b=null==b?a:b;return this.map(function(){return h.clone(this,a,b)})},html:function(a){return eb(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a)return 1===b.nodeType?b.innerHTML.replace(cc,""):void 0;if(!("string"!==typeof a||sd.test(a)||!E.htmlSerialize&&ta.test(a)||!E.leadingWhitespace&&
Mb.test(a)||Va[(ra.exec(a)||["",""])[1].toLowerCase()])){a=h.htmlPrefilter(a);try{for(;c<d;c++)b=this[c]||{},1===b.nodeType&&(h.cleanData(D(b,!1)),b.innerHTML=a);b=0}catch(Yd){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return K(this,arguments,function(b){var c=this.parentNode;0>h.inArray(this,a)&&(h.cleanData(D(this)),c&&c.replaceChild(b,this))},a)}});h.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},
function(a,b){h.fn[a]=function(a){for(var c=0,d=[],e=h(a),f=e.length-1;c<=f;c++)a=c===f?this:this.clone(!0),h(e[c])[b](a),Nc.apply(d,a.get());return this.pushStack(d)}});var Nb,mc={HTML:"block",BODY:"block"},td=/^margin/,nc=new RegExp("^("+La+")(?!px)[a-z%]+$","i"),Sc=function(a,b,c,d){var e,f={};for(e in b)f[e]=a.style[e],a.style[e]=b[e];c=c.apply(a,d||[]);for(e in b)a.style[e]=f[e];return c},rb=J.documentElement;(function(){function a(){var a=J.documentElement;a.appendChild(m);n.style.cssText="-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%";
c=e=k=!1;d=g=!0;if(b.getComputedStyle){var p=b.getComputedStyle(n);c="1%"!==(p||{}).top;k="2px"===(p||{}).marginLeft;e="4px"===(p||{width:"4px"}).width;n.style.marginRight="50%";d="4px"===(p||{marginRight:"4px"}).marginRight;p=n.appendChild(J.createElement("div"));p.style.cssText=n.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0";p.style.marginRight=p.style.width="0";n.style.width="1px";g=!parseFloat((b.getComputedStyle(p)||
{}).marginRight);n.removeChild(p)}n.style.display="none";if(f=0===n.getClientRects().length)if(n.style.display="",n.innerHTML="\x3ctable\x3e\x3ctr\x3e\x3ctd\x3e\x3c/td\x3e\x3ctd\x3et\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e",n.childNodes[0].style.borderCollapse="separate",p=n.getElementsByTagName("td"),p[0].style.cssText="margin:0;border:0;padding:0;display:none",f=0===p[0].offsetHeight)p[0].style.display="",p[1].style.display="none",f=0===p[0].offsetHeight;a.removeChild(m)}var c,d,e,f,g,k,m=J.createElement("div"),
n=J.createElement("div");n.style&&(n.style.cssText="float:left;opacity:.5",E.opacity="0.5"===n.style.opacity,E.cssFloat=!!n.style.cssFloat,n.style.backgroundClip="content-box",n.cloneNode(!0).style.backgroundClip="",E.clearCloneStyle="content-box"===n.style.backgroundClip,m=J.createElement("div"),m.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",n.innerHTML="",m.appendChild(n),E.boxSizing=""===n.style.boxSizing||""===n.style.MozBoxSizing||
""===n.style.WebkitBoxSizing,h.extend(E,{reliableHiddenOffsets:function(){null==c&&a();return f},boxSizingReliable:function(){null==c&&a();return e},pixelMarginRight:function(){null==c&&a();return d},pixelPosition:function(){null==c&&a();return c},reliableMarginRight:function(){null==c&&a();return g},reliableMarginLeft:function(){null==c&&a();return k}}))})();var vc=/^(top|right|bottom|left)$/;if(b.getComputedStyle){var Ga=function(a){var c=a.ownerDocument.defaultView;c&&c.opener||(c=b);return c.getComputedStyle(a)};
var nb=function(a,b,c){var d=a.style;var e=(c=c||Ga(a))?c.getPropertyValue(b)||c[b]:void 0;""!==e&&void 0!==e||h.contains(a.ownerDocument,a)||(e=h.style(a,b));if(c&&!E.pixelMarginRight()&&nc.test(e)&&td.test(b)){a=d.width;b=d.minWidth;var f=d.maxWidth;d.minWidth=d.maxWidth=d.width=e;e=c.width;d.width=a;d.minWidth=b;d.maxWidth=f}return void 0===e?e:e+""}}else rb.currentStyle&&(Ga=function(a){return a.currentStyle},nb=function(a,b,c){var d,e,f=a.style;var p=(c=c||Ga(a))?c[b]:void 0;null==p&&f&&f[b]&&
(p=f[b]);if(nc.test(p)&&!vc.test(b)){c=f.left;if(e=(d=a.runtimeStyle)&&d.left)d.left=a.currentStyle.left;f.left="fontSize"===b?"1em":p;p=f.pixelLeft+"px";f.left=c;e&&(d.left=e)}return void 0===p?p:p+""||"auto"});var q=/alpha\([^)]*\)/i,ud=/opacity\s*=\s*([^)]*)/i,Ng=/^(none|table(?!-c[ea]).+)/,da=new RegExp("^("+La+")(.*)$","i"),Og={position:"absolute",visibility:"hidden",display:"block"},wf={letterSpacing:"0",fontWeight:"400"},Ye=["Webkit","O","Moz","ms"],Xe=J.createElement("div").style;h.extend({cssHooks:{opacity:{get:function(a,
b){if(b)return a=nb(a,"opacity"),""===a?"1":a}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":E.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f=h.camelCase(b),p=a.style;b=h.cssProps[f]||(h.cssProps[f]=ha(f)||f);var g=h.cssHooks[b]||h.cssHooks[f];if(void 0!==c){var k=typeof c;"string"===
k&&(e=Kc.exec(c))&&e[1]&&(c=x(a,b,e),k="number");if(null!=c&&c===c&&("number"===k&&(c+=e&&e[3]||(h.cssNumber[f]?"":"px")),E.clearCloneStyle||""!==c||0!==b.indexOf("background")||(p[b]="inherit"),!(g&&"set"in g)||void 0!==(c=g.set(a,c,d))))try{p[b]=c}catch($d){}}else return g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:p[b]}},css:function(a,b,c,d){var e;var f=h.camelCase(b);b=h.cssProps[f]||(h.cssProps[f]=ha(f)||f);(f=h.cssHooks[b]||h.cssHooks[f])&&"get"in f&&(e=f.get(a,!0,c));void 0===e&&(e=nb(a,b,d));
"normal"===e&&b in wf&&(e=wf[b]);return""===c||c?(a=parseFloat(e),!0===c||isFinite(a)?a||0:e):e}});h.each(["height","width"],function(a,b){h.cssHooks[b]={get:function(a,c,d){if(c)return Ng.test(h.css(a,"display"))&&0===a.offsetWidth?Sc(a,Og,function(){return R(a,b,d)}):R(a,b,d)},set:function(a,c,d){var e=d&&Ga(a);return Y(a,c,d?ka(a,b,d,E.boxSizing&&"border-box"===h.css(a,"boxSizing",!1,e),e):0)}}});E.opacity||(h.cssHooks.opacity={get:function(a,b){return ud.test((b&&a.currentStyle?a.currentStyle.filter:
a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style;a=a.currentStyle;var d=h.isNumeric(b)?"alpha(opacity\x3d"+100*b+")":"",e=a&&a.filter||c.filter||"";c.zoom=1;if((1<=b||""===b)&&""===h.trim(e.replace(q,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||a&&!a.filter))return;c.filter=q.test(e)?e.replace(q,d):e+" "+d}});h.cssHooks.marginRight=T(E.reliableMarginRight,function(a,b){if(b)return Sc(a,{display:"inline-block"},nb,[a,"marginRight"])});h.cssHooks.marginLeft=
T(E.reliableMarginLeft,function(a,b){if(b)return(parseFloat(nb(a,"marginLeft"))||(h.contains(a.ownerDocument,a)?a.getBoundingClientRect().left-Sc(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}):0))+"px"});h.each({margin:"",padding:"",border:"Width"},function(a,b){h.cssHooks[a+b]={expand:function(c){var d=0,e={};for(c="string"===typeof c?c.split(" "):[c];4>d;d++)e[a+Wa[d]+b]=c[d]||c[d-2]||c[0];return e}};td.test(a)||(h.cssHooks[a+b].set=Y)});h.fn.extend({css:function(a,b){return eb(this,
function(a,b,c){var d,e={},f=0;if(h.isArray(b)){c=Ga(a);for(d=b.length;f<d;f++)e[b[f]]=h.css(a,b[f],!1,c);return e}return void 0!==c?h.style(a,b,c):h.css(a,b)},a,b,1<arguments.length)},show:function(){return ia(this,!0)},hide:function(){return ia(this)},toggle:function(a){return"boolean"===typeof a?a?this.show():this.hide():this.each(function(){Zb(this)?h(this).show():h(this).hide()})}});h.Tween=aa;aa.prototype={constructor:aa,init:function(a,b,c,d,e,f){this.elem=a;this.prop=c;this.easing=e||h.easing._default;
this.options=b;this.start=this.now=this.cur();this.end=d;this.unit=f||(h.cssNumber[c]?"":"px")},cur:function(){var a=aa.propHooks[this.prop];return a&&a.get?a.get(this):aa.propHooks._default.get(this)},run:function(a){var b,c=aa.propHooks[this.prop];this.pos=this.options.duration?b=h.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):b=a;this.now=(this.end-this.start)*b+this.start;this.options.step&&this.options.step.call(this.elem,this.now,this);c&&c.set?c.set(this):aa.propHooks._default.set(this);
return this}};aa.prototype.init.prototype=aa.prototype;aa.propHooks={_default:{get:function(a){return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(a=h.css(a.elem,a.prop,""))&&"auto"!==a?a:0},set:function(a){if(h.fx.step[a.prop])h.fx.step[a.prop](a);else 1!==a.elem.nodeType||null==a.elem.style[h.cssProps[a.prop]]&&!h.cssHooks[a.prop]?a.elem[a.prop]=a.now:h.style(a.elem,a.prop,a.now+a.unit)}}};aa.propHooks.scrollTop=aa.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&
a.elem.parentNode&&(a.elem[a.prop]=a.now)}};h.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"};h.fx=aa.prototype.init;h.fx.step={};var Ha,vd,Pg=/^(?:toggle|show|hide)$/,Qg=/queueHooks$/;h.Animation=h.extend(u,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);x(c.elem,a,Kc.exec(b),c);return c}]},tweener:function(a,b){h.isFunction(a)?(b=a,a=["*"]):a=a.match(Ja);for(var c,d=0,e=a.length;d<e;d++)c=a[d],u.tweeners[c]=u.tweeners[c]||[],u.tweeners[c].unshift(b)},
prefilters:[function(a,b,c){var d,e=this,f={},g=a.style,p=a.nodeType&&Zb(a),k=h._data(a,"fxshow");if(!c.queue){var m=h._queueHooks(a,"fx");if(null==m.unqueued){m.unqueued=0;var n=m.empty.fire;m.empty.fire=function(){m.unqueued||n()}}m.unqueued++;e.always(function(){e.always(function(){m.unqueued--;h.queue(a,"fx").length||m.empty.fire()})})}if(1===a.nodeType&&("height"in b||"width"in b)){c.overflow=[g.overflow,g.overflowX,g.overflowY];var l=h.css(a,"display");var r="none"===l?h._data(a,"olddisplay")||
U(a.nodeName):l;"inline"===r&&"none"===h.css(a,"float")&&(E.inlineBlockNeedsLayout&&"inline"!==U(a.nodeName)?g.zoom=1:g.display="inline-block")}c.overflow&&(g.overflow="hidden",E.shrinkWrapBlocks()||e.always(function(){g.overflow=c.overflow[0];g.overflowX=c.overflow[1];g.overflowY=c.overflow[2]}));for(d in b)if(r=b[d],Pg.exec(r)){delete b[d];var w=w||"toggle"===r;if(r===(p?"hide":"show"))if("show"===r&&k&&void 0!==k[d])p=!0;else continue;f[d]=k&&k[d]||h.style(a,d)}else l=void 0;if(h.isEmptyObject(f))"inline"===
("none"===l?U(a.nodeName):l)&&(g.display=l);else for(d in k?"hidden"in k&&(p=k.hidden):k=h._data(a,"fxshow",{}),w&&(k.hidden=!p),p?h(a).show():e.done(function(){h(a).hide()}),e.done(function(){var b;h._removeData(a,"fxshow");for(b in f)h.style(a,b,f[b])}),f)b=sa(p?k[d]:0,d,e),d in k||(k[d]=b.start,p&&(b.end=b.start,b.start="width"===d||"height"===d?1:0))}],prefilter:function(a,b){b?u.prefilters.unshift(a):u.prefilters.push(a)}});h.speed=function(a,b,c){var d=a&&"object"===typeof a?h.extend({},a):
{complete:c||!c&&b||h.isFunction(a)&&a,duration:a,easing:c&&b||b&&!h.isFunction(b)&&b};d.duration=h.fx.off?0:"number"===typeof d.duration?d.duration:d.duration in h.fx.speeds?h.fx.speeds[d.duration]:h.fx.speeds._default;if(null==d.queue||!0===d.queue)d.queue="fx";d.old=d.complete;d.complete=function(){h.isFunction(d.old)&&d.old.call(this);d.queue&&h.dequeue(this,d.queue)};return d};h.fn.extend({fadeTo:function(a,b,c,d){return this.filter(Zb).css("opacity",0).show().end().animate({opacity:b},a,c,d)},
animate:function(a,b,c,d){var e=h.isEmptyObject(a),f=h.speed(b,c,d);b=function(){var b=u(this,h.extend({},a),f);(e||h._data(this,"finish"))&&b.stop(!0)};b.finish=b;return e||!1===f.queue?this.each(b):this.queue(f.queue,b)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop;b(c)};"string"!==typeof a&&(c=b,b=a,a=void 0);b&&!1!==a&&this.queue(a||"fx",[]);return this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=h.timers,g=h._data(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&
g[e].stop&&Qg.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||h.dequeue(this,a)})},finish:function(a){!1!==a&&(a=a||"fx");return this.each(function(){var b=h._data(this),c=b[a+"queue"];var d=b[a+"queueHooks"];var e=h.timers,f=c?c.length:0;b.finish=!0;h.queue(this,a,[]);d&&d.stop&&d.stop.call(this,!0);for(d=e.length;d--;)e[d].elem===this&&e[d].queue===a&&(e[d].anim.stop(!0),e.splice(d,1));for(d=0;d<f;d++)c[d]&&c[d].finish&&
c[d].finish.call(this);delete b.finish})}});h.each(["toggle","show","hide"],function(a,b){var c=h.fn[b];h.fn[b]=function(a,d,e){return null==a||"boolean"===typeof a?c.apply(this,arguments):this.animate(V(b,!0),a,d,e)}});h.each({slideDown:V("show"),slideUp:V("hide"),slideToggle:V("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){h.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}});h.timers=[];h.fx.tick=function(){var a=h.timers,b=0;for(Ha=h.now();b<
a.length;b++){var c=a[b];c()||a[b]!==c||a.splice(b--,1)}a.length||h.fx.stop();Ha=void 0};h.fx.timer=function(a){h.timers.push(a);a()?h.fx.start():h.timers.pop()};h.fx.interval=13;h.fx.start=function(){vd||(vd=b.setInterval(h.fx.tick,h.fx.interval))};h.fx.stop=function(){b.clearInterval(vd);vd=null};h.fx.speeds={slow:600,fast:200,_default:400};h.fn.delay=function(a,c){a=h.fx?h.fx.speeds[a]||a:a;return this.queue(c||"fx",function(c,d){var e=b.setTimeout(c,a);d.stop=function(){b.clearTimeout(e)}})};
(function(){var a=J.createElement("input");J.createElement("div");var b=J.createElement("select"),c=b.appendChild(J.createElement("option"));var d=J.createElement("div");d.setAttribute("className","t");d.innerHTML="  \x3clink/\x3e\x3ctable\x3e\x3c/table\x3e\x3ca href\x3d'/a'\x3ea\x3c/a\x3e\x3cinput type\x3d'checkbox'/\x3e";d.getElementsByTagName("a");a.setAttribute("type","checkbox");d.appendChild(a);var e=d.getElementsByTagName("a")[0];e.style.cssText="top:1px";E.getSetAttribute="t"!==d.className;
E.style=/top/.test(e.getAttribute("style"));E.hrefNormalized="/a"===e.getAttribute("href");E.checkOn=!!a.value;E.optSelected=c.selected;E.enctype=!!J.createElement("form").enctype;b.disabled=!0;E.optDisabled=!c.disabled;a=J.createElement("input");a.setAttribute("value","");E.input=""===a.getAttribute("value");a.value="t";a.setAttribute("type","radio");E.radioValue="t"===a.value})();var Rg=/\r/g,Sg=/[\x20\t\r\n\f]+/g;h.fn.extend({val:function(a){var b,c,d=this[0];if(arguments.length){var e=h.isFunction(a);
return this.each(function(c){1===this.nodeType&&(c=e?a.call(this,c,h(this).val()):a,null==c?c="":"number"===typeof c?c+="":h.isArray(c)&&(c=h.map(c,function(a){return null==a?"":a+""})),b=h.valHooks[this.type]||h.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,c,"value")||(this.value=c))})}if(d){if((b=h.valHooks[d.type]||h.valHooks[d.nodeName.toLowerCase()])&&"get"in b&&void 0!==(c=b.get(d,"value")))return c;c=d.value;return"string"===typeof c?c.replace(Rg,""):null==c?"":c}}});
h.extend({valHooks:{option:{get:function(a){var b=h.find.attr(a,"value");return null!=b?b:h.trim(h.text(a)).replace(Sg," ")}},select:{get:function(a){for(var b,c=a.options,d=a.selectedIndex,e=(a="select-one"===a.type||0>d)?null:[],f=a?d+1:c.length,g=0>d?f:a?d:0;g<f;g++)if(b=c[g],!(!b.selected&&g!==d||(E.optDisabled?b.disabled:null!==b.getAttribute("disabled"))||b.parentNode.disabled&&h.nodeName(b.parentNode,"optgroup"))){b=h(b).val();if(a)return b;e.push(b)}return e},set:function(a,b){for(var c,d=
a.options,e=h.makeArray(b),f=d.length;f--;)if(b=d[f],-1<h.inArray(h.valHooks.option.get(b),e))try{b.selected=c=!0}catch(Zd){b.scrollHeight}else b.selected=!1;c||(a.selectedIndex=-1);return d}}}});h.each(["radio","checkbox"],function(){h.valHooks[this]={set:function(a,b){if(h.isArray(b))return a.checked=-1<h.inArray(h(a).val(),b)}};E.checkOn||(h.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var Qa=h.expr.attrHandle,Ub=/^(?:checked|selected)$/i,Hb=E.getSetAttribute,
dc=E.input;h.fn.extend({attr:function(a,b){return eb(this,h.attr,a,b,1<arguments.length)},removeAttr:function(a){return this.each(function(){h.removeAttr(this,a)})}});h.extend({attr:function(a,b,c){var d,e=a.nodeType;if(3!==e&&8!==e&&2!==e){if("undefined"===typeof a.getAttribute)return h.prop(a,b,c);if(1!==e||!h.isXMLDoc(a)){b=b.toLowerCase();var f=h.attrHooks[b]||(h.expr.match.bool.test(b)?Tg:Ra)}if(void 0!==c){if(null===c){h.removeAttr(a,b);return}if(f&&"set"in f&&void 0!==(d=f.set(a,c,b)))return d;
a.setAttribute(b,c+"");return c}if(f&&"get"in f&&null!==(d=f.get(a,b)))return d;d=h.find.attr(a,b);return null==d?void 0:d}},attrHooks:{type:{set:function(a,b){if(!E.radioValue&&"radio"===b&&h.nodeName(a,"input")){var c=a.value;a.setAttribute("type",b);c&&(a.value=c);return b}}}},removeAttr:function(a,b){var c=0,d=b&&b.match(Ja);if(d&&1===a.nodeType)for(;b=d[c++];){var e=h.propFix[b]||b;h.expr.match.bool.test(b)?dc&&Hb||!Ub.test(b)?a[e]=!1:a[h.camelCase("default-"+b)]=a[e]=!1:h.attr(a,b,"");a.removeAttribute(Hb?
b:e)}}});var Tg={set:function(a,b,c){!1===b?h.removeAttr(a,c):dc&&Hb||!Ub.test(c)?a.setAttribute(!Hb&&h.propFix[c]||c,c):a[h.camelCase("default-"+c)]=a[c]=!0;return c}};h.each(h.expr.match.bool.source.match(/\w+/g),function(a,b){var c=Qa[b]||h.find.attr;dc&&Hb||!Ub.test(b)?Qa[b]=function(a,b,d){if(!d){var e=Qa[b];Qa[b]=f;var f=null!=c(a,b,d)?b.toLowerCase():null;Qa[b]=e}return f}:Qa[b]=function(a,b,c){if(!c)return a[h.camelCase("default-"+b)]?b.toLowerCase():null}});dc&&Hb||(h.attrHooks.value={set:function(a,
b,c){if(h.nodeName(a,"input"))a.defaultValue=b;else return Ra&&Ra.set(a,b,c)}});if(!Hb){var Ra={set:function(a,b,c){var d=a.getAttributeNode(c);d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c));d.value=b+="";if("value"===c||b===a.getAttribute(c))return b}};Qa.id=Qa.name=Qa.coords=function(a,b,c){var d;if(!c)return(d=a.getAttributeNode(b))&&""!==d.value?d.value:null};h.valHooks.button={get:function(a,b){if((a=a.getAttributeNode(b))&&a.specified)return a.value},set:Ra.set};h.attrHooks.contenteditable=
{set:function(a,b,c){Ra.set(a,""===b?!1:b,c)}};h.each(["width","height"],function(a,b){h.attrHooks[b]={set:function(a,c){if(""===c)return a.setAttribute(b,"auto"),c}}})}E.style||(h.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var Tc=/^(?:input|select|textarea|button|object)$/i,Ib=/^(?:a|area)$/i;h.fn.extend({prop:function(a,b){return eb(this,h.prop,a,b,1<arguments.length)},removeProp:function(a){a=h.propFix[a]||a;return this.each(function(){try{this[a]=
void 0,delete this[a]}catch(v){}})}});h.extend({prop:function(a,b,c){var d,e=a.nodeType;if(3!==e&&8!==e&&2!==e){if(1!==e||!h.isXMLDoc(a)){b=h.propFix[b]||b;var f=h.propHooks[b]}return void 0!==c?f&&"set"in f&&void 0!==(d=f.set(a,c,b))?d:a[b]=c:f&&"get"in f&&null!==(d=f.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=h.find.attr(a,"tabindex");return b?parseInt(b,10):Tc.test(a.nodeName)||Ib.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}});E.hrefNormalized||
h.each(["href","src"],function(a,b){h.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}});E.optSelected||(h.propHooks.selected={get:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex;return null},set:function(a){if(a=a.parentNode)a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex}});h.each("tabIndex readOnly maxLength cellSpacing cellPadding rowSpan colSpan useMap frameBorder contentEditable".split(" "),function(){h.propFix[this.toLowerCase()]=this});
E.enctype||(h.propFix.enctype="encoding");var Ma=/[\t\r\n\f]/g;h.fn.extend({addClass:function(a){var b,c,d,e,f,g=0;if(h.isFunction(a))return this.each(function(b){h(this).addClass(a.call(this,b,wa(this)))});if("string"===typeof a&&a)for(b=a.match(Ja)||[];c=this[g++];){var k=wa(c);if(d=1===c.nodeType&&(" "+k+" ").replace(Ma," ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");d=h.trim(d);k!==d&&h.attr(c,"class",d)}}return this},removeClass:function(a){var b,c,d,e,f,g=0;if(h.isFunction(a))return this.each(function(b){h(this).removeClass(a.call(this,
b,wa(this)))});if(!arguments.length)return this.attr("class","");if("string"===typeof a&&a)for(b=a.match(Ja)||[];c=this[g++];){var k=wa(c);if(d=1===c.nodeType&&(" "+k+" ").replace(Ma," ")){for(f=0;e=b[f++];)for(;-1<d.indexOf(" "+e+" ");)d=d.replace(" "+e+" "," ");d=h.trim(d);k!==d&&h.attr(c,"class",d)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"===typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):h.isFunction(a)?this.each(function(c){h(this).toggleClass(a.call(this,
c,wa(this),b),b)}):this.each(function(){var b,d;if("string"===c){var e=0;var f=h(this);for(d=a.match(Ja)||[];b=d[e++];)f.hasClass(b)?f.removeClass(b):f.addClass(b)}else if(void 0===a||"boolean"===c)(b=wa(this))&&h._data(this,"__className__",b),h.attr(this,"class",b||!1===a?"":h._data(this,"__className__")||"")})},hasClass:function(a){var b,c=0;for(a=" "+a+" ";b=this[c++];)if(1===b.nodeType&&-1<(" "+wa(b)+" ").replace(Ma," ").indexOf(a))return!0;return!1}});h.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,b){h.fn[b]=function(a,c){return 0<arguments.length?this.on(b,null,a,c):this.trigger(b)}});h.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}});var Ug=b.location,wc=h.now(),xc=/\?/,ec=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;h.parseJSON=function(a){if(b.JSON&&b.JSON.parse)return b.JSON.parse(a+"");var c,d=null,e=h.trim(a+"");return e&&!h.trim(e.replace(ec,function(a,b,e,f){c&&
b&&(d=0);if(0===d)return a;c=e||b;d+=!f-!e;return""}))?Function("return "+e)():h.error("Invalid JSON: "+a)};h.parseXML=function(a){if(!a||"string"!==typeof a)return null;try{if(b.DOMParser){var c=new b.DOMParser;var d=c.parseFromString(a,"text/xml")}else d=new b.ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(a)}catch(Ta){d=void 0}d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||h.error("Invalid XML: "+a);return d};var qe=/#.*$/,fc=/([?&])_=[^&]*/,wd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,
Ca=/^(?:GET|HEAD)$/,ib=/^\/\//,yc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,gc={},bb={},Uc="*/".concat("*"),Da=Ug.href,Ab=yc.exec(Da.toLowerCase())||[];h.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Da,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ab[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset\x3dUTF-8",accepts:{"*":Uc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",
json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":h.parseJSON,"text xml":h.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?xa(xa(a,h.ajaxSettings),b):xa(h.ajaxSettings,a)},ajaxPrefilter:ja(gc),ajaxTransport:ja(bb),ajax:function(a,c){function d(a,c,d,e){var n=c;if(2!==B){B=2;g&&b.clearTimeout(g);
m=void 0;f=e||"";y.readyState=0<a?4:0;e=200<=a&&300>a||304===a;if(d){var A=l;for(var q=y,la,x,K,F,C=A.contents,v=A.dataTypes;"*"===v[0];)v.shift(),void 0===x&&(x=A.mimeType||q.getResponseHeader("Content-Type"));if(x)for(F in C)if(C[F]&&C[F].test(x)){v.unshift(F);break}if(v[0]in d)K=v[0];else{for(F in d){if(!v[0]||A.converters[F+" "+v[0]]){K=F;break}la||(la=F)}K=K||la}K?(K!==v[0]&&v.unshift(K),A=d[K]):A=void 0}a:{d=l;la=A;x=y;K=e;var D;q={};C=d.dataTypes.slice();if(C[1])for(N in d.converters)q[N.toLowerCase()]=
d.converters[N];for(F=C.shift();F;){d.responseFields[F]&&(x[d.responseFields[F]]=la);!aa&&K&&d.dataFilter&&(la=d.dataFilter(la,d.dataType));var aa=F;if(F=C.shift())if("*"===F)F=aa;else if("*"!==aa&&aa!==F){var N=q[aa+" "+F]||q["* "+F];if(!N)for(D in q)if(A=D.split(" "),A[1]===F&&(N=q[aa+" "+A[0]]||q["* "+A[0]])){!0===N?N=q[D]:!0!==q[D]&&(F=A[0],C.unshift(A[1]));break}if(!0!==N)if(N&&d["throws"])la=N(la);else try{la=N(la)}catch(wb){A={state:"parsererror",error:N?wb:"No conversion from "+aa+" to "+
F};break a}}}A={state:"success",data:la}}if(e)if(l.ifModified&&((n=y.getResponseHeader("Last-Modified"))&&(h.lastModified[u]=n),(n=y.getResponseHeader("etag"))&&(h.etag[u]=n)),204===a||"HEAD"===l.type)n="nocontent";else if(304===a)n="notmodified";else{n=A.state;var xa=A.data;var Ua=A.error;e=!Ua}else if(Ua=n,a||!n)n="error",0>a&&(a=0);y.status=a;y.statusText=(c||n)+"";e?w.resolveWith(r,[xa,n,y]):w.rejectWith(r,[y,n,Ua]);y.statusCode(R);R=void 0;k&&p.trigger(e?"ajaxSuccess":"ajaxError",[y,l,e?xa:Ua]);
ja.fireWith(r,[y,n]);k&&(p.trigger("ajaxComplete",[y,l]),--h.active||h.event.trigger("ajaxStop"))}}"object"===typeof a&&(c=a,a=void 0);c=c||{};var e,f,g,k,m,n,l=h.ajaxSetup({},c),r=l.context||l,p=l.context&&(r.nodeType||r.jquery)?h(r):h.event,w=h.Deferred(),ja=h.Callbacks("once memory"),R=l.statusCode||{},A={},q={},B=0,x="canceled",y={readyState:0,getResponseHeader:function(a){var b;if(2===B){if(!n)for(n={};b=wd.exec(f);)n[b[1].toLowerCase()]=b[2];b=n[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===
B?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();B||(a=q[c]=q[c]||a,A[a]=b);return this},overrideMimeType:function(a){B||(l.mimeType=a);return this},statusCode:function(a){var b;if(a)if(2>B)for(b in a)R[b]=[R[b],a[b]];else y.always(a[y.status]);return this},abort:function(a){a=a||x;m&&m.abort(a);d(0,a);return this}};w.promise(y).complete=ja.add;y.success=y.done;y.error=y.fail;l.url=((a||l.url||Da)+"").replace(qe,"").replace(ib,Ab[1]+"//");l.type=c.method||c.type||l.method||l.type;l.dataTypes=
h.trim(l.dataType||"*").toLowerCase().match(Ja)||[""];null==l.crossDomain&&(a=yc.exec(l.url.toLowerCase()),l.crossDomain=!(!a||a[1]===Ab[1]&&a[2]===Ab[2]&&(a[3]||("http:"===a[1]?"80":"443"))===(Ab[3]||("http:"===Ab[1]?"80":"443"))));l.data&&l.processData&&"string"!==typeof l.data&&(l.data=h.param(l.data,l.traditional));la(gc,l,c,y);if(2===B)return y;(k=h.event&&l.global)&&0===h.active++&&h.event.trigger("ajaxStart");l.type=l.type.toUpperCase();l.hasContent=!Ca.test(l.type);var u=l.url;l.hasContent||
(l.data&&(u=l.url+=(xc.test(u)?"\x26":"?")+l.data,delete l.data),!1===l.cache&&(l.url=fc.test(u)?u.replace(fc,"$1_\x3d"+wc++):u+(xc.test(u)?"\x26":"?")+"_\x3d"+wc++));l.ifModified&&(h.lastModified[u]&&y.setRequestHeader("If-Modified-Since",h.lastModified[u]),h.etag[u]&&y.setRequestHeader("If-None-Match",h.etag[u]));(l.data&&l.hasContent&&!1!==l.contentType||c.contentType)&&y.setRequestHeader("Content-Type",l.contentType);y.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+
("*"!==l.dataTypes[0]?", "+Uc+"; q\x3d0.01":""):l.accepts["*"]);for(e in l.headers)y.setRequestHeader(e,l.headers[e]);if(l.beforeSend&&(!1===l.beforeSend.call(r,y,l)||2===B))return y.abort();x="abort";for(e in{success:1,error:1,complete:1})y[e](l[e]);if(m=la(bb,l,c,y)){y.readyState=1;k&&p.trigger("ajaxSend",[y,l]);if(2===B)return y;l.async&&0<l.timeout&&(g=b.setTimeout(function(){y.abort("timeout")},l.timeout));try{B=1,m.send(A,d)}catch(Db){if(2>B)d(-1,Db);else throw Db;}}else d(-1,"No Transport");
return y},getJSON:function(a,b,c){return h.get(a,b,c,"json")},getScript:function(a,b){return h.get(a,void 0,b,"script")}});h.each(["get","post"],function(a,b){h[b]=function(a,c,d,e){h.isFunction(c)&&(e=e||d,d=c,c=void 0);return h.ajax(h.extend({url:a,type:b,dataType:e,data:c,success:d},h.isPlainObject(a)&&a))}});h._evalUrl=function(a){return h.ajax({url:a,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,"throws":!0})};h.fn.extend({wrapAll:function(a){if(h.isFunction(a))return this.each(function(b){h(this).wrapAll(a.call(this,
b))});if(this[0]){var b=h(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return h.isFunction(a)?this.each(function(b){h(this).wrapInner(a.call(this,b))}):this.each(function(){var b=h(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=h.isFunction(a);return this.each(function(c){h(this).wrapAll(b?
a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){h.nodeName(this,"body")||h(this).replaceWith(this.childNodes)}).end()}});h.expr.filters.hidden=function(a){return E.reliableHiddenOffsets()?0>=a.offsetWidth&&0>=a.offsetHeight&&!a.getClientRects().length:oc(a)};h.expr.filters.visible=function(a){return!h.expr.filters.hidden(a)};var re=/%20/g,ce=/\[\]$/,zc=/\r?\n/g,se=/^(?:submit|button|image|reset|file)$/i,hc=/^(?:input|select|textarea|keygen)/i;h.param=function(a,b){var c,
d=[],e=function(a,b){b=h.isFunction(b)?b():null==b?"":b;d[d.length]=encodeURIComponent(a)+"\x3d"+encodeURIComponent(b)};void 0===b&&(b=h.ajaxSettings&&h.ajaxSettings.traditional);if(h.isArray(a)||a.jquery&&!h.isPlainObject(a))h.each(a,function(){e(this.name,this.value)});else for(c in a)Xa(c,a[c],b,e);return d.join("\x26").replace(re,"+")};h.fn.extend({serialize:function(){return h.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=h.prop(this,"elements");return a?
h.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!h(this).is(":disabled")&&hc.test(this.nodeName)&&!se.test(a)&&(this.checked||!Lc.test(a))}).map(function(a,b){a=h(this).val();return null==a?null:h.isArray(a)?h.map(a,function(a){return{name:b.name,value:a.replace(zc,"\r\n")}}):{name:b.name,value:a.replace(zc,"\r\n")}}).get()}});h.ajaxSettings.xhr=void 0!==b.ActiveXObject?function(){return this.isLocal?ma():8<J.documentMode?Ob():/^(get|post|head|put|delete|options)$/i.test(this.type)&&
Ob()||ma()}:Ob;var xd=0,Ac={},Bc=h.ajaxSettings.xhr();b.attachEvent&&b.attachEvent("onunload",function(){for(var a in Ac)Ac[a](void 0,!0)});E.cors=!!Bc&&"withCredentials"in Bc;(Bc=E.ajax=!!Bc)&&h.ajaxTransport(function(a){if(!a.crossDomain||E.cors){var c;return{send:function(d,e){var f,g=a.xhr(),k=++xd;g.open(a.type,a.url,a.async,a.username,a.password);if(a.xhrFields)for(f in a.xhrFields)g[f]=a.xhrFields[f];a.mimeType&&g.overrideMimeType&&g.overrideMimeType(a.mimeType);a.crossDomain||d["X-Requested-With"]||
(d["X-Requested-With"]="XMLHttpRequest");for(f in d)void 0!==d[f]&&g.setRequestHeader(f,d[f]+"");g.send(a.hasContent&&a.data||null);c=function(b,d){if(c&&(d||4===g.readyState))if(delete Ac[k],c=void 0,g.onreadystatechange=h.noop,d)4!==g.readyState&&g.abort();else{var f={};var l=g.status;"string"===typeof g.responseText&&(f.text=g.responseText);try{var n=g.statusText}catch(lc){n=""}l||!a.isLocal||a.crossDomain?1223===l&&(l=204):l=f.text?200:404}f&&e(l,n,f,g.getAllResponseHeaders())};a.async?4===g.readyState?
b.setTimeout(c):g.onreadystatechange=Ac[k]=c:c()},abort:function(){c&&c(void 0,!0)}}}});h.ajaxPrefilter(function(a){a.crossDomain&&(a.contents.script=!1)});h.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){h.globalEval(a);return a}}});h.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});
h.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=J.head||h("head")[0]||J.documentElement;return{send:function(d,e){b=J.createElement("script");b.async=!0;a.scriptCharset&&(b.charset=a.scriptCharset);b.src=a.url;b.onload=b.onreadystatechange=function(a,c){if(c||!b.readyState||/loaded|complete/.test(b.readyState))b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success")};c.insertBefore(b,c.firstChild)},abort:function(){if(b)b.onload(void 0,
!0)}}}});var sb=[],Vc=/(=)\?(?=&|$)|\?\?/;h.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=sb.pop()||h.expando+"_"+wc++;this[a]=!0;return a}});h.ajaxPrefilter("json jsonp",function(a,c,d){var e,f=!1!==a.jsonp&&(Vc.test(a.url)?"url":"string"===typeof a.data&&0===(a.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vc.test(a.data)&&"data");if(f||"jsonp"===a.dataTypes[0]){var g=a.jsonpCallback=h.isFunction(a.jsonpCallback)?a.jsonpCallback():a.jsonpCallback;f?a[f]=a[f].replace(Vc,
"$1"+g):!1!==a.jsonp&&(a.url+=(xc.test(a.url)?"\x26":"?")+a.jsonp+"\x3d"+g);a.converters["script json"]=function(){e||h.error(g+" was not called");return e[0]};a.dataTypes[0]="json";var k=b[g];b[g]=function(){e=arguments};d.always(function(){void 0===k?h(b).removeProp(g):b[g]=k;a[g]&&(a.jsonpCallback=c.jsonpCallback,sb.push(g));e&&h.isFunction(k)&&k(e[0]);e=k=void 0});return"script"}});h.parseHTML=function(a,b,c){if(!a||"string"!==typeof a)return null;"boolean"===typeof b&&(c=b,b=!1);b=b||J;var d=
X.exec(a);c=!c&&[];if(d)return[b.createElement(d[1])];d=F([a],b,c);c&&c.length&&h(c).remove();return h.merge([],d.childNodes)};var Cc=h.fn.load;h.fn.load=function(a,b,c){if("string"!==typeof a&&Cc)return Cc.apply(this,arguments);var d,e,f=this,g=a.indexOf(" ");if(-1<g){var k=h.trim(a.slice(g,a.length));a=a.slice(0,g)}h.isFunction(b)?(c=b,b=void 0):b&&"object"===typeof b&&(d="POST");0<f.length&&h.ajax({url:a,type:d||"GET",dataType:"html",data:b}).done(function(a){e=arguments;f.html(k?h("\x3cdiv\x3e").append(h.parseHTML(a)).find(k):
a)}).always(c&&function(a,b){f.each(function(){c.apply(this,e||[a.responseText,b,a])})});return this};h.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){h.fn[b]=function(a){return this.on(b,a)}});h.expr.filters.animated=function(a){return h.grep(h.timers,function(b){return a===b.elem}).length};h.offset={setOffset:function(a,b,c){var d=h.css(a,"position"),e=h(a),f={};"static"===d&&(a.style.position="relative");var g=e.offset();var k=h.css(a,"top");var l=
h.css(a,"left");("absolute"===d||"fixed"===d)&&-1<h.inArray("auto",[k,l])?(l=e.position(),k=l.top,l=l.left):(k=parseFloat(k)||0,l=parseFloat(l)||0);h.isFunction(b)&&(b=b.call(a,c,h.extend({},g)));null!=b.top&&(f.top=b.top-g.top+k);null!=b.left&&(f.left=b.left-g.left+l);"using"in b?b.using.call(a,f):e.css(f)}};h.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){h.offset.setOffset(this,a,b)});var b,c={top:0,left:0},d=(b=this[0])&&b.ownerDocument;if(d){var e=
d.documentElement;if(!h.contains(e,b))return c;"undefined"!==typeof b.getBoundingClientRect&&(c=b.getBoundingClientRect());b=pc(d);return{top:c.top+(b.pageYOffset||e.scrollTop)-(e.clientTop||0),left:c.left+(b.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}}},position:function(){if(this[0]){var a={top:0,left:0},b=this[0];if("fixed"===h.css(b,"position"))var c=b.getBoundingClientRect();else{var d=this.offsetParent();c=this.offset();h.nodeName(d[0],"html")||(a=d.offset());a.top+=h.css(d[0],"borderTopWidth",
!0);a.left+=h.css(d[0],"borderLeftWidth",!0)}return{top:c.top-a.top-h.css(b,"marginTop",!0),left:c.left-a.left-h.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent;a&&!h.nodeName(a,"html")&&"static"===h.css(a,"position");)a=a.offsetParent;return a||rb})}});h.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);h.fn[a]=function(d){return eb(this,function(a,d,e){var f=pc(a);if(void 0===e)return f?b in f?f[b]:f.document.documentElement[d]:
a[d];f?f.scrollTo(c?h(f).scrollLeft():e,c?e:h(f).scrollTop()):a[d]=e},a,d,arguments.length,null)}});h.each(["top","left"],function(a,b){h.cssHooks[b]=T(E.pixelPosition,function(a,c){if(c)return c=nb(a,b),nc.test(c)?h(a).position()[b]+"px":c})});h.each({Height:"height",Width:"width"},function(a,b){h.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){h.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!==typeof d),g=c||(!0===d||!0===e?"margin":"border");return eb(this,function(b,c,
d){return h.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(c=b.documentElement,Math.max(b.body["scroll"+a],c["scroll"+a],b.body["offset"+a],c["offset"+a],c["client"+a])):void 0===d?h.css(b,c,g):h.style(b,c,d,g)},b,f?d:void 0,f,null)}})});h.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,
a||"**",c)}});h.fn.size=function(){return this.length};h.fn.andSelf=h.fn.addBack;"function"===typeof define&&define.amd&&define("jquery",[],function(){return h});var yd=b.jQuery,te=b.$;h.noConflict=function(a){b.$===h&&(b.$=te);a&&b.jQuery===h&&(b.jQuery=yd);return h};a||(b.jQuery=b.$=h);return h});
jQuery.uaMatch=function(b){b=b.toLowerCase();b=/(chrome)[ \/]([\w.]+)/.exec(b)||/(webkit)[ \/]([\w.]+)/.exec(b)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(b)||/(msie) ([\w.]+)/.exec(b)||0>b.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(b)||[];return{browser:b[1]||"",version:b[2]||"0"}};
jQuery.browser||(matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),jQuery.browser=browser);
!function(b){"function"==typeof define&&define.amd?define(["jquery"],b):b(jQuery)}(function(b){function a(){c&&(window.requestAnimationFrame(a),b.fx.tick())}if(3<=Number(b.fn.jquery.split(".")[0]))return void(window.console&&window.console.warn&&window.console.warn("The jquery.requestanimationframe plugin is not needed in jQuery 3.0 or newer as they handle it natively."));var c;window.requestAnimationFrame&&(b.fx.timer=function(d){d()&&b.timers.push(d)&&!c&&(c=!0,a())},b.fx.stop=function(){c=!1})});
(function(b){function a(a){var b=window.document.implementation.createHTMLDocument("");b.body.innerHTML=a;return b.body&&b.body.innerHTML}var c=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,d=b.htmlPrefilter;b.htmlPrefilter=function(b){var e=b.replace(c,"\x3c$1\x3e\x3c/$2\x3e");e!==b&&a(b)!==a(e)&&console.error("HTML tags must be properly nested and closed: "+b);return d(b)}})(window.jQuery);
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).Sling=b()})(function(){return{SELECTOR_INFINITY:".infinity",CHARSET:"_charset_",STATUS:":status",STATUS_BROWSER:"browser",OPERATION:":operation",OPERATION_DELETE:"delete",OPERATION_MOVE:"move",DELETE_SUFFIX:"@Delete",TYPEHINT_SUFFIX:"@TypeHint",COPY_SUFFIX:"@CopyFrom",MOVE_SUFFIX:"@MoveFrom",ORDER:":order",REPLACE:":replace",DESTINATION:":dest",SAVE_PARAM_PREFIX:":saveParamPrefix",IGNORE_PARAM:":ignore",
REQUEST_LOGIN_PARAM:"sling:authRequestLogin",LOGIN_URL:"/system/sling/login.html",LOGOUT_URL:"/system/sling/logout.html"}});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).Util=b()})(function(){return{patchText:function(b,a){if(a)if("[object Array]"!==Object.prototype.toString.call(a))b=b.replace("{0}",a);else for(var c=0;c<a.length;c++)b=b.replace("{"+c+"}",a[c]);return b},getTopWindow:function(){var b=window;if(this.iFrameTopWindow)return this.iFrameTopWindow;try{for(;b.parent&&b!==b.parent&&b.parent.location.href;)b=b.parent}catch(a){}return b},setIFrameMode:function(b){this.iFrameTopWindow=
b||window},applyDefaults:function(){for(var b,a=arguments[0]||{},c=1;c<arguments.length;c++){b=arguments[c];for(var d in b){var e=b[d];b.hasOwnProperty(d)&&void 0!==e&&(a[d]=null===e||"object"!==typeof e||e instanceof Array?e instanceof Array?e.slice(0):e:this.applyDefaults(a[d],e))}}return a},getKeyCode:function(b){return b.keyCode?b.keyCode:b.which}}});
(function(b){"object"===typeof module&&module.exports?module.exports=b(require("@granite/util"),require("jquery")):window.Granite.HTTP=b(Granite.Util,jQuery)})(function(b,a){return function(){var c=null,d=/^(?:http|https):\/\/[^/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/,e=/[^\w-.~%:/?[\]@!$&'()*+,;=]/,k=/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?/,l=!1,f={getSchemeAndAuthority:function(a){if(!a)return"";
a=k.exec(a);return null===a?"":[a[1],a[3]].join("")},getContextPath:function(){null===c&&(c=f.detectContextPath());return c},detectContextPath:function(){try{if(window.CQURLInfo)c=CQURLInfo.contextPath||"";else{for(var a=document.getElementsByTagName("script"),b=0;b<a.length;b++){var e=d.exec(a[b].src);if(e)return c=e[1]}c=""}}catch(n){}return c},externalize:function(a){try{0===a.indexOf("/")&&f.getContextPath()&&0!==a.indexOf(f.getContextPath()+"/")&&(a=f.getContextPath()+a)}catch(r){}return a},
internalize:function(a,b){if("/"===a.charAt(0))return c===a?"":c&&0===a.indexOf(c+"/")?a.substring(c.length):a;b||(b=document);b=f.getSchemeAndAuthority(b.location.href);var d=f.getSchemeAndAuthority(a);return b===d?a.substring(d.length+(c?c.length:0)):a},getPath:function(a){if(a)a=f.removeParameters(a),a=f.removeAnchor(a);else{if(window.CQURLInfo&&CQURLInfo.requestPath)return CQURLInfo.requestPath;a=window.location.pathname}a=f.internalize(a);var b=a.indexOf(".",a.lastIndexOf("/"));-1!==b&&(a=a.substring(0,
b));return a},removeAnchor:function(a){var b=a.indexOf("#");return 0<=b?a.substring(0,b):a},removeParameters:function(a){var b=a.indexOf("?");return 0<=b?a.substring(0,b):a},encodePathOfURI:function(a){for(var b=["?","#"],c=[a],d,k=0,l=b.length;k<l;k++)if(d=b[k],0<=a.indexOf(d)){c=a.split(d);break}e.test(c[0])&&(c[0]=f.encodePath(c[0]));return c.join(d)},encodePath:function(a){a=encodeURI(a);a=a.replace(/%5B/g,"[").replace(/%5D/g,"]");a=a.replace(/\?/g,"%3F");return a=a.replace(/#/g,"%23")},handleLoginRedirect:function(){if(!l){l=
!0;alert(Granite.I18n.get("Your request could not be completed because you have been signed out."));var a=b.getTopWindow().document.location;a.href=f.externalize("/")+"?resource\x3d"+encodeURIComponent(a.pathname+a.search+a.hash)}},getXhrHook:function(a,b,c){return window.G_XHR_HOOK&&"function"===typeof G_XHR_HOOK?(a={url:a,method:b||"GET"},c&&(a.params=c),G_XHR_HOOK(a)):null},eval:function(b){"object"!==typeof b&&(b=a.ajax({url:b,type:"get",async:!1}));try{return JSON.parse(b.body?b.body:b.responseText)}catch(r){}return null}};
return f}()});
(function(b){"object"===typeof module&&module.exports?module.exports=b(require("@granite/http")):window.Granite.I18n=b(window.Granite.HTTP)})(function(b){return function(){var a={},c="/libs/cq/i18n/dict.",d=".json",e=void 0,k=!1,l=null,f={},m=!1,r=function(a){if(m)return c+a+d;var b,e=document.querySelector("html");e&&(b=e.getAttribute("data-i18n-dictionary-src"));return b?b.replace("{locale}",encodeURIComponent(a)).replace("{+locale}",a):c+a+d};f.LOCALE_DEFAULT="en";f.PSEUDO_LANGUAGE="zz";f.PSEUDO_PATTERN_KEY=
"_pseudoPattern_";f.init=function(a){a=a||{};this.setLocale(a.locale);this.setUrlPrefix(a.urlPrefix);this.setUrlSuffix(a.urlSuffix)};f.setLocale=function(a){a&&(e=a)};f.getLocale=function(){"function"===typeof e&&(e=e());return e||document.documentElement.lang||f.LOCALE_DEFAULT};f.setUrlPrefix=function(a){a&&(c=a,m=!0)};f.setUrlSuffix=function(a){a&&(d=a,m=!0)};f.getDictionary=function(c){c=c||f.getLocale();if(!a[c]){k=0===c.indexOf(f.PSEUDO_LANGUAGE);try{var d=new XMLHttpRequest;d.open("GET",b.externalize(r(c)),
!1);d.send();a[c]=JSON.parse(d.responseText)}catch(x){}a[c]||(a[c]={})}return a[c]};f.get=function(a,b,c){var d;var e=f.getDictionary();var g=k?f.PSEUDO_PATTERN_KEY:c?a+" (("+c+"))":a;e&&(d=e[g]);d||(d=a);k&&(d=d.replace("{string}",a).replace("{comment}",c?c:""));a=d;if(b)if(Array.isArray(b))for(c=0;c<b.length;c++)a=a.replace("{"+c+"}",b[c]);else a=a.replace("{0}",b);return a};f.getVar=function(a,b){return a?f.get(a,null,b):null};f.getLanguages=function(){if(!l)try{var a=b.externalize("/libs/wcm/core/resources/languages.overlay.infinity.json"),
c=new XMLHttpRequest;c.open("GET",a,!1);c.send();var d=JSON.parse(c.responseText);Object.keys(d).forEach(function(a){a=d[a];a.language&&(a.title=f.getVar(a.language));a.title&&a.country&&"*"!==a.country&&(a.title+=" ("+f.getVar(a.country)+")")});l=d}catch(y){l={}}return l};f.parseLocale=function(a){if(!a)return null;var b=a.indexOf("_");0>b&&(b=a.indexOf("-"));if(0>b){var c=a;b=null}else c=a.substring(0,b),b=a.substring(b+1);return{code:a,language:c,country:b}};return f}()});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).TouchIndicator=b()})(function(){var b={},a=[];return{debugWithMouse:!1,init:function(){var a=this,b=function(b){a.update(b.touches);return!0};document.addEventListener("touchstart",b);document.addEventListener("touchmove",b);document.addEventListener("touchend",b);this.debugWithMouse&&document.addEventListener("mousemove",function(b){b.identifer="fake";a.update([b]);return!0})},update:function(c){for(var d=
{},e=0;e<c.length;e++){var k=c[e],l=k.identifier,f=b[l];f||(f=a.pop(),f||(f=document.createElement("div"),f.style.visibility="hidden",f.style.position="absolute",f.style.width="30px",f.style.height="30px",f.style.borderRadius="20px",f.style.border="5px solid orange",f.style.userSelect="none",f.style.opacity="0.5",f.style.zIndex="2000",f.style.pointerEvents="none",document.body.appendChild(f)));d[l]=f;f.style.left=k.pageX-20+"px";f.style.top=k.pageY-20+"px";f.style.visibility="visible"}for(l in b)b.hasOwnProperty(l)&&
!d[l]&&(f=b[l],f.style.visibility="hidden",a.push(f));b=d}}});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).OptOutUtil=b()})(function(b){return function(){var a={},b=[],d=[];a.init=function(a){a?(b=a.cookieNames||[],d=a.whitelistCookieNames||[]):(b=[],d=[])};a.getCookieNames=function(){return b};a.getWhitelistCookieNames=function(){return d};a.isOptedOut=function(){for(var b=document.cookie.split(";"),c=0;c<b.length;c++){var d=b[c].split("\x3d")[0];d=String.prototype.trim?d.trim():d.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
"");if(0<=a.getCookieNames().indexOf(d))return!0}return!1};a.maySetCookie=function(b){return!(a.isOptedOut()&&-1===a.getWhitelistCookieNames().indexOf(b))};return a}()});
(function(b){"object"===typeof module&&module.exports?module.exports=b():(window.Granite=window.Granite||{}).Toggles=b()})(function(){var b=null;return{isEnabled:function(a){var c;(c=b)||(c=new XMLHttpRequest,c.open("GET",Granite.HTTP.externalize("/etc.clientlibs/toggles.json"),!1),c.send(null),c=200===c.status?JSON.parse(c.responseText):null);b=c;return(b||{enabled:[]}).enabled.includes(a)}}});Granite.OptOutUtil.init(window.GraniteOptOutConfig);Granite.HTTP.detectContextPath();
(function(b,a){a.Granite=a.Granite||{};a.Granite.$=a.Granite.$||b;a._g=a._g||{};a._g.$=a._g.$||b;var c=Granite.HTTP;b.ajaxSetup({externalize:!0,encodePath:!0,hook:!0,beforeSend:function(a,e){"undefined"!==typeof G_IS_HOOKED&&G_IS_HOOKED(e.url)||(e.externalize&&(e.url=c.externalize(e.url)),e.encodePath&&(e.url=c.encodePathOfURI(e.url)));e.hook&&(a=c.getXhrHook(e.url,e.type,e.data))&&(e.url=a.url,a.params&&("GET"===e.type.toUpperCase()?e.url+="?"+b.param(a.params):e.data=b.param(a.params)))},statusCode:{403:function(a){"Authentication Failed"===
a.getResponseHeader("X-Reason")&&c.handleLoginRedirect()}}});b.ajaxSettings.traditional=!0})(jQuery,this);
(function(b){window.Granite.csrf||(window.Granite.csrf=b(window.Granite.HTTP))})(function(b){function a(){this._handler=[]}function c(a){var b="//"+document.location.host,c=document.location.protocol+b;return a===c||a.slice(0,c.length+1)===c+"/"||a===b||a.slice(0,b.length+1)===b+"/"||!/^(\/\/|http:|https:).*/.test(a)}function d(a){window.console&&console.warn("CSRF data not available;The data may be unavailable by design, such as during non-authenticated requests: "+a)}function e(){var b=new a;r=
b;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)try{g=JSON.parse(c.responseText).token,b.resolve(g)}catch(F){d(F),b.reject(c.responseText)}};c.open("GET",m,!0);c.send();return b}function k(){var a=new XMLHttpRequest;a.open("GET",m,!1);a.send();try{return g=JSON.parse(a.responseText).token}catch(B){d(B)}}function l(a){var b=a.getAttribute("action");"GET"===a.method.toUpperCase()||b&&!c(b)||(g||k(),g&&(b=a.querySelector('input[name\x3d":cq_csrf_token"]'),b||(b=document.createElement("input"),
b.setAttribute("type","hidden"),b.setAttribute("name",":cq_csrf_token"),a.appendChild(b)),b.setAttribute("value",g)))}function f(a){var b=function(a){a=a.target;"FORM"===a.nodeName&&l(a)};a.addEventListener?a.addEventListener("submit",b,!0):a.attachEvent&&a.attachEvent("submit",b)}a.prototype={then:function(a,b){this._handler.push({resolve:a,reject:b})},resolve:function(){this._execute("resolve",arguments)},reject:function(){this._execute("reject",arguments)},_execute:function(a,b){if(null===this._handler)throw Error("Promise already completed.");
for(var c=0,d=this._handler.length;c<d;c++)this._handler[c][a].apply(window,b);this.then=function(c,d){("resolve"===a?c:d).apply(window,b)};this._handler=null}};var m=b.externalize("/libs/granite/csrf/token.json"),r,g;f(document);var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(a,b,d){"get"!==a.toLowerCase()&&c(b)&&(this._csrf=!0,this._async=d);return n.apply(this,arguments)};var x=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){if(this._csrf)if(g)this.setRequestHeader("CSRF-Token",
g),x.apply(this,arguments);else if(!1===this._async)k(),g&&this.setRequestHeader("CSRF-Token",g),x.apply(this,arguments);else{var a=this,b=Array.prototype.slice.call(arguments);r.then(function(c){a.setRequestHeader("CSRF-Token",c);x.apply(a,b)},function(){x.apply(a,b)})}else x.apply(this,arguments)};var y=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){l(this);return y.apply(this,arguments)};if(window.Node){var D=Node.prototype.appendChild;Node.prototype.appendChild=function(){var a=
D.apply(this,arguments);if("IFRAME"===a.nodeName)try{a.contentWindow&&!a._csrf&&(a._csrf=!0,f(a.contentWindow.document))}catch(B){a.src&&a.src.length&&c(a.src)&&window.console&&console.error("Unable to attach CSRF token to an iframe element on the same origin")}return a}}e();setInterval(function(){e()},3E5);return{initialised:!1,refreshToken:e,_clearToken:function(){g=void 0;e()}}});
(function(){function b(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function a(a,b,c,d){for(var e=-1,f=null==a?0:a.length;++e<f;){var g=a[e];b(d,g,c(g),a)}return d}function c(a,b){for(var c=-1,d=null==a?0:a.length;++c<d&&!1!==b(a[c],c,a););return a}function d(a,b){for(var c=null==a?0:a.length;c--&&!1!==b(a[c],c,a););return a}function e(a,b){for(var c=-1,d=null==a?0:a.length;++c<
d;)if(!b(a[c],c,a))return!1;return!0}function k(a,b){for(var c=-1,d=null==a?0:a.length,e=0,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[e++]=g)}return f}function l(a,b){return!(null==a||!a.length)&&-1<w(a,b,0)}function f(a,b,c){for(var d=-1,e=null==a?0:a.length;++d<e;)if(c(b,a[d]))return!0;return!1}function m(a,b){for(var c=-1,d=null==a?0:a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function r(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function g(a,b,c,d){var e=-1,f=null==
a?0:a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function n(a,b,c,d){var e=null==a?0:a.length;for(d&&e&&(c=a[--e]);e--;)c=b(c,a[e],e,a);return c}function x(a,b){for(var c=-1,d=null==a?0:a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function y(a,b,c){var d;c(a,function(a,c,e){if(b(a,c,e))return d=c,!1});return d}function D(a,b,c,d){var e=a.length;for(c+=d?1:-1;d?c--:++c<e;)if(b(a[c],c,a))return c;return-1}function w(a,b,c){if(b===b)a:{--c;for(var d=a.length;++c<d;)if(a[c]===b){a=
c;break a}a=-1}else a=D(a,F,c);return a}function B(a,b,c,d){--c;for(var e=a.length;++c<e;)if(d(a[c],b))return c;return-1}function F(a){return a!==a}function P(a,b){var c=null==a?0:a.length;return c?O(a,b)/c:ja}function A(a){return function(b){return null==b?u:b[a]}}function G(a){return function(b){return null==a?u:a[b]}}function M(a,b,c,d,e){e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)});return c}function fa(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function O(a,b){for(var c,
d=-1,e=a.length;++d<e;){var f=b(a[d]);f!==u&&(c=c===u?f:c+f)}return c}function S(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}function H(a,b){return m(b,function(b){return[b,a[b]]})}function K(a){return a?a.slice(0,ob(a)+1).replace(E,""):a}function C(a){return function(b){return a(b)}}function Q(a,b){return m(b,function(b){return a[b]})}function U(a,b){return a.has(b)}function T(a,b){for(var c=-1,d=a.length;++c<d&&-1<w(b,a[c],0););return c}function ha(a,b){for(var c=a.length;c--&&-1<w(b,
a[c],0););return c}function ia(a){return"\\"+Mb[a]}function Y(a){var b=-1,c=Array(a.size);a.forEach(function(a,d){c[++b]=[d,a]});return c}function ka(a,b){return function(c){return a(b(c))}}function R(a,b){for(var c=-1,d=a.length,e=0,f=[];++c<d;){var g=a[c];if(g===b||"__lodash_placeholder__"===g)a[c]="__lodash_placeholder__",f[e++]=c}return f}function aa(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=a});return c}function N(a){var b=-1,c=Array(a.size);a.forEach(function(a){c[++b]=[a,a]});
return c}function V(a){if(Wa.test(a)){for(var b=La.lastIndex=0;La.test(a);)++b;a=b}else a=mc(a);return a}function sa(a){return Wa.test(a)?a.match(La)||[]:a.split("")}function ob(a){for(var b=a.length;b--&&h.test(a.charAt(b)););return b}var u,wa=1/0,ja=0/0,la=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],xa=/\b__p \+= '';/g,oc=/\b(__p \+=) '' \+/g,Xa=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Ob=/&(?:amp|lt|gt|quot|#39);/g,ma=
/[&<>"']/g,pc=RegExp(Ob.source),mb=RegExp(ma.source),J=/<%-([\s\S]+?)%>/g,ub=/<%([\s\S]+?)%>/g,Mc=/<%=([\s\S]+?)%>/g,Nc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,id=/^\w*$/,qc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ba=/[\\^$.*+?()[\]{}|]/g,na=RegExp(ba.source),E=/^\s+/,h=/\s/,hb=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ba=/\{\n\/\* \[wrapped with (.+)\] \*/,Pb=/,? & /,$b=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,yb=/[()=,{}\[\]\/\s]/,
zb=/\\(\\)?/g,Eb=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Sb=/\w*$/,X=/^[-+]0x[0-9a-f]+$/i,Ua=/^0b[01]+$/i,Tb=/^\[object .+?Constructor\]$/,Fb=/^0o[0-7]+$/i,Qc=/^(?:0|[1-9]\d*)$/,pb=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ja=/($^)/,qb=/['\n\r\u2028\u2029\\]/g,Ka="[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?(?:\\u200d(?:[^\\ud800-\\udfff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])[\\ufe0e\\ufe0f]?(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?)*",
Pa="(?:[\\u2700-\\u27bf]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff])"+Ka,Xd=/['\u2019]/g,Wd=/[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]/g,La=RegExp("\\ud83c[\\udffb-\\udfff](?\x3d\\ud83c[\\udffb-\\udfff])|(?:[^\\ud800-\\udfff][\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]?|[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|(?:\\ud83c[\\udde6-\\uddff]){2}|[\\ud800-\\udbff][\\udc00-\\udfff]|[\\ud800-\\udfff])"+Ka,"g"),Kc=RegExp(["[A-Z\\xc0-\\xd6\\xd8-\\xde]?[a-z\\xdf-\\xf6\\xf8-\\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?\x3d[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde]|$)|(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?\x3d[\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000]|[A-Z\\xc0-\\xd6\\xd8-\\xde](?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])|$)|[A-Z\\xc0-\\xd6\\xd8-\\xde]?(?:[a-z\\xdf-\\xf6\\xf8-\\xff]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\\xc0-\\xd6\\xd8-\\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?\x3d\\b|[a-z_])|\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?\x3d\\b|[A-Z_])|\\d+",
Pa].join("|"),"g"),Wa=/[\u200d\ud800-\udfff\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff\ufe0e\ufe0f]/,Zb=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,eb="Array Buffer DataView Date Error Float32Array Float64Array Function Int8Array Int16Array Int32Array Map Math Object Promise RegExp Set String Symbol TypeError Uint8Array Uint8ClampedArray Uint16Array Uint32Array WeakMap _ clearTimeout isFinite parseInt setTimeout".split(" "),Lc=-1,ra={};ra["[object Float32Array]"]=ra["[object Float64Array]"]=
ra["[object Int8Array]"]=ra["[object Int16Array]"]=ra["[object Int32Array]"]=ra["[object Uint8Array]"]=ra["[object Uint8ClampedArray]"]=ra["[object Uint16Array]"]=ra["[object Uint32Array]"]=!0;ra["[object Arguments]"]=ra["[object Array]"]=ra["[object ArrayBuffer]"]=ra["[object Boolean]"]=ra["[object DataView]"]=ra["[object Date]"]=ra["[object Error]"]=ra["[object Function]"]=ra["[object Map]"]=ra["[object Number]"]=ra["[object Object]"]=ra["[object RegExp]"]=ra["[object Set]"]=ra["[object String]"]=
ra["[object WeakMap]"]=!1;var pa={};pa["[object Arguments]"]=pa["[object Array]"]=pa["[object ArrayBuffer]"]=pa["[object DataView]"]=pa["[object Boolean]"]=pa["[object Date]"]=pa["[object Float32Array]"]=pa["[object Float64Array]"]=pa["[object Int8Array]"]=pa["[object Int16Array]"]=pa["[object Int32Array]"]=pa["[object Map]"]=pa["[object Number]"]=pa["[object Object]"]=pa["[object RegExp]"]=pa["[object Set]"]=pa["[object String]"]=pa["[object Symbol]"]=pa["[object Uint8Array]"]=pa["[object Uint8ClampedArray]"]=
pa["[object Uint16Array]"]=pa["[object Uint32Array]"]=!0;pa["[object Error]"]=pa["[object Function]"]=pa["[object WeakMap]"]=!1;var Mb={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Va=parseFloat,be=parseInt,Yb="object"==typeof global&&global&&global.Object===Object&&global,bc="object"==typeof self&&self&&self.Object===Object&&self,Aa=Yb||bc||Function("return this")(),Gb="object"==typeof exports&&exports&&!exports.nodeType&&exports,fb=Gb&&"object"==typeof module&&module&&
!module.nodeType&&module,Rc=fb&&fb.exports===Gb,cc=Rc&&Yb.process,ta=function(){try{var a=fb&&fb.require&&fb.require("util").types;return a?a:cc&&cc.binding&&cc.binding("util")}catch(Ga){}}(),sd=ta&&ta.isArrayBuffer,gd=ta&&ta.isDate,fd=ta&&ta.isMap,hd=ta&&ta.isRegExp,uc=ta&&ta.isSet,Nb=ta&&ta.isTypedArray,mc=A("length"),td=G({"\u00c0":"A","\u00c1":"A","\u00c2":"A","\u00c3":"A","\u00c4":"A","\u00c5":"A","\u00e0":"a","\u00e1":"a","\u00e2":"a","\u00e3":"a","\u00e4":"a","\u00e5":"a","\u00c7":"C","\u00e7":"c",
"\u00d0":"D","\u00f0":"d","\u00c8":"E","\u00c9":"E","\u00ca":"E","\u00cb":"E","\u00e8":"e","\u00e9":"e","\u00ea":"e","\u00eb":"e","\u00cc":"I","\u00cd":"I","\u00ce":"I","\u00cf":"I","\u00ec":"i","\u00ed":"i","\u00ee":"i","\u00ef":"i","\u00d1":"N","\u00f1":"n","\u00d2":"O","\u00d3":"O","\u00d4":"O","\u00d5":"O","\u00d6":"O","\u00d8":"O","\u00f2":"o","\u00f3":"o","\u00f4":"o","\u00f5":"o","\u00f6":"o","\u00f8":"o","\u00d9":"U","\u00da":"U","\u00db":"U","\u00dc":"U","\u00f9":"u","\u00fa":"u","\u00fb":"u",
"\u00fc":"u","\u00dd":"Y","\u00fd":"y","\u00ff":"y","\u00c6":"Ae","\u00e6":"ae","\u00de":"Th","\u00fe":"th","\u00df":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G",
"\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N",
"\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u",
"\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"}),nc=G({"\x26":"\x26amp;","\x3c":"\x26lt;","\x3e":"\x26gt;",'"':"\x26quot;","'":"\x26#39;"}),Sc=G({"\x26amp;":"\x26","\x26lt;":"\x3c","\x26gt;":"\x3e","\x26quot;":'"',"\x26#39;":"'"}),rb=function nb(h){function q(a){if(ya(a)&&!Z(a)&&!(a instanceof
da)){if(a instanceof Ka)return a;if(qa.call(a,"__wrapped__"))return xf(a)}return new Ka(a)}function G(){}function Ka(a,b){this.__wrapped__=a;this.__actions__=[];this.__chain__=!!b;this.__index__=0;this.__values__=u}function da(a){this.__wrapped__=a;this.__actions__=[];this.__dir__=1;this.__filtered__=!1;this.__iteratees__=[];this.__takeCount__=4294967295;this.__views__=[]}function Pa(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var t=a[b];this.set(t[0],t[1])}}function La(a){var b=-1,
c=null==a?0:a.length;for(this.clear();++b<c;){var t=a[b];this.set(t[0],t[1])}}function ta(a){var b=-1,c=null==a?0:a.length;for(this.clear();++b<c;){var t=a[b];this.set(t[0],t[1])}}function Ga(a){var b=-1,c=null==a?0:a.length;for(this.__data__=new ta;++b<c;)this.add(a[b])}function Ha(a){this.size=(this.__data__=new La(a)).size}function fb(a,b){var c=Z(a),t=!c&&ic(a),d=!c&&!t&&Vb(a),e=!c&&!t&&!d&&Dc(a);t=(c=c||t||d||e)?S(a.length,Vg):[];var z=t.length,f;for(f in a)!b&&!qa.call(a,f)||c&&("length"==f||
d&&("offset"==f||"parent"==f)||e&&("buffer"==f||"byteLength"==f||"byteOffset"==f)||Jb(f,z))||t.push(f);return t}function Mb(a){var b=a.length;return b?a[ke(0,b-1)]:u}function Yb(a,b){return zd(Ya(a),Ib(b,0,a.length))}function bc(a){return zd(Ya(a))}function Gb(a,b,c){(c===u||tb(a[b],c))&&(c!==u||b in a)||Ra(a,b,c)}function Qa(a,b,c){var t=a[b];qa.call(a,b)&&tb(t,c)&&(c!==u||b in a)||Ra(a,b,c)}function Ub(a,b){for(var c=a.length;c--;)if(tb(a[c][0],b))return c;return-1}function Hb(a,b,c,d){Wb(a,function(a,
t,e){b(d,a,c(a),e)});return d}function dc(a,b){return a&&xb(b,Ia(b),a)}function cc(a,b){return a&&xb(b,Za(b),a)}function Ra(a,b,c){"__proto__"==b&&Ad?Ad(a,b,{configurable:!0,enumerable:!0,value:c,writable:!0}):a[b]=c}function Tc(a,b){for(var c=-1,t=b.length,d=Ea(t),e=null==a;++c<t;)d[c]=e?u:ue(a,b[c]);return d}function Ib(a,b,c){a===a&&(c!==u&&(a=a<=c?a:c),b!==u&&(a=a>=b?a:b));return a}function Ma(a,b,d,e,f,g){var t,z=b&1,L=b&2,h=b&4;d&&(t=f?d(a,e,f,g):d(a));if(t!==u)return t;if(!va(a))return a;if(e=
Z(a)){if(t=Eg(a),!z)return Ya(a,t)}else{var k=Na(a),l="[object Function]"==k||"[object GeneratorFunction]"==k;if(Vb(a))return lf(a,z);if("[object Object]"==k||"[object Arguments]"==k||l&&!f){if(t=L||l?{}:jf(a),!z)return L?Lg(a,cc(t,a)):Kg(a,dc(t,a))}else{if(!pa[k])return f?a:{};t=Gg(a,k,z)}}g||(g=new Ha);if(f=g.get(a))return f;g.set(a,t);yf(a)?a.forEach(function(c){t.add(Ma(c,b,d,c,a,g))}):zf(a)&&a.forEach(function(c,e){t.set(e,Ma(c,b,d,e,a,g))});L=h?L?je:ee:L?Za:Ia;var n=e?u:L(a);c(n||a,function(c,
e){n&&(e=c,c=a[e]);Qa(t,e,Ma(c,b,d,e,a,g))});return t}function mc(a){var b=Ia(a);return function(c){return wc(c,a,b)}}function wc(a,b,c){var d=c.length;if(null==a)return!d;for(a=ua(a);d--;){var t=c[d],e=b[t],z=a[t];if(z===u&&!(t in a)||!e(z))return!1}return!0}function xc(a,b,c){if("function"!=typeof a)throw new jb("Expected a function");return Wc(function(){a.apply(u,c)},b)}function ec(a,b,c,d){var t=-1,e=l,z=!0,g=a.length,L=[],h=b.length;if(!g)return L;c&&(b=m(b,C(c)));d?(e=f,z=!1):200<=b.length&&
(e=U,z=!1,b=new Ga(b));a:for(;++t<g;){var k=a[t],n=null==c?k:c(k);k=d||0!==k?k:0;if(z&&n===n){for(var r=h;r--;)if(b[r]===n)continue a;L.push(k)}else e(b,n,d)||L.push(k)}return L}function qe(a,b){var c=!0;Wb(a,function(a,d,t){return c=!!b(a,d,t)});return c}function fc(a,b,c){for(var d=-1,t=a.length;++d<t;){var e=a[d],z=b(e);if(null!=z&&(f===u?z===z&&!gb(z):c(z,f)))var f=z,g=e}return g}function wd(a,b){var c=[];Wb(a,function(a,d,t){b(a,d,t)&&c.push(a)});return c}function Ca(a,b,c,d,e){var t=-1,z=a.length;
c||(c=Wg);for(e||(e=[]);++t<z;){var f=a[t];0<b&&c(f)?1<b?Ca(f,b-1,c,d,e):r(e,f):d||(e[e.length]=f)}return e}function ib(a,b){return a&&ve(a,b,Ia)}function yc(a,b){return a&&Af(a,b,Ia)}function gc(a,b){return k(b,function(b){return Kb(a[b])})}function bb(a,b){b=Rb(b,a);for(var c=0,d=b.length;null!=a&&c<d;)a=a[Bb(b[c++])];return c&&c==d?a:u}function Uc(a,b,c){b=b(a);return Z(a)?b:r(b,c(a))}function Da(a){if(null==a)return a===u?"[object Undefined]":"[object Null]";if(jc&&jc in ua(a)){var b=qa.call(a,
jc),c=a[jc];try{a[jc]=u;var d=!0}catch(Li){}var t=Bd.call(a);d&&(b?a[jc]=c:delete a[jc]);a=t}else a=Bd.call(a);return a}function Ab(a,b){return a>b}function re(a,b){return null!=a&&qa.call(a,b)}function ce(a,b){return null!=a&&b in ua(a)}function zc(a,b,c){for(var d=c?f:l,t=a[0].length,e=a.length,z=e,g=Ea(e),L=Infinity,h=[];z--;){var k=a[z];z&&b&&(k=m(k,C(b)));L=Oa(k.length,L);g[z]=!c&&(b||120<=t&&120<=k.length)?new Ga(z&&k):u}k=a[0];var n=-1,r=g[0];a:for(;++n<t&&h.length<L;){var ja=k[n],w=b?b(ja):
ja;ja=c||0!==ja?ja:0;if(r?!r.has(w):!d(h,w,c)){for(z=e;--z;){var A=g[z];if(A?!A.has(w):!d(a[z],w,c))continue a}r&&r.push(w);h.push(ja)}}return h}function se(a,b,c,d){ib(a,function(a,t,e){b(d,c(a),t,e)});return d}function hc(a,c,d){c=Rb(c,a);a=2>c.length?a:bb(a,cb(c,0,-1));c=null==a?a:a[Bb(kb(c))];return null==c?u:b(c,a,d)}function xd(a){return ya(a)&&"[object Arguments]"==Da(a)}function Ac(a){return ya(a)&&"[object ArrayBuffer]"==Da(a)}function Bc(a){return ya(a)&&"[object Date]"==Da(a)}function sb(a,
b,c,d,e){if(a===b)return!0;if(null==a||null==b||!ya(a)&&!ya(b))return a!==a&&b!==b;a:{var t=Z(a),z=Z(b),f=t?"[object Array]":Na(a),g=z?"[object Array]":Na(b);f="[object Arguments]"==f?"[object Object]":f;g="[object Arguments]"==g?"[object Object]":g;var h="[object Object]"==f;z="[object Object]"==g;if((g=f==g)&&Vb(a)){if(!Vb(b)){b=!1;break a}t=!0;h=!1}if(g&&!h)e||(e=new Ha),b=t||Dc(a)?af(a,b,c,d,sb,e):Bg(a,b,f,c,d,sb,e);else{if(!(c&1)&&(t=h&&qa.call(a,"__wrapped__"),f=z&&qa.call(b,"__wrapped__"),
t||f)){a=t?a.value():a;b=f?b.value():b;e||(e=new Ha);b=sb(a,b,c,d,e);break a}if(g)b:if(e||(e=new Ha),t=c&1,f=ee(a),z=f.length,g=ee(b).length,z==g||t){for(g=z;g--;){var L=f[g];if(!(t?L in b:qa.call(b,L))){b=!1;break b}}h=e.get(a);L=e.get(b);if(h&&L)b=h==b&&L==a;else{h=!0;e.set(a,b);e.set(b,a);for(var k=t;++g<z;){L=f[g];var l=a[L],n=b[L];if(d)var m=t?d(n,l,L,b,a,e):d(l,n,L,a,b,e);if(m===u?l!==n&&!sb(l,n,c,d,e):!m){h=!1;break}k||(k="constructor"==L)}h&&!k&&(c=a.constructor,d=b.constructor,c!=d&&"constructor"in
a&&"constructor"in b&&!("function"==typeof c&&c instanceof c&&"function"==typeof d&&d instanceof d)&&(h=!1));e["delete"](a);e["delete"](b);b=h}}else b=!1;else b=!1}}return b}function Vc(a){return ya(a)&&"[object Map]"==Na(a)}function Cc(a,b,c,d){var t=c.length,e=t,z=!d;if(null==a)return!e;for(a=ua(a);t--;){var f=c[t];if(z&&f[2]?f[1]!==a[f[0]]:!(f[0]in a))return!1}for(;++t<e;){f=c[t];var g=f[0],h=a[g],L=f[1];if(z&&f[2]){if(h===u&&!(g in a))return!1}else{f=new Ha;if(d)var k=d(h,L,g,a,b,f);if(k===u?
!sb(L,h,3,d,f):!k)return!1}}return!0}function yd(a){return!va(a)||Bf&&Bf in a?!1:(Kb(a)?Xg:Tb).test(kc(a))}function te(a){return ya(a)&&"[object RegExp]"==Da(a)}function p(a){return ya(a)&&"[object Set]"==Na(a)}function v(a){return ya(a)&&Cd(a.length)&&!!ra[Da(a)]}function I(a){return"function"==typeof a?a:null==a?$a:"object"==typeof a?Z(a)?Ve(a[0],a[1]):Zd(a):Cf(a)}function Ta(a){if(!Xc(a))return Yg(a);var b=[],c;for(c in ua(a))qa.call(a,c)&&"constructor"!=c&&b.push(c);return b}function dd(a,b){return a<
b}function Yd(a,b){var c=-1,d=ab(a)?Ea(a.length):[];Wb(a,function(a,t,e){d[++c]=b(a,t,e)});return d}function Zd(a){var b=le(a);return 1==b.length&&b[0][2]?Df(b[0][0],b[0][1]):function(c){return c===a||Cc(c,a,b)}}function Ve(a,b){return we(a)&&b===b&&!va(b)?Df(Bb(a),b):function(c){var d=ue(c,a);return d===u&&d===b?xe(c,a):sb(b,d,3)}}function ed(a,b,c,d,e){a!==b&&ve(b,function(t,z){e||(e=new Ha);if(va(t)){t=e;var f=ye(a,z),g=ye(b,z),h=t.get(g);if(h)Gb(a,z,h);else{h=d?d(f,g,z+"",a,b,t):u;var L=h===u;
if(L){var k=Z(g),l=!k&&Vb(g),n=!k&&!l&&Dc(g);h=g;if(k||l||n)Z(f)?h=f:za(f)?h=Ya(f):l?(L=!1,h=lf(g,!0)):n?(L=!1,h=bf(g,!0)):h=[];else if(Yc(g)||ic(g))if(h=f,ic(f))h=Ef(f);else{if(!va(f)||Kb(f))h=jf(g)}else L=!1}L&&(t.set(g,h),ed(h,g,c,d,t),t["delete"](g));Gb(a,z,h)}}else f=d?d(ye(a,z),t,z+"",a,b,e):u,f===u&&(f=t),Gb(a,z,f)},Za)}function $d(a,b){var c=a.length;if(c)return b+=0>b?c:0,Jb(b,c)?a[b]:u}function We(a,b,c){b=b.length?m(b,function(a){return Z(a)?function(b){return bb(b,1===a.length?a[0]:a)}:
a}):[$a];var d=-1;b=m(b,C(W()));a=Yd(a,function(a,c,t){return{criteria:m(b,function(b){return b(a)}),index:++d,value:a}});return fa(a,function(a,b){a:{for(var d=-1,t=a.criteria,e=b.criteria,z=t.length,f=c.length;++d<z;){var g=pf(t[d],e[d]);if(g){if(d>=f){a=g;break a}a=g*("desc"==c[d]?-1:1);break a}}a=a.index-b.index}return a})}function yg(a,b){return lc(a,b,function(b,c){return xe(a,c)})}function lc(a,b,c){for(var d=-1,t=b.length,e={};++d<t;){var z=b[d],f=bb(a,z);c(f,z)&&Db(e,Rb(z,a),f)}return e}
function zg(a){return function(b){return bb(b,a)}}function ae(a,b,c,d){var t=d?B:w,e=-1,z=b.length,f=a;a===b&&(b=Ya(b));for(c&&(f=m(a,C(c)));++e<z;){var g=0,h=b[e];for(h=c?c(h):h;-1<(g=t(f,h,g,d));)f!==a&&Dd.call(f,g,1),Dd.call(a,g,1)}return a}function gf(a,b){for(var c=a?b.length:0,d=c-1;c--;){var t=b[c];if(c==d||t!==e){var e=t;Jb(t)?Dd.call(a,t,1):fe(a,t)}}return a}function ke(a,b){return a+Ed(Ff()*(b-a+1))}function me(a,b){var c="";if(!a||1>b||9007199254740991<b)return c;do b%2&&(c+=a),(b=Ed(b/
2))&&(a+=a);while(b);return c}function ea(a,b){return ze(Gf(a,b,$a),a+"")}function Hg(a){return Mb(Ec(a))}function Fg(a,b){a=Ec(a);return zd(a,Ib(b,0,a.length))}function Db(a,b,c,d){if(!va(a))return a;b=Rb(b,a);for(var t=-1,e=b.length,z=e-1,f=a;null!=f&&++t<e;){var g=Bb(b[t]),h=c;if("__proto__"===g||"constructor"===g||"prototype"===g)break;if(t!=z){var L=f[g];h=d?d(L,g,f):u;h===u&&(h=va(L)?L:Jb(b[t+1])?[]:{})}Qa(f,g,h);f=f[g]}return a}function Ig(a){return zd(Ec(a))}function cb(a,b,c){var d=-1,t=
a.length;0>b&&(b=-b>t?0:t+b);c=c>t?t:c;0>c&&(c+=t);t=b>c?0:c-b>>>0;b>>>=0;for(c=Ea(t);++d<t;)c[d]=a[d+b];return c}function Jg(a,b){var c;Wb(a,function(a,d,t){c=b(a,d,t);return!c});return!!c}function kd(a,b,c){var d=0,t=null==a?d:a.length;if("number"==typeof b&&b===b&&2147483647>=t){for(;d<t;){var e=d+t>>>1,z=a[e];null!==z&&!gb(z)&&(c?z<=b:z<b)?d=e+1:t=e}return t}return ie(a,b,$a,c)}function ie(a,b,c,d){var t=0,e=null==a?0:a.length;if(0===e)return 0;b=c(b);for(var z=b!==b,f=null===b,g=gb(b),h=b===
u;t<e;){var k=Ed((t+e)/2),L=c(a[k]),l=L!==u,n=null===L,m=L===L,r=gb(L);(z?d||m:h?m&&(d||l):f?m&&l&&(d||!n):g?m&&l&&!n&&(d||!r):n||r?0:d?L<=b:L<b)?t=k+1:e=k}return Oa(e,4294967294)}function mf(a,b){for(var c=-1,d=a.length,t=0,e=[];++c<d;){var z=a[c],f=b?b(z):z;if(!c||!tb(f,g)){var g=f;e[t++]=0===z?0:z}}return e}function nf(a){return"number"==typeof a?a:gb(a)?ja:+a}function db(a){if("string"==typeof a)return a;if(Z(a))return m(a,db)+"";if(gb(a))return Hf?Hf.call(a):"";var b=a+"";return"0"==b&&1/a==
-wa?"-0":b}function Qb(a,b,c){var d=-1,t=l,e=a.length,z=!0,g=[],h=g;if(c)z=!1,t=f;else if(200<=e){if(t=b?null:Zg(a))return aa(t);z=!1;t=U;h=new Ga}else h=b?[]:g;a:for(;++d<e;){var k=a[d],L=b?b(k):k;k=c||0!==k?k:0;if(z&&L===L){for(var n=h.length;n--;)if(h[n]===L)continue a;b&&h.push(L);g.push(k)}else t(h,L,c)||(h!==g&&h.push(L),g.push(k))}return g}function fe(a,b){b=Rb(b,a);a=2>b.length?a:bb(a,cb(b,0,-1));return null==a||delete a[Bb(kb(b))]}function ld(a,b,c,d){for(var t=a.length,e=d?t:-1;(d?e--:++e<
t)&&b(a[e],e,a););return c?cb(a,d?0:e,d?e+1:t):cb(a,d?e+1:0,d?t:e)}function ff(a,b){a instanceof da&&(a=a.value());return g(b,function(a,b){return b.func.apply(b.thisArg,r([a],b.args))},a)}function ne(a,b,c){var d=a.length;if(2>d)return d?Qb(a[0]):[];for(var t=-1,e=Ea(d);++t<d;)for(var z=a[t],f=-1;++f<d;)f!=t&&(e[t]=ec(e[t]||z,a[f],b,c));return Qb(Ca(e,1),b,c)}function of(a,b,c){for(var d=-1,t=a.length,e=b.length,z={};++d<t;)c(z,a[d],d<e?b[d]:u);return z}function he(a){return za(a)?a:[]}function oe(a){return"function"==
typeof a?a:$a}function Rb(a,b){return Z(a)?a:we(a,b)?[a]:If(oa(a))}function wb(a,b,c){var d=a.length;c=c===u?d:c;return!b&&c>=d?a:cb(a,b,c)}function lf(a,b){if(b)return a.slice();b=a.length;b=Jf?Jf(b):new a.constructor(b);a.copy(b);return b}function pe(a){var b=new a.constructor(a.byteLength);(new Fd(b)).set(new Fd(a));return b}function bf(a,b){b=b?pe(a.buffer):a.buffer;return new a.constructor(b,a.byteOffset,a.length)}function pf(a,b){if(a!==b){var c=a!==u,d=null===a,t=a===a,e=gb(a),z=b!==u,f=null===
b,g=b===b,h=gb(b);if(!f&&!h&&!e&&a>b||e&&z&&g&&!f&&!h||d&&z&&g||!c&&g||!t)return 1;if(!d&&!e&&!h&&a<b||h&&c&&t&&!d&&!e||f&&c&&t||!z&&t||!g)return-1}return 0}function kf(a,b,c,d){var t=-1,e=a.length,z=c.length,f=-1,g=b.length,h=Fa(e-z,0),k=Ea(g+h);for(d=!d;++f<g;)k[f]=b[f];for(;++t<z;)if(d||t<e)k[c[t]]=a[t];for(;h--;)k[f++]=a[t++];return k}function qf(a,b,c,d){var t=-1,e=a.length,z=-1,f=c.length,g=-1,h=b.length,k=Fa(e-f,0),L=Ea(k+h);for(d=!d;++t<k;)L[t]=a[t];for(k=t;++g<h;)L[k+g]=b[g];for(;++z<f;)if(d||
t<e)L[k+c[z]]=a[t++];return L}function Ya(a,b){var c=-1,d=a.length;for(b||(b=Ea(d));++c<d;)b[c]=a[c];return b}function xb(a,b,c,d){var t=!c;c||(c={});for(var e=-1,z=b.length;++e<z;){var f=b[e],g=d?d(c[f],a[f],f,c,a):u;g===u&&(g=a[f]);t?Ra(c,f,g):Qa(c,f,g)}return c}function Kg(a,b){return xb(a,Ae(a),b)}function Lg(a,b){return xb(a,Kf(a),b)}function nd(b,c){return function(d,t){var e=Z(d)?a:Hb,z=c?c():{};return e(d,b,W(t,2),z)}}function sc(a){return ea(function(b,c){var d=-1,t=c.length,e=1<t?c[t-1]:
u,z=2<t?c[2]:u;e=3<a.length&&"function"==typeof e?(t--,e):u;z&&Sa(c[0],c[1],z)&&(e=3>t?u:e,t=1);for(b=ua(b);++d<t;)(z=c[d])&&a(b,z,d,e);return b})}function rf(a,b){return function(c,d){if(null==c)return c;if(!ab(c))return a(c,d);for(var t=c.length,e=b?t:-1,z=ua(c);(b?e--:++e<t)&&!1!==d(z[e],e,z););return c}}function sf(a){return function(b,c,d){var e=-1,t=ua(b);d=d(b);for(var z=d.length;z--;){var f=d[a?z:++e];if(!1===c(t[f],f,t))break}return b}}function Mg(a,b,c){function d(){return(this&&this!==
Aa&&this instanceof d?t:a).apply(e?c:this,arguments)}var e=b&1,t=Oc(a);return d}function tf(a){return function(b){b=oa(b);var c=Wa.test(b)?sa(b):u,d=c?c[0]:b.charAt(0);b=c?wb(c,1).join(""):b.slice(1);return d[a]()+b}}function rc(a){return function(b){return g(Lf(Mf(b).replace(Xd,"")),a,"")}}function Oc(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],
b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=Fc(a.prototype);b=a.apply(c,b);return va(b)?b:c}}function Cg(a,c,d){function e(){for(var f=arguments.length,z=Ea(f),g=f,h=tc(e);g--;)z[g]=arguments[g];g=3>f&&z[0]!==h&&z[f-1]!==h?[]:R(z,h);f-=g.length;return f<d?ef(a,c,od,e.placeholder,u,z,g,u,u,d-f):b(this&&this!==Aa&&this instanceof e?t:a,this,z)}var t=Oc(a);return e}function uf(a){return function(b,
c,d){var e=ua(b);if(!ab(b)){var t=W(c,3);b=Ia(b);c=function(a){return t(e[a],a,e)}}c=a(b,c,d);return-1<c?e[t?b[c]:c]:u}}function vf(a){return Cb(function(b){var c=b.length,d=c,e=Ka.prototype.thru;for(a&&b.reverse();d--;){var t=b[d];if("function"!=typeof t)throw new jb("Expected a function");if(e&&!f&&"wrapper"==Pc(t))var f=new Ka([],!0)}for(d=f?d:c;++d<c;){t=b[d];e=Pc(t);var z="wrapper"==e?Be(t):u;f=z&&Ce(z[0])&&424==z[1]&&!z[4].length&&1==z[9]?f[Pc(z[0])].apply(f,z[3]):1==t.length&&Ce(t)?f[e]():
f.thru(t)}return function(){var a=arguments,d=a[0];if(f&&1==a.length&&Z(d))return f.plant(d).value();var e=0;for(a=c?b[e].apply(this,a):d;++e<c;)a=b[e].call(this,a);return a}})}function od(a,b,c,d,e,f,g,h,k,l){function t(){for(var w=arguments.length,A=Ea(w),p=w;p--;)A[p]=arguments[p];if(m){var la=tc(t),y;p=A.length;for(y=0;p--;)A[p]===la&&++y}d&&(A=kf(A,d,e,m));f&&(A=qf(A,f,g,m));w-=y;if(m&&w<l)return la=R(A,la),ef(a,b,od,t.placeholder,c,A,la,h,k,l-w);la=L?c:this;p=n?la[a]:a;w=A.length;if(h){y=A.length;
for(var q=Oa(h.length,y),x=Ya(A);q--;){var K=h[q];A[q]=Jb(K,y)?x[K]:u}}else r&&1<w&&A.reverse();z&&k<w&&(A.length=k);this&&this!==Aa&&this instanceof t&&(p=ja||Oc(p));return p.apply(la,A)}var z=b&128,L=b&1,n=b&2,m=b&24,r=b&512,ja=n?u:Oc(a);return t}function cf(a,b){return function(c,d){return se(c,a,b(d),{})}}function pd(a,b){return function(c,d){var e;if(c===u&&d===u)return b;c!==u&&(e=c);if(d!==u){if(e===u)return d;"string"==typeof c||"string"==typeof d?(c=db(c),d=db(d)):(c=nf(c),d=nf(d));e=a(c,
d)}return e}}function ge(a){return Cb(function(c){c=m(c,C(W()));return ea(function(d){var e=this;return a(c,function(a){return b(a,e,d)})})})}function qd(a,b){b=b===u?" ":db(b);var c=b.length;if(2>c)return c?me(b,a):b;c=me(b,Gd(a/V(b)));return Wa.test(b)?wb(sa(c),0,a).join(""):c.slice(0,a)}function Dg(a,c,d,e){function t(){for(var c=-1,g=arguments.length,h=-1,k=e.length,l=Ea(k+g),n=this&&this!==Aa&&this instanceof t?z:a;++h<k;)l[h]=e[h];for(;g--;)l[h++]=arguments[++c];return b(n,f?d:this,l)}var f=
c&1,z=Oc(a);return t}function df(a){return function(b,c,d){d&&"number"!=typeof d&&Sa(b,c,d)&&(c=d=u);b=Lb(b);c===u?(c=b,b=0):c=Lb(c);d=d===u?b<c?1:-1:Lb(d);var e=-1;c=Fa(Gd((c-b)/(d||1)),0);for(var t=Ea(c);c--;)t[a?c:++e]=b,b+=d;return t}}function rd(a){return function(b,c){if("string"!=typeof b||"string"!=typeof c)b=lb(b),c=lb(c);return a(b,c)}}function ef(a,b,c,d,e,f,g,h,k,l){var t=b&8,z=t?g:u;g=t?u:g;var n=t?f:u;f=t?u:f;b=(b|(t?32:64))&~(t?64:32);b&4||(b&=-4);e=[a,b,e,n,z,f,g,h,k,l];c=c.apply(u,
e);Ce(a)&&Nf(c,e);c.placeholder=d;return Of(c,a,b)}function jd(a){var b=Gc[a];return function(a,c){a=lb(a);return(c=null==c?0:Oa(ca(c),292))&&Pf(a)?(a=(oa(a)+"e").split("e"),a=b(a[0]+"e"+(+a[1]+c)),a=(oa(a)+"e").split("e"),+(a[0]+"e"+(+a[1]-c))):b(a)}}function Ze(a){return function(b){var c=Na(b);return"[object Map]"==c?Y(b):"[object Set]"==c?N(b):H(b,a(b))}}function vb(a,b,c,d,e,f,g,h){var t=b&2;if(!t&&"function"!=typeof a)throw new jb("Expected a function");var z=d?d.length:0;z||(b&=-97,d=e=u);
g=g===u?g:Fa(ca(g),0);h=h===u?h:ca(h);z-=e?e.length:0;if(b&64){var k=d,l=e;d=e=u}var n=t?u:Be(a);f=[a,b,c,d,e,k,l,f,g,h];if(n&&(c=f[1],a=n[1],b=c|a,d=128==a&&8==c||128==a&&256==c&&f[7].length<=n[8]||384==a&&n[7].length<=n[8]&&8==c,131>b||d)){a&1&&(f[2]=n[2],b|=c&1?0:4);if(c=n[3])d=f[3],f[3]=d?kf(d,c,n[4]):c,f[4]=d?R(f[3],"__lodash_placeholder__"):n[4];if(c=n[5])d=f[5],f[5]=d?qf(d,c,n[6]):c,f[6]=d?R(f[5],"__lodash_placeholder__"):n[6];(c=n[7])&&(f[7]=c);a&128&&(f[8]=null==f[8]?n[8]:Oa(f[8],n[8]));
null==f[9]&&(f[9]=n[9]);f[0]=n[0];f[1]=b}a=f[0];b=f[1];c=f[2];d=f[3];e=f[4];h=f[9]=f[9]===u?t?0:a.length:Fa(f[9]-z,0);!h&&b&24&&(b&=-25);t=b&&1!=b?8==b||16==b?Cg(a,b,h):32!=b&&33!=b||e.length?od.apply(u,f):Dg(a,b,c,d):Mg(a,b,c);return Of((n?Qf:Nf)(t,f),a,b)}function de(a,b,c,d){return a===u||tb(a,Hc[c])&&!qa.call(d,c)?b:a}function $e(a,b,c,d,e,f){va(a)&&va(b)&&(f.set(b,a),ed(a,b,u,$e,f),f["delete"](b));return a}function Ag(a){return Yc(a)?u:a}function af(a,b,c,d,e,f){var t=c&1,z=a.length,g=b.length;
if(z!=g&&!(t&&g>z))return!1;g=f.get(a);var h=f.get(b);if(g&&h)return g==b&&h==a;g=-1;h=!0;var k=c&2?new Ga:u;f.set(a,b);for(f.set(b,a);++g<z;){var l=a[g],n=b[g];if(d)var m=t?d(n,l,g,b,a,f):d(l,n,g,a,b,f);if(m!==u){if(m)continue;h=!1;break}if(k){if(!x(b,function(a,b){if(!k.has(b)&&(l===a||e(l,a,c,d,f)))return k.push(b)})){h=!1;break}}else if(l!==n&&!e(l,n,c,d,f)){h=!1;break}}f["delete"](a);f["delete"](b);return h}function Bg(a,b,c,d,e,f,g){switch(c){case "[object DataView]":if(a.byteLength!=b.byteLength||
a.byteOffset!=b.byteOffset)break;a=a.buffer;b=b.buffer;case "[object ArrayBuffer]":if(a.byteLength!=b.byteLength||!f(new Fd(a),new Fd(b)))break;return!0;case "[object Boolean]":case "[object Date]":case "[object Number]":return tb(+a,+b);case "[object Error]":return a.name==b.name&&a.message==b.message;case "[object RegExp]":case "[object String]":return a==b+"";case "[object Map]":var t=Y;case "[object Set]":t||(t=aa);if(a.size!=b.size&&!(d&1))break;if(c=g.get(a))return c==b;d|=2;g.set(a,b);b=af(t(a),
t(b),d,e,f,g);g["delete"](a);return b;case "[object Symbol]":if(Zc)return Zc.call(a)==Zc.call(b)}return!1}function Cb(a){return ze(Gf(a,u,Rf),a+"")}function ee(a){return Uc(a,Ia,Ae)}function je(a){return Uc(a,Za,Kf)}function Pc(a){for(var b=a.name+"",c=Ic[b],d=qa.call(Ic,b)?c.length:0;d--;){var e=c[d],t=e.func;if(null==t||t==a)return e.name}return b}function tc(a){return(qa.call(q,"placeholder")?q:a).placeholder}function W(){var a=q.iteratee||De;a=a===De?I:a;return arguments.length?a(arguments[0],
arguments[1]):a}function md(a,b){a=a.__data__;var c=typeof b;return("string"==c||"number"==c||"symbol"==c||"boolean"==c?"__proto__"!==b:null===b)?a["string"==typeof b?"string":"hash"]:a.map}function le(a){for(var b=Ia(a),c=b.length;c--;){var d=b[c],e=a[d];b[c]=[d,e,e===e&&!va(e)]}return b}function ac(a,b){a=null==a?u:a[b];return yd(a)?a:u}function hf(a,b,c){b=Rb(b,a);for(var d=-1,e=b.length,t=!1;++d<e;){var f=Bb(b[d]);if(!(t=null!=a&&c(a,f)))break;a=a[f]}if(t||++d!=e)return t;e=null==a?0:a.length;
return!!e&&Cd(e)&&Jb(f,e)&&(Z(a)||ic(a))}function Eg(a){var b=a.length,c=new a.constructor(b);b&&"string"==typeof a[0]&&qa.call(a,"index")&&(c.index=a.index,c.input=a.input);return c}function jf(a){return"function"!=typeof a.constructor||Xc(a)?{}:Fc(Hd(a))}function Gg(a,b,c){var d=a.constructor;switch(b){case "[object ArrayBuffer]":return pe(a);case "[object Boolean]":case "[object Date]":return new d(+a);case "[object DataView]":return b=c?pe(a.buffer):a.buffer,new a.constructor(b,a.byteOffset,a.byteLength);
case "[object Float32Array]":case "[object Float64Array]":case "[object Int8Array]":case "[object Int16Array]":case "[object Int32Array]":case "[object Uint8Array]":case "[object Uint8ClampedArray]":case "[object Uint16Array]":case "[object Uint32Array]":return bf(a,c);case "[object Map]":return new d;case "[object Number]":case "[object String]":return new d(a);case "[object RegExp]":return b=new a.constructor(a.source,Sb.exec(a)),b.lastIndex=a.lastIndex,b;case "[object Set]":return new d;case "[object Symbol]":return Zc?
ua(Zc.call(a)):{}}}function Wg(a){return Z(a)||ic(a)||!!(Sf&&a&&a[Sf])}function Jb(a,b){var c=typeof a;b=null==b?9007199254740991:b;return!!b&&("number"==c||"symbol"!=c&&Qc.test(a))&&-1<a&&0==a%1&&a<b}function Sa(a,b,c){if(!va(c))return!1;var d=typeof b;return("number"==d?ab(c)&&Jb(b,c.length):"string"==d&&b in c)?tb(c[b],a):!1}function we(a,b){if(Z(a))return!1;var c=typeof a;return"number"==c||"symbol"==c||"boolean"==c||null==a||gb(a)?!0:id.test(a)||!Nc.test(a)||null!=b&&a in ua(b)}function Ce(a){var b=
Pc(a),c=q[b];if("function"!=typeof c||!(b in da.prototype))return!1;if(a===c)return!0;b=Be(c);return!!b&&a===b[0]}function Xc(a){var b=a&&a.constructor;return a===("function"==typeof b&&b.prototype||Hc)}function Df(a,b){return function(c){return null==c?!1:c[a]===b&&(b!==u||a in ua(c))}}function Gf(a,c,d){c=Fa(c===u?a.length-1:c,0);return function(){for(var e=arguments,t=-1,f=Fa(e.length-c,0),g=Ea(f);++t<f;)g[t]=e[c+t];t=-1;for(f=Ea(c+1);++t<c;)f[t]=e[t];f[c]=d(g);return b(a,this,f)}}function ye(a,
b){if(("constructor"!==b||"function"!==typeof a[b])&&"__proto__"!=b)return a[b]}function Of(a,b,c){var d=b+"";b=ze;var e=$g;var t=(t=d.match(Ba))?t[1].split(Pb):[];c=e(t,c);if(e=c.length)t=e-1,c[t]=(1<e?"\x26 ":"")+c[t],c=c.join(2<e?", ":" "),d=d.replace(hb,"{\n/* [wrapped with "+c+"] */\n");return b(a,d)}function Tf(a){var b=0,c=0;return function(){var d=ah(),e=16-(d-c);c=d;if(0<e){if(800<=++b)return arguments[0]}else b=0;return a.apply(u,arguments)}}function zd(a,b){var c=-1,d=a.length,e=d-1;for(b=
b===u?d:b;++c<b;){d=ke(c,e);var t=a[d];a[d]=a[c];a[c]=t}a.length=b;return a}function Bb(a){if("string"==typeof a||gb(a))return a;var b=a+"";return"0"==b&&1/a==-wa?"-0":b}function kc(a){if(null!=a){try{return Id.call(a)}catch(z){}return a+""}return""}function $g(a,b){c(la,function(c){var d="_."+c[0];b&c[1]&&!l(a,d)&&a.push(d)});return a.sort()}function xf(a){if(a instanceof da)return a.clone();var b=new Ka(a.__wrapped__,a.__chain__);b.__actions__=Ya(a.__actions__);b.__index__=a.__index__;b.__values__=
a.__values__;return b}function Uf(a,b,c){var d=null==a?0:a.length;if(!d)return-1;c=null==c?0:ca(c);0>c&&(c=Fa(d+c,0));return D(a,W(b,3),c)}function Vf(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d-1;c!==u&&(e=ca(c),e=0>c?Fa(d+e,0):Oa(e,d-1));return D(a,W(b,3),e,!0)}function Rf(a){return(null==a?0:a.length)?Ca(a,1):[]}function Wf(a){return a&&a.length?a[0]:u}function kb(a){var b=null==a?0:a.length;return b?a[b-1]:u}function Xf(a,b){return a&&a.length&&b&&b.length?ae(a,b):a}function Ee(a){return null==
a?a:bh.call(a)}function Fe(a){if(!a||!a.length)return[];var b=0;a=k(a,function(a){if(za(a))return b=Fa(a.length,b),!0});return S(b,function(b){return m(a,A(b))})}function Yf(a,c){if(!a||!a.length)return[];a=Fe(a);return null==c?a:m(a,function(a){return b(c,u,a)})}function Zf(a){a=q(a);a.__chain__=!0;return a}function Jd(a,b){return b(a)}function ch(){return this}function $f(a,b){return(Z(a)?c:Wb)(a,W(b,3))}function ag(a,b){return(Z(a)?d:bg)(a,W(b,3))}function Kd(a,b){return(Z(a)?m:Yd)(a,W(b,3))}function cg(a,
b,c){b=c?u:b;b=a&&null==b?a.length:b;return vb(a,128,u,u,u,u,b)}function dg(a,b){var c;if("function"!=typeof b)throw new jb("Expected a function");a=ca(a);return function(){0<--a&&(c=b.apply(this,arguments));1>=a&&(b=u);return c}}function eg(a,b,c){b=c?u:b;a=vb(a,8,u,u,u,u,u,b);a.placeholder=eg.placeholder;return a}function fg(a,b,c){b=c?u:b;a=vb(a,16,u,u,u,u,u,b);a.placeholder=fg.placeholder;return a}function gg(a,b,c){function d(b){var c=h,d=z;h=z=u;m=b;return k=a.apply(d,c)}function e(a){var c=
a-n;a-=m;return n===u||c>=b||0>c||L&&a>=w}function t(){var a=Ld();if(e(a))return f(a);var c=Wc;var d=a-m;a=b-(a-n);d=L?Oa(a,w-d):a;l=c(t,d)}function f(a){l=u;if(ja&&h)return d(a);h=z=u;return k}function g(){var a=Ld(),c=e(a);h=arguments;z=this;n=a;if(c){if(l===u)return m=a=n,l=Wc(t,b),r?d(a):k;if(L)return hg(l),l=Wc(t,b),d(n)}l===u&&(l=Wc(t,b));return k}var h,z,k,l,n,m=0,r=!1,L=!1,ja=!0;if("function"!=typeof a)throw new jb("Expected a function");b=lb(b)||0;if(va(c)){r=!!c.leading;var w=(L="maxWait"in
c)?Fa(lb(c.maxWait)||0,b):w;ja="trailing"in c?!!c.trailing:ja}g.cancel=function(){l!==u&&hg(l);m=0;h=n=z=l=u};g.flush=function(){return l===u?k:f(Ld())};return g}function Md(a,b){if("function"!=typeof a||null!=b&&"function"!=typeof b)throw new jb("Expected a function");var c=function(){var d=arguments,e=b?b.apply(this,d):d[0],t=c.cache;if(t.has(e))return t.get(e);d=a.apply(this,d);c.cache=t.set(e,d)||t;return d};c.cache=new (Md.Cache||ta);return c}function Nd(a){if("function"!=typeof a)throw new jb("Expected a function");
return function(){var b=arguments;switch(b.length){case 0:return!a.call(this);case 1:return!a.call(this,b[0]);case 2:return!a.call(this,b[0],b[1]);case 3:return!a.call(this,b[0],b[1],b[2])}return!a.apply(this,b)}}function tb(a,b){return a===b||a!==a&&b!==b}function ab(a){return null!=a&&Cd(a.length)&&!Kb(a)}function za(a){return ya(a)&&ab(a)}function Ge(a){if(!ya(a))return!1;var b=Da(a);return"[object Error]"==b||"[object DOMException]"==b||"string"==typeof a.message&&"string"==typeof a.name&&!Yc(a)}
function Kb(a){if(!va(a))return!1;a=Da(a);return"[object Function]"==a||"[object GeneratorFunction]"==a||"[object AsyncFunction]"==a||"[object Proxy]"==a}function ig(a){return"number"==typeof a&&a==ca(a)}function Cd(a){return"number"==typeof a&&-1<a&&0==a%1&&9007199254740991>=a}function va(a){var b=typeof a;return null!=a&&("object"==b||"function"==b)}function ya(a){return null!=a&&"object"==typeof a}function jg(a){return"number"==typeof a||ya(a)&&"[object Number]"==Da(a)}function Yc(a){if(!ya(a)||
"[object Object]"!=Da(a))return!1;a=Hd(a);if(null===a)return!0;a=qa.call(a,"constructor")&&a.constructor;return"function"==typeof a&&a instanceof a&&Id.call(a)==dh}function Od(a){return"string"==typeof a||!Z(a)&&ya(a)&&"[object String]"==Da(a)}function gb(a){return"symbol"==typeof a||ya(a)&&"[object Symbol]"==Da(a)}function kg(a){if(!a)return[];if(ab(a))return Od(a)?sa(a):Ya(a);if($c&&a[$c]){a=a[$c]();for(var b,c=[];!(b=a.next()).done;)c.push(b.value);return c}b=Na(a);return("[object Map]"==b?Y:"[object Set]"==
b?aa:Ec)(a)}function Lb(a){if(!a)return 0===a?a:0;a=lb(a);return a===wa||a===-wa?1.7976931348623157E308*(0>a?-1:1):a===a?a:0}function ca(a){a=Lb(a);var b=a%1;return a===a?b?a-b:a:0}function lg(a){return a?Ib(ca(a),0,4294967295):0}function lb(a){if("number"==typeof a)return a;if(gb(a))return ja;va(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=va(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=K(a);var b=Ua.test(a);return b||Fb.test(a)?be(a.slice(2),b?2:8):X.test(a)?ja:+a}function Ef(a){return xb(a,
Za(a))}function oa(a){return null==a?"":db(a)}function ue(a,b,c){a=null==a?u:bb(a,b);return a===u?c:a}function xe(a,b){return null!=a&&hf(a,b,ce)}function Ia(a){return ab(a)?fb(a):Ta(a)}function Za(a){if(ab(a))a=fb(a,!0);else if(va(a)){var b=Xc(a),c=[];for(d in a)("constructor"!=d||!b&&qa.call(a,d))&&c.push(d);a=c}else{var d=[];if(null!=a)for(b in ua(a))d.push(b);a=d}return a}function mg(a,b){if(null==a)return{};var c=m(je(a),function(a){return[a]});b=W(b);return lc(a,c,function(a,c){return b(a,c[0])})}
function Ec(a){return null==a?[]:Q(a,Ia(a))}function ng(a){return He(oa(a).toLowerCase())}function Mf(a){return(a=oa(a))&&a.replace(pb,td).replace(Wd,"")}function Lf(a,b,c){a=oa(a);b=c?u:b;return b===u?Zb.test(a)?a.match(Kc)||[]:a.match($b)||[]:a.match(b)||[]}function Ie(a){return function(){return a}}function $a(a){return a}function De(a){return I("function"==typeof a?a:Ma(a,1))}function Je(a,b,d){var e=Ia(b),f=gc(b,e);null!=d||va(b)&&(f.length||!e.length)||(d=b,b=a,a=this,f=gc(b,Ia(b)));var t=!(va(d)&&
"chain"in d)||!!d.chain,g=Kb(a);c(f,function(c){var d=b[c];a[c]=d;g&&(a.prototype[c]=function(){var b=this.__chain__;if(t||b){var c=a(this.__wrapped__);(c.__actions__=Ya(this.__actions__)).push({func:d,args:arguments,thisArg:a});c.__chain__=b;return c}return d.apply(a,r([this.value()],arguments))})});return a}function Ke(){}function Cf(a){return we(a)?A(Bb(a)):zg(a)}function Le(){return[]}function Me(){return!1}h=null==h?Aa:rb.defaults(Aa.Object(),h,rb.pick(Aa,eb));var Ea=h.Array,Pd=h.Date,Ne=h.Error,
og=h.Function,Gc=h.Math,ua=h.Object,Oe=h.RegExp,Vg=h.String,jb=h.TypeError,Qd=Ea.prototype,Hc=ua.prototype,Rd=h["__core-js_shared__"],Id=og.prototype.toString,qa=Hc.hasOwnProperty,eh=0,Bf=function(){var a=/[^.]+$/.exec(Rd&&Rd.keys&&Rd.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}(),Bd=Hc.toString,dh=Id.call(ua),fh=Aa._,Xg=Oe("^"+Id.call(qa).replace(ba,"\\$\x26").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Sd=Rc?h.Buffer:u,Xb=h.Symbol,Fd=h.Uint8Array,Jf=Sd?Sd.allocUnsafe:
u,Hd=ka(ua.getPrototypeOf,ua),pg=ua.create,qg=Hc.propertyIsEnumerable,Dd=Qd.splice,Sf=Xb?Xb.isConcatSpreadable:u,$c=Xb?Xb.iterator:u,jc=Xb?Xb.toStringTag:u,Ad=function(){try{var a=ac(ua,"defineProperty");a({},"",{});return a}catch(z){}}(),gh=h.clearTimeout!==Aa.clearTimeout&&h.clearTimeout,hh=Pd&&Pd.now!==Aa.Date.now&&Pd.now,ih=h.setTimeout!==Aa.setTimeout&&h.setTimeout,Gd=Gc.ceil,Ed=Gc.floor,Pe=ua.getOwnPropertySymbols,jh=Sd?Sd.isBuffer:u,Pf=h.isFinite,kh=Qd.join,Yg=ka(ua.keys,ua),Fa=Gc.max,Oa=Gc.min,
ah=Pd.now,lh=h.parseInt,Ff=Gc.random,bh=Qd.reverse,Qe=ac(h,"DataView"),ad=ac(h,"Map"),Re=ac(h,"Promise"),Jc=ac(h,"Set"),bd=ac(h,"WeakMap"),cd=ac(ua,"create"),Td=bd&&new bd,Ic={},mh=kc(Qe),nh=kc(ad),oh=kc(Re),ph=kc(Jc),qh=kc(bd),Ud=Xb?Xb.prototype:u,Zc=Ud?Ud.valueOf:u,Hf=Ud?Ud.toString:u,Fc=function(){function a(){}return function(b){if(!va(b))return{};if(pg)return pg(b);a.prototype=b;b=new a;a.prototype=u;return b}}();q.templateSettings={escape:J,evaluate:ub,interpolate:Mc,variable:"",imports:{_:q}};
q.prototype=G.prototype;q.prototype.constructor=q;Ka.prototype=Fc(G.prototype);Ka.prototype.constructor=Ka;da.prototype=Fc(G.prototype);da.prototype.constructor=da;Pa.prototype.clear=function(){this.__data__=cd?cd(null):{};this.size=0};Pa.prototype["delete"]=function(a){a=this.has(a)&&delete this.__data__[a];this.size-=a?1:0;return a};Pa.prototype.get=function(a){var b=this.__data__;return cd?(a=b[a],"__lodash_hash_undefined__"===a?u:a):qa.call(b,a)?b[a]:u};Pa.prototype.has=function(a){var b=this.__data__;
return cd?b[a]!==u:qa.call(b,a)};Pa.prototype.set=function(a,b){var c=this.__data__;this.size+=this.has(a)?0:1;c[a]=cd&&b===u?"__lodash_hash_undefined__":b;return this};La.prototype.clear=function(){this.__data__=[];this.size=0};La.prototype["delete"]=function(a){var b=this.__data__;a=Ub(b,a);if(0>a)return!1;a==b.length-1?b.pop():Dd.call(b,a,1);--this.size;return!0};La.prototype.get=function(a){var b=this.__data__;a=Ub(b,a);return 0>a?u:b[a][1]};La.prototype.has=function(a){return-1<Ub(this.__data__,
a)};La.prototype.set=function(a,b){var c=this.__data__,d=Ub(c,a);0>d?(++this.size,c.push([a,b])):c[d][1]=b;return this};ta.prototype.clear=function(){this.size=0;this.__data__={hash:new Pa,map:new (ad||La),string:new Pa}};ta.prototype["delete"]=function(a){a=md(this,a)["delete"](a);this.size-=a?1:0;return a};ta.prototype.get=function(a){return md(this,a).get(a)};ta.prototype.has=function(a){return md(this,a).has(a)};ta.prototype.set=function(a,b){var c=md(this,a),d=c.size;c.set(a,b);this.size+=c.size==
d?0:1;return this};Ga.prototype.add=Ga.prototype.push=function(a){this.__data__.set(a,"__lodash_hash_undefined__");return this};Ga.prototype.has=function(a){return this.__data__.has(a)};Ha.prototype.clear=function(){this.__data__=new La;this.size=0};Ha.prototype["delete"]=function(a){var b=this.__data__;a=b["delete"](a);this.size=b.size;return a};Ha.prototype.get=function(a){return this.__data__.get(a)};Ha.prototype.has=function(a){return this.__data__.has(a)};Ha.prototype.set=function(a,b){var c=
this.__data__;if(c instanceof La){var d=c.__data__;if(!ad||199>d.length)return d.push([a,b]),this.size=++c.size,this;c=this.__data__=new ta(d)}c.set(a,b);this.size=c.size;return this};var Wb=rf(ib),bg=rf(yc,!0),ve=sf(),Af=sf(!0),Qf=Td?function(a,b){Td.set(a,b);return a}:$a,rh=Ad?function(a,b){return Ad(a,"toString",{configurable:!0,enumerable:!1,value:Ie(b),writable:!0})}:$a,hg=gh||function(a){return Aa.clearTimeout(a)},Zg=Jc&&1/aa(new Jc([,-0]))[1]==wa?function(a){return new Jc(a)}:Ke,Be=Td?function(a){return Td.get(a)}:
Ke,Ae=Pe?function(a){if(null==a)return[];a=ua(a);return k(Pe(a),function(b){return qg.call(a,b)})}:Le,Kf=Pe?function(a){for(var b=[];a;)r(b,Ae(a)),a=Hd(a);return b}:Le,Na=Da;if(Qe&&"[object DataView]"!=Na(new Qe(new ArrayBuffer(1)))||ad&&"[object Map]"!=Na(new ad)||Re&&"[object Promise]"!=Na(Re.resolve())||Jc&&"[object Set]"!=Na(new Jc)||bd&&"[object WeakMap]"!=Na(new bd))Na=function(a){var b=Da(a);if(a=(a="[object Object]"==b?a.constructor:u)?kc(a):"")switch(a){case mh:return"[object DataView]";
case nh:return"[object Map]";case oh:return"[object Promise]";case ph:return"[object Set]";case qh:return"[object WeakMap]"}return b};var sh=Rd?Kb:Me,Nf=Tf(Qf),Wc=ih||function(a,b){return Aa.setTimeout(a,b)},ze=Tf(rh),If=function(a){a=Md(a,function(a){500===b.size&&b.clear();return a});var b=a.cache;return a}(function(a){var b=[];46===a.charCodeAt(0)&&b.push("");a.replace(qc,function(a,c,d,e){b.push(d?e.replace(zb,"$1"):c||a)});return b}),th=ea(function(a,b){return za(a)?ec(a,Ca(b,1,za,!0)):[]}),
uh=ea(function(a,b){var c=kb(b);za(c)&&(c=u);return za(a)?ec(a,Ca(b,1,za,!0),W(c,2)):[]}),vh=ea(function(a,b){var c=kb(b);za(c)&&(c=u);return za(a)?ec(a,Ca(b,1,za,!0),u,c):[]}),wh=ea(function(a){var b=m(a,he);return b.length&&b[0]===a[0]?zc(b):[]}),xh=ea(function(a){var b=kb(a),c=m(a,he);b===kb(c)?b=u:c.pop();return c.length&&c[0]===a[0]?zc(c,W(b,2)):[]}),yh=ea(function(a){var b=kb(a),c=m(a,he);(b="function"==typeof b?b:u)&&c.pop();return c.length&&c[0]===a[0]?zc(c,u,b):[]}),zh=ea(Xf),Ah=Cb(function(a,
b){var c=null==a?0:a.length,d=Tc(a,b);gf(a,m(b,function(a){return Jb(a,c)?+a:a}).sort(pf));return d}),Bh=ea(function(a){return Qb(Ca(a,1,za,!0))}),Ch=ea(function(a){var b=kb(a);za(b)&&(b=u);return Qb(Ca(a,1,za,!0),W(b,2))}),Dh=ea(function(a){var b=kb(a);b="function"==typeof b?b:u;return Qb(Ca(a,1,za,!0),u,b)}),Eh=ea(function(a,b){return za(a)?ec(a,b):[]}),Fh=ea(function(a){return ne(k(a,za))}),Gh=ea(function(a){var b=kb(a);za(b)&&(b=u);return ne(k(a,za),W(b,2))}),Hh=ea(function(a){var b=kb(a);b="function"==
typeof b?b:u;return ne(k(a,za),u,b)}),Ih=ea(Fe),Jh=ea(function(a){var b=a.length;b=1<b?a[b-1]:u;b="function"==typeof b?(a.pop(),b):u;return Yf(a,b)}),Kh=Cb(function(a){var b=a.length,c=b?a[0]:0,d=this.__wrapped__,e=function(b){return Tc(b,a)};if(1<b||this.__actions__.length||!(d instanceof da)||!Jb(c))return this.thru(e);d=d.slice(c,+c+(b?1:0));d.__actions__.push({func:Jd,args:[e],thisArg:u});return(new Ka(d,this.__chain__)).thru(function(a){b&&!a.length&&a.push(u);return a})}),Lh=nd(function(a,b,
c){qa.call(a,c)?++a[c]:Ra(a,c,1)}),Mh=uf(Uf),Nh=uf(Vf),Oh=nd(function(a,b,c){qa.call(a,c)?a[c].push(b):Ra(a,c,[b])}),Ph=ea(function(a,c,d){var e=-1,f="function"==typeof c,t=ab(a)?Ea(a.length):[];Wb(a,function(a){t[++e]=f?b(c,a,d):hc(a,c,d)});return t}),Qh=nd(function(a,b,c){Ra(a,c,b)}),Rh=nd(function(a,b,c){a[c?0:1].push(b)},function(){return[[],[]]}),Sh=ea(function(a,b){if(null==a)return[];var c=b.length;1<c&&Sa(a,b[0],b[1])?b=[]:2<c&&Sa(b[0],b[1],b[2])&&(b=[b[0]]);return We(a,Ca(b,1),[])}),Ld=hh||
function(){return Aa.Date.now()},Se=ea(function(a,b,c){var d=1;if(c.length){var e=R(c,tc(Se));d|=32}return vb(a,d,b,c,e)}),rg=ea(function(a,b,c){var d=3;if(c.length){var e=R(c,tc(rg));d|=32}return vb(b,d,a,c,e)}),Th=ea(function(a,b){return xc(a,1,b)}),Uh=ea(function(a,b,c){return xc(a,lb(b)||0,c)});Md.Cache=ta;var Vh=ea(function(a,c){c=1==c.length&&Z(c[0])?m(c[0],C(W())):m(Ca(c,1),C(W()));var d=c.length;return ea(function(e){for(var f=-1,g=Oa(e.length,d);++f<g;)e[f]=c[f].call(this,e[f]);return b(a,
this,e)})}),Te=ea(function(a,b){var c=R(b,tc(Te));return vb(a,32,u,b,c)}),sg=ea(function(a,b){var c=R(b,tc(sg));return vb(a,64,u,b,c)}),Wh=Cb(function(a,b){return vb(a,256,u,u,u,b)}),Xh=rd(Ab),Yh=rd(function(a,b){return a>=b}),ic=xd(function(){return arguments}())?xd:function(a){return ya(a)&&qa.call(a,"callee")&&!qg.call(a,"callee")},Z=Ea.isArray,Zh=sd?C(sd):Ac,Vb=jh||Me,$h=gd?C(gd):Bc,zf=fd?C(fd):Vc,Ue=hd?C(hd):te,yf=uc?C(uc):p,Dc=Nb?C(Nb):v,ai=rd(dd),bi=rd(function(a,b){return a<=b}),ci=sc(function(a,
b){if(Xc(b)||ab(b))xb(b,Ia(b),a);else for(var c in b)qa.call(b,c)&&Qa(a,c,b[c])}),tg=sc(function(a,b){xb(b,Za(b),a)}),Vd=sc(function(a,b,c,d){xb(b,Za(b),a,d)}),di=sc(function(a,b,c,d){xb(b,Ia(b),a,d)}),ei=Cb(Tc),fi=ea(function(a,b){a=ua(a);var c=-1,d=b.length,e=2<d?b[2]:u;for(e&&Sa(b[0],b[1],e)&&(d=1);++c<d;){e=b[c];for(var f=Za(e),g=-1,t=f.length;++g<t;){var h=f[g],k=a[h];if(k===u||tb(k,Hc[h])&&!qa.call(a,h))a[h]=e[h]}}return a}),gi=ea(function(a){a.push(u,$e);return b(ug,u,a)}),hi=cf(function(a,
b,c){null!=b&&"function"!=typeof b.toString&&(b=Bd.call(b));a[b]=c},Ie($a)),ii=cf(function(a,b,c){null!=b&&"function"!=typeof b.toString&&(b=Bd.call(b));qa.call(a,b)?a[b].push(c):a[b]=[c]},W),ji=ea(hc),ki=sc(function(a,b,c){ed(a,b,c)}),ug=sc(function(a,b,c,d){ed(a,b,c,d)}),li=Cb(function(a,b){var c={};if(null==a)return c;var d=!1;b=m(b,function(b){b=Rb(b,a);d||(d=1<b.length);return b});xb(a,je(a),c);d&&(c=Ma(c,7,Ag));for(var e=b.length;e--;)fe(c,b[e]);return c}),mi=Cb(function(a,b){return null==a?
{}:yg(a,b)}),vg=Ze(Ia),wg=Ze(Za),ni=rc(function(a,b,c){b=b.toLowerCase();return a+(c?ng(b):b)}),oi=rc(function(a,b,c){return a+(c?"-":"")+b.toLowerCase()}),pi=rc(function(a,b,c){return a+(c?" ":"")+b.toLowerCase()}),qi=tf("toLowerCase"),ri=rc(function(a,b,c){return a+(c?"_":"")+b.toLowerCase()}),si=rc(function(a,b,c){return a+(c?" ":"")+He(b)}),ti=rc(function(a,b,c){return a+(c?" ":"")+b.toUpperCase()}),He=tf("toUpperCase"),xg=ea(function(a,c){try{return b(a,u,c)}catch(L){return Ge(L)?L:new Ne(L)}}),
ui=Cb(function(a,b){c(b,function(b){b=Bb(b);Ra(a,b,Se(a[b],a))});return a}),vi=vf(),wi=vf(!0),xi=ea(function(a,b){return function(c){return hc(c,a,b)}}),yi=ea(function(a,b){return function(c){return hc(a,c,b)}}),zi=ge(m),Ai=ge(e),Bi=ge(x),Ci=df(),Di=df(!0),Ei=pd(function(a,b){return a+b},0),Fi=jd("ceil"),Gi=pd(function(a,b){return a/b},1),Hi=jd("floor"),Ii=pd(function(a,b){return a*b},1),Ji=jd("round"),Ki=pd(function(a,b){return a-b},0);q.after=function(a,b){if("function"!=typeof b)throw new jb("Expected a function");
a=ca(a);return function(){if(1>--a)return b.apply(this,arguments)}};q.ary=cg;q.assign=ci;q.assignIn=tg;q.assignInWith=Vd;q.assignWith=di;q.at=ei;q.before=dg;q.bind=Se;q.bindAll=ui;q.bindKey=rg;q.castArray=function(){if(!arguments.length)return[];var a=arguments[0];return Z(a)?a:[a]};q.chain=Zf;q.chunk=function(a,b,c){b=(c?Sa(a,b,c):b===u)?1:Fa(ca(b),0);c=null==a?0:a.length;if(!c||1>b)return[];for(var d=0,e=0,f=Ea(Gd(c/b));d<c;)f[e++]=cb(a,d,d+=b);return f};q.compact=function(a){for(var b=-1,c=null==
a?0:a.length,d=0,e=[];++b<c;){var f=a[b];f&&(e[d++]=f)}return e};q.concat=function(){var a=arguments.length;if(!a)return[];for(var b=Ea(a-1),c=arguments[0];a--;)b[a-1]=arguments[a];return r(Z(c)?Ya(c):[c],Ca(b,1))};q.cond=function(a){var c=null==a?0:a.length,d=W();a=c?m(a,function(a){if("function"!=typeof a[1])throw new jb("Expected a function");return[d(a[0]),a[1]]}):[];return ea(function(d){for(var e=-1;++e<c;){var f=a[e];if(b(f[0],this,d))return b(f[1],this,d)}})};q.conforms=function(a){return mc(Ma(a,
1))};q.constant=Ie;q.countBy=Lh;q.create=function(a,b){a=Fc(a);return null==b?a:dc(a,b)};q.curry=eg;q.curryRight=fg;q.debounce=gg;q.defaults=fi;q.defaultsDeep=gi;q.defer=Th;q.delay=Uh;q.difference=th;q.differenceBy=uh;q.differenceWith=vh;q.drop=function(a,b,c){var d=null==a?0:a.length;if(!d)return[];b=c||b===u?1:ca(b);return cb(a,0>b?0:b,d)};q.dropRight=function(a,b,c){var d=null==a?0:a.length;if(!d)return[];b=c||b===u?1:ca(b);b=d-b;return cb(a,0,0>b?0:b)};q.dropRightWhile=function(a,b){return a&&
a.length?ld(a,W(b,3),!0,!0):[]};q.dropWhile=function(a,b){return a&&a.length?ld(a,W(b,3),!0):[]};q.fill=function(a,b,c,d){var e=null==a?0:a.length;if(!e)return[];c&&"number"!=typeof c&&Sa(a,b,c)&&(c=0,d=e);e=a.length;c=ca(c);0>c&&(c=-c>e?0:e+c);d=d===u||d>e?e:ca(d);0>d&&(d+=e);for(d=c>d?0:lg(d);c<d;)a[c++]=b;return a};q.filter=function(a,b){return(Z(a)?k:wd)(a,W(b,3))};q.flatMap=function(a,b){return Ca(Kd(a,b),1)};q.flatMapDeep=function(a,b){return Ca(Kd(a,b),wa)};q.flatMapDepth=function(a,b,c){c=
c===u?1:ca(c);return Ca(Kd(a,b),c)};q.flatten=Rf;q.flattenDeep=function(a){return(null==a?0:a.length)?Ca(a,wa):[]};q.flattenDepth=function(a,b){if(null==a||!a.length)return[];b=b===u?1:ca(b);return Ca(a,b)};q.flip=function(a){return vb(a,512)};q.flow=vi;q.flowRight=wi;q.fromPairs=function(a){for(var b=-1,c=null==a?0:a.length,d={};++b<c;){var e=a[b];d[e[0]]=e[1]}return d};q.functions=function(a){return null==a?[]:gc(a,Ia(a))};q.functionsIn=function(a){return null==a?[]:gc(a,Za(a))};q.groupBy=Oh;q.initial=
function(a){return(null==a?0:a.length)?cb(a,0,-1):[]};q.intersection=wh;q.intersectionBy=xh;q.intersectionWith=yh;q.invert=hi;q.invertBy=ii;q.invokeMap=Ph;q.iteratee=De;q.keyBy=Qh;q.keys=Ia;q.keysIn=Za;q.map=Kd;q.mapKeys=function(a,b){var c={};b=W(b,3);ib(a,function(a,d,e){Ra(c,b(a,d,e),a)});return c};q.mapValues=function(a,b){var c={};b=W(b,3);ib(a,function(a,d,e){Ra(c,d,b(a,d,e))});return c};q.matches=function(a){return Zd(Ma(a,1))};q.matchesProperty=function(a,b){return Ve(a,Ma(b,1))};q.memoize=
Md;q.merge=ki;q.mergeWith=ug;q.method=xi;q.methodOf=yi;q.mixin=Je;q.negate=Nd;q.nthArg=function(a){a=ca(a);return ea(function(b){return $d(b,a)})};q.omit=li;q.omitBy=function(a,b){return mg(a,Nd(W(b)))};q.once=function(a){return dg(2,a)};q.orderBy=function(a,b,c,d){if(null==a)return[];Z(b)||(b=null==b?[]:[b]);c=d?u:c;Z(c)||(c=null==c?[]:[c]);return We(a,b,c)};q.over=zi;q.overArgs=Vh;q.overEvery=Ai;q.overSome=Bi;q.partial=Te;q.partialRight=sg;q.partition=Rh;q.pick=mi;q.pickBy=mg;q.property=Cf;q.propertyOf=
function(a){return function(b){return null==a?u:bb(a,b)}};q.pull=zh;q.pullAll=Xf;q.pullAllBy=function(a,b,c){return a&&a.length&&b&&b.length?ae(a,b,W(c,2)):a};q.pullAllWith=function(a,b,c){return a&&a.length&&b&&b.length?ae(a,b,u,c):a};q.pullAt=Ah;q.range=Ci;q.rangeRight=Di;q.rearg=Wh;q.reject=function(a,b){return(Z(a)?k:wd)(a,Nd(W(b,3)))};q.remove=function(a,b){var c=[];if(!a||!a.length)return c;var d=-1,e=[],f=a.length;for(b=W(b,3);++d<f;){var g=a[d];b(g,d,a)&&(c.push(g),e.push(d))}gf(a,e);return c};
q.rest=function(a,b){if("function"!=typeof a)throw new jb("Expected a function");b=b===u?b:ca(b);return ea(a,b)};q.reverse=Ee;q.sampleSize=function(a,b,c){b=(c?Sa(a,b,c):b===u)?1:ca(b);return(Z(a)?Yb:Fg)(a,b)};q.set=function(a,b,c){return null==a?a:Db(a,b,c)};q.setWith=function(a,b,c,d){d="function"==typeof d?d:u;return null==a?a:Db(a,b,c,d)};q.shuffle=function(a){return(Z(a)?bc:Ig)(a)};q.slice=function(a,b,c){var d=null==a?0:a.length;if(!d)return[];c&&"number"!=typeof c&&Sa(a,b,c)?(b=0,c=d):(b=null==
b?0:ca(b),c=c===u?d:ca(c));return cb(a,b,c)};q.sortBy=Sh;q.sortedUniq=function(a){return a&&a.length?mf(a):[]};q.sortedUniqBy=function(a,b){return a&&a.length?mf(a,W(b,2)):[]};q.split=function(a,b,c){c&&"number"!=typeof c&&Sa(a,b,c)&&(b=c=u);c=c===u?4294967295:c>>>0;return c?(a=oa(a))&&("string"==typeof b||null!=b&&!Ue(b))&&(b=db(b),!b&&Wa.test(a))?wb(sa(a),0,c):a.split(b,c):[]};q.spread=function(a,c){if("function"!=typeof a)throw new jb("Expected a function");c=null==c?0:Fa(ca(c),0);return ea(function(d){var e=
d[c];d=wb(d,0,c);e&&r(d,e);return b(a,this,d)})};q.tail=function(a){var b=null==a?0:a.length;return b?cb(a,1,b):[]};q.take=function(a,b,c){if(!a||!a.length)return[];b=c||b===u?1:ca(b);return cb(a,0,0>b?0:b)};q.takeRight=function(a,b,c){var d=null==a?0:a.length;if(!d)return[];b=c||b===u?1:ca(b);b=d-b;return cb(a,0>b?0:b,d)};q.takeRightWhile=function(a,b){return a&&a.length?ld(a,W(b,3),!1,!0):[]};q.takeWhile=function(a,b){return a&&a.length?ld(a,W(b,3)):[]};q.tap=function(a,b){b(a);return a};q.throttle=
function(a,b,c){var d=!0,e=!0;if("function"!=typeof a)throw new jb("Expected a function");va(c)&&(d="leading"in c?!!c.leading:d,e="trailing"in c?!!c.trailing:e);return gg(a,b,{leading:d,maxWait:b,trailing:e})};q.thru=Jd;q.toArray=kg;q.toPairs=vg;q.toPairsIn=wg;q.toPath=function(a){return Z(a)?m(a,Bb):gb(a)?[a]:Ya(If(oa(a)))};q.toPlainObject=Ef;q.transform=function(a,b,d){var e=Z(a),f=e||Vb(a)||Dc(a);b=W(b,4);if(null==d){var g=a&&a.constructor;d=f?e?new g:[]:va(a)?Kb(g)?Fc(Hd(a)):{}:{}}(f?c:ib)(a,
function(a,c,e){return b(d,a,c,e)});return d};q.unary=function(a){return cg(a,1)};q.union=Bh;q.unionBy=Ch;q.unionWith=Dh;q.uniq=function(a){return a&&a.length?Qb(a):[]};q.uniqBy=function(a,b){return a&&a.length?Qb(a,W(b,2)):[]};q.uniqWith=function(a,b){b="function"==typeof b?b:u;return a&&a.length?Qb(a,u,b):[]};q.unset=function(a,b){return null==a?!0:fe(a,b)};q.unzip=Fe;q.unzipWith=Yf;q.update=function(a,b,c){null!=a&&(c=oe(c),a=Db(a,b,c(bb(a,b)),void 0));return a};q.updateWith=function(a,b,c,d){d=
"function"==typeof d?d:u;null!=a&&(c=oe(c),a=Db(a,b,c(bb(a,b)),d));return a};q.values=Ec;q.valuesIn=function(a){return null==a?[]:Q(a,Za(a))};q.without=Eh;q.words=Lf;q.wrap=function(a,b){return Te(oe(b),a)};q.xor=Fh;q.xorBy=Gh;q.xorWith=Hh;q.zip=Ih;q.zipObject=function(a,b){return of(a||[],b||[],Qa)};q.zipObjectDeep=function(a,b){return of(a||[],b||[],Db)};q.zipWith=Jh;q.entries=vg;q.entriesIn=wg;q.extend=tg;q.extendWith=Vd;Je(q,q);q.add=Ei;q.attempt=xg;q.camelCase=ni;q.capitalize=ng;q.ceil=Fi;q.clamp=
function(a,b,c){c===u&&(c=b,b=u);c!==u&&(c=lb(c),c=c===c?c:0);b!==u&&(b=lb(b),b=b===b?b:0);return Ib(lb(a),b,c)};q.clone=function(a){return Ma(a,4)};q.cloneDeep=function(a){return Ma(a,5)};q.cloneDeepWith=function(a,b){b="function"==typeof b?b:u;return Ma(a,5,b)};q.cloneWith=function(a,b){b="function"==typeof b?b:u;return Ma(a,4,b)};q.conformsTo=function(a,b){return null==b||wc(a,b,Ia(b))};q.deburr=Mf;q.defaultTo=function(a,b){return null==a||a!==a?b:a};q.divide=Gi;q.endsWith=function(a,b,c){a=oa(a);
b=db(b);var d=a.length;d=c=c===u?d:Ib(ca(c),0,d);c-=b.length;return 0<=c&&a.slice(c,d)==b};q.eq=tb;q.escape=function(a){return(a=oa(a))&&mb.test(a)?a.replace(ma,nc):a};q.escapeRegExp=function(a){return(a=oa(a))&&na.test(a)?a.replace(ba,"\\$\x26"):a};q.every=function(a,b,c){var d=Z(a)?e:qe;c&&Sa(a,b,c)&&(b=u);return d(a,W(b,3))};q.find=Mh;q.findIndex=Uf;q.findKey=function(a,b){return y(a,W(b,3),ib)};q.findLast=Nh;q.findLastIndex=Vf;q.findLastKey=function(a,b){return y(a,W(b,3),yc)};q.floor=Hi;q.forEach=
$f;q.forEachRight=ag;q.forIn=function(a,b){return null==a?a:ve(a,W(b,3),Za)};q.forInRight=function(a,b){return null==a?a:Af(a,W(b,3),Za)};q.forOwn=function(a,b){return a&&ib(a,W(b,3))};q.forOwnRight=function(a,b){return a&&yc(a,W(b,3))};q.get=ue;q.gt=Xh;q.gte=Yh;q.has=function(a,b){return null!=a&&hf(a,b,re)};q.hasIn=xe;q.head=Wf;q.identity=$a;q.includes=function(a,b,c,d){a=ab(a)?a:Ec(a);c=c&&!d?ca(c):0;d=a.length;0>c&&(c=Fa(d+c,0));return Od(a)?c<=d&&-1<a.indexOf(b,c):!!d&&-1<w(a,b,c)};q.indexOf=
function(a,b,c){var d=null==a?0:a.length;if(!d)return-1;c=null==c?0:ca(c);0>c&&(c=Fa(d+c,0));return w(a,b,c)};q.inRange=function(a,b,c){b=Lb(b);c===u?(c=b,b=0):c=Lb(c);a=lb(a);return a>=Oa(b,c)&&a<Fa(b,c)};q.invoke=ji;q.isArguments=ic;q.isArray=Z;q.isArrayBuffer=Zh;q.isArrayLike=ab;q.isArrayLikeObject=za;q.isBoolean=function(a){return!0===a||!1===a||ya(a)&&"[object Boolean]"==Da(a)};q.isBuffer=Vb;q.isDate=$h;q.isElement=function(a){return ya(a)&&1===a.nodeType&&!Yc(a)};q.isEmpty=function(a){if(null==
a)return!0;if(ab(a)&&(Z(a)||"string"==typeof a||"function"==typeof a.splice||Vb(a)||Dc(a)||ic(a)))return!a.length;var b=Na(a);if("[object Map]"==b||"[object Set]"==b)return!a.size;if(Xc(a))return!Ta(a).length;for(var c in a)if(qa.call(a,c))return!1;return!0};q.isEqual=function(a,b){return sb(a,b)};q.isEqualWith=function(a,b,c){var d=(c="function"==typeof c?c:u)?c(a,b):u;return d===u?sb(a,b,u,c):!!d};q.isError=Ge;q.isFinite=function(a){return"number"==typeof a&&Pf(a)};q.isFunction=Kb;q.isInteger=ig;
q.isLength=Cd;q.isMap=zf;q.isMatch=function(a,b){return a===b||Cc(a,b,le(b))};q.isMatchWith=function(a,b,c){c="function"==typeof c?c:u;return Cc(a,b,le(b),c)};q.isNaN=function(a){return jg(a)&&a!=+a};q.isNative=function(a){if(sh(a))throw new Ne("Unsupported core-js use. Try https://npms.io/search?q\x3dponyfill.");return yd(a)};q.isNil=function(a){return null==a};q.isNull=function(a){return null===a};q.isNumber=jg;q.isObject=va;q.isObjectLike=ya;q.isPlainObject=Yc;q.isRegExp=Ue;q.isSafeInteger=function(a){return ig(a)&&
-9007199254740991<=a&&9007199254740991>=a};q.isSet=yf;q.isString=Od;q.isSymbol=gb;q.isTypedArray=Dc;q.isUndefined=function(a){return a===u};q.isWeakMap=function(a){return ya(a)&&"[object WeakMap]"==Na(a)};q.isWeakSet=function(a){return ya(a)&&"[object WeakSet]"==Da(a)};q.join=function(a,b){return null==a?"":kh.call(a,b)};q.kebabCase=oi;q.last=kb;q.lastIndexOf=function(a,b,c){var d=null==a?0:a.length;if(!d)return-1;var e=d;c!==u&&(e=ca(c),e=0>e?Fa(d+e,0):Oa(e,d-1));if(b===b)a:{for(c=e+1;c--;)if(a[c]===
b){a=c;break a}a=c}else a=D(a,F,e,!0);return a};q.lowerCase=pi;q.lowerFirst=qi;q.lt=ai;q.lte=bi;q.max=function(a){return a&&a.length?fc(a,$a,Ab):u};q.maxBy=function(a,b){return a&&a.length?fc(a,W(b,2),Ab):u};q.mean=function(a){return P(a,$a)};q.meanBy=function(a,b){return P(a,W(b,2))};q.min=function(a){return a&&a.length?fc(a,$a,dd):u};q.minBy=function(a,b){return a&&a.length?fc(a,W(b,2),dd):u};q.stubArray=Le;q.stubFalse=Me;q.stubObject=function(){return{}};q.stubString=function(){return""};q.stubTrue=
function(){return!0};q.multiply=Ii;q.nth=function(a,b){return a&&a.length?$d(a,ca(b)):u};q.noConflict=function(){Aa._===this&&(Aa._=fh);return this};q.noop=Ke;q.now=Ld;q.pad=function(a,b,c){a=oa(a);var d=(b=ca(b))?V(a):0;if(!b||d>=b)return a;b=(b-d)/2;return qd(Ed(b),c)+a+qd(Gd(b),c)};q.padEnd=function(a,b,c){a=oa(a);var d=(b=ca(b))?V(a):0;return b&&d<b?a+qd(b-d,c):a};q.padStart=function(a,b,c){a=oa(a);var d=(b=ca(b))?V(a):0;return b&&d<b?qd(b-d,c)+a:a};q.parseInt=function(a,b,c){c||null==b?b=0:b&&
(b=+b);return lh(oa(a).replace(E,""),b||0)};q.random=function(a,b,c){c&&"boolean"!=typeof c&&Sa(a,b,c)&&(b=c=u);c===u&&("boolean"==typeof b?(c=b,b=u):"boolean"==typeof a&&(c=a,a=u));a===u&&b===u?(a=0,b=1):(a=Lb(a),b===u?(b=a,a=0):b=Lb(b));if(a>b){var d=a;a=b;b=d}return c||a%1||b%1?(c=Ff(),Oa(a+c*(b-a+Va("1e-"+((c+"").length-1))),b)):ke(a,b)};q.reduce=function(a,b,c){var d=Z(a)?g:M,e=3>arguments.length;return d(a,W(b,4),c,e,Wb)};q.reduceRight=function(a,b,c){var d=Z(a)?n:M,e=3>arguments.length;return d(a,
W(b,4),c,e,bg)};q.repeat=function(a,b,c){b=(c?Sa(a,b,c):b===u)?1:ca(b);return me(oa(a),b)};q.replace=function(){var a=arguments,b=oa(a[0]);return 3>a.length?b:b.replace(a[1],a[2])};q.result=function(a,b,c){b=Rb(b,a);var d=-1,e=b.length;e||(e=1,a=u);for(;++d<e;){var f=null==a?u:a[Bb(b[d])];f===u&&(d=e,f=c);a=Kb(f)?f.call(a):f}return a};q.round=Ji;q.runInContext=nb;q.sample=function(a){return(Z(a)?Mb:Hg)(a)};q.size=function(a){if(null==a)return 0;if(ab(a))return Od(a)?V(a):a.length;var b=Na(a);return"[object Map]"==
b||"[object Set]"==b?a.size:Ta(a).length};q.snakeCase=ri;q.some=function(a,b,c){var d=Z(a)?x:Jg;c&&Sa(a,b,c)&&(b=u);return d(a,W(b,3))};q.sortedIndex=function(a,b){return kd(a,b)};q.sortedIndexBy=function(a,b,c){return ie(a,b,W(c,2))};q.sortedIndexOf=function(a,b){var c=null==a?0:a.length;if(c){var d=kd(a,b);if(d<c&&tb(a[d],b))return d}return-1};q.sortedLastIndex=function(a,b){return kd(a,b,!0)};q.sortedLastIndexBy=function(a,b,c){return ie(a,b,W(c,2),!0)};q.sortedLastIndexOf=function(a,b){if(null==
a?0:a.length){var c=kd(a,b,!0)-1;if(tb(a[c],b))return c}return-1};q.startCase=si;q.startsWith=function(a,b,c){a=oa(a);c=null==c?0:Ib(ca(c),0,a.length);b=db(b);return a.slice(c,c+b.length)==b};q.subtract=Ki;q.sum=function(a){return a&&a.length?O(a,$a):0};q.sumBy=function(a,b){return a&&a.length?O(a,W(b,2)):0};q.template=function(a,b,c){var d=q.templateSettings;c&&Sa(a,b,c)&&(b=u);a=oa(a);b=Vd({},b,d,de);c=Vd({},b.imports,d.imports,de);var e=Ia(c),f=Q(c,e),g,h,k=0;c=b.interpolate||Ja;var l="__p +\x3d '";
c=Oe((b.escape||Ja).source+"|"+c.source+"|"+(c===Mc?Eb:Ja).source+"|"+(b.evaluate||Ja).source+"|$","g");var n="//# sourceURL\x3d"+(qa.call(b,"sourceURL")?(b.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Lc+"]")+"\n";a.replace(c,function(b,c,d,e,f,n){d||(d=e);l+=a.slice(k,n).replace(qb,ia);c&&(g=!0,l+="' +\n__e("+c+") +\n'");f&&(h=!0,l+="';\n"+f+";\n__p +\x3d '");d&&(l+="' +\n((__t \x3d ("+d+")) \x3d\x3d null ? '' : __t) +\n'");k=n+b.length;return b});l+="';\n";b=qa.call(b,"variable")&&
b.variable;if(!b)l="with (obj) {\n"+l+"\n}\n";else if(yb.test(b))throw new Ne("Invalid `variable` option passed into `_.template`");l=(h?l.replace(xa,""):l).replace(oc,"$1").replace(Xa,"$1;");l="function("+(b||"obj")+") {\n"+(b?"":"obj || (obj \x3d {});\n")+"var __t, __p \x3d ''"+(g?", __e \x3d _.escape":"")+(h?", __j \x3d Array.prototype.join;\nfunction print() { __p +\x3d __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";b=xg(function(){return og(e,n+"return "+l).apply(u,f)});b.source=l;if(Ge(b))throw b;
return b};q.times=function(a,b){a=ca(a);if(1>a||9007199254740991<a)return[];var c=4294967295,d=Oa(a,4294967295);b=W(b);a-=4294967295;for(d=S(d,b);++c<a;)b(c);return d};q.toFinite=Lb;q.toInteger=ca;q.toLength=lg;q.toLower=function(a){return oa(a).toLowerCase()};q.toNumber=lb;q.toSafeInteger=function(a){return a?Ib(ca(a),-9007199254740991,9007199254740991):0===a?a:0};q.toString=oa;q.toUpper=function(a){return oa(a).toUpperCase()};q.trim=function(a,b,c){if((a=oa(a))&&(c||b===u))return K(a);if(!a||!(b=
db(b)))return a;a=sa(a);c=sa(b);b=T(a,c);c=ha(a,c)+1;return wb(a,b,c).join("")};q.trimEnd=function(a,b,c){if((a=oa(a))&&(c||b===u))return a.slice(0,ob(a)+1);if(!a||!(b=db(b)))return a;a=sa(a);b=ha(a,sa(b))+1;return wb(a,0,b).join("")};q.trimStart=function(a,b,c){if((a=oa(a))&&(c||b===u))return a.replace(E,"");if(!a||!(b=db(b)))return a;a=sa(a);b=T(a,sa(b));return wb(a,b).join("")};q.truncate=function(a,b){var c=30,d="...";if(va(b)){var e="separator"in b?b.separator:e;c="length"in b?ca(b.length):c;
d="omission"in b?db(b.omission):d}a=oa(a);b=a.length;if(Wa.test(a)){var f=sa(a);b=f.length}if(c>=b)return a;b=c-V(d);if(1>b)return d;c=f?wb(f,0,b).join(""):a.slice(0,b);if(e===u)return c+d;f&&(b+=c.length-b);if(Ue(e)){if(a.slice(b).search(e)){f=c;e.global||(e=Oe(e.source,oa(Sb.exec(e))+"g"));for(e.lastIndex=0;a=e.exec(f);)var g=a.index;c=c.slice(0,g===u?b:g)}}else a.indexOf(db(e),b)!=b&&(e=c.lastIndexOf(e),-1<e&&(c=c.slice(0,e)));return c+d};q.unescape=function(a){return(a=oa(a))&&pc.test(a)?a.replace(Ob,
Sc):a};q.uniqueId=function(a){var b=++eh;return oa(a)+b};q.upperCase=ti;q.upperFirst=He;q.each=$f;q.eachRight=ag;q.first=Wf;Je(q,function(){var a={};ib(q,function(b,c){qa.call(q.prototype,c)||(a[c]=b)});return a}(),{chain:!1});q.VERSION="4.17.21";c("bind bindKey curry curryRight partial partialRight".split(" "),function(a){q[a].placeholder=q});c(["drop","take"],function(a,b){da.prototype[a]=function(c){c=c===u?1:Fa(ca(c),0);var d=this.__filtered__&&!b?new da(this):this.clone();d.__filtered__?d.__takeCount__=
Oa(c,d.__takeCount__):d.__views__.push({size:Oa(c,4294967295),type:a+(0>d.__dir__?"Right":"")});return d};da.prototype[a+"Right"]=function(b){return this.reverse()[a](b).reverse()}});c(["filter","map","takeWhile"],function(a,b){var c=b+1,d=1==c||3==c;da.prototype[a]=function(a){var b=this.clone();b.__iteratees__.push({iteratee:W(a,3),type:c});b.__filtered__=b.__filtered__||d;return b}});c(["head","last"],function(a,b){var c="take"+(b?"Right":"");da.prototype[a]=function(){return this[c](1).value()[0]}});
c(["initial","tail"],function(a,b){var c="drop"+(b?"":"Right");da.prototype[a]=function(){return this.__filtered__?new da(this):this[c](1)}});da.prototype.compact=function(){return this.filter($a)};da.prototype.find=function(a){return this.filter(a).head()};da.prototype.findLast=function(a){return this.reverse().find(a)};da.prototype.invokeMap=ea(function(a,b){return"function"==typeof a?new da(this):this.map(function(c){return hc(c,a,b)})});da.prototype.reject=function(a){return this.filter(Nd(W(a)))};
da.prototype.slice=function(a,b){a=ca(a);var c=this;if(c.__filtered__&&(0<a||0>b))return new da(c);0>a?c=c.takeRight(-a):a&&(c=c.drop(a));b!==u&&(b=ca(b),c=0>b?c.dropRight(-b):c.take(b-a));return c};da.prototype.takeRightWhile=function(a){return this.reverse().takeWhile(a).reverse()};da.prototype.toArray=function(){return this.take(4294967295)};ib(da.prototype,function(a,b){var c=/^(?:filter|find|map|reject)|While$/.test(b),d=/^(?:head|last)$/.test(b),e=q[d?"take"+("last"==b?"Right":""):b],f=d||/^find/.test(b);
e&&(q.prototype[b]=function(){var b=this.__wrapped__,g=d?[1]:arguments,h=b instanceof da,k=g[0],l=h||Z(b),n=function(a){a=e.apply(q,r([a],g));return d&&m?a[0]:a};l&&c&&"function"==typeof k&&1!=k.length&&(h=l=!1);var m=this.__chain__,ja=!!this.__actions__.length;k=f&&!m;h=h&&!ja;if(!f&&l)return b=h?b:new da(this),b=a.apply(b,g),b.__actions__.push({func:Jd,args:[n],thisArg:u}),new Ka(b,m);if(k&&h)return a.apply(this,g);b=this.thru(n);return k?d?b.value()[0]:b.value():b})});c("pop push shift sort splice unshift".split(" "),
function(a){var b=Qd[a],c=/^(?:push|sort|unshift)$/.test(a)?"tap":"thru",d=/^(?:pop|shift)$/.test(a);q.prototype[a]=function(){var a=arguments;if(d&&!this.__chain__){var e=this.value();return b.apply(Z(e)?e:[],a)}return this[c](function(c){return b.apply(Z(c)?c:[],a)})}});ib(da.prototype,function(a,b){if(a=q[b]){var c=a.name+"";qa.call(Ic,c)||(Ic[c]=[]);Ic[c].push({name:b,func:a})}});Ic[od(u,2).name]=[{name:"wrapper",func:u}];da.prototype.clone=function(){var a=new da(this.__wrapped__);a.__actions__=
Ya(this.__actions__);a.__dir__=this.__dir__;a.__filtered__=this.__filtered__;a.__iteratees__=Ya(this.__iteratees__);a.__takeCount__=this.__takeCount__;a.__views__=Ya(this.__views__);return a};da.prototype.reverse=function(){if(this.__filtered__){var a=new da(this);a.__dir__=-1;a.__filtered__=!0}else a=this.clone(),a.__dir__*=-1;return a};da.prototype.value=function(){var a=this.__wrapped__.value(),b=this.__dir__,c=Z(a),d=0>b,e=c?a.length:0;var f=0;for(var g=e,h=this.__views__,k=-1,l=h.length;++k<
l;){var n=h[k],m=n.size;switch(n.type){case "drop":f+=m;break;case "dropRight":g-=m;break;case "take":g=Oa(g,f+m);break;case "takeRight":f=Fa(f,g-m)}}h=g;g=h-f;f=d?h:f-1;h=this.__iteratees__;k=h.length;l=0;n=Oa(g,this.__takeCount__);if(!c||!d&&e==g&&n==g)return ff(a,this.__actions__);c=[];a:for(;g--&&l<n;){f+=b;d=-1;for(e=a[f];++d<k;){var r=h[d];m=r.iteratee;r=r.type;m=m(e);if(2==r)e=m;else if(!m)if(1==r)continue a;else break a}c[l++]=e}return c};q.prototype.at=Kh;q.prototype.chain=function(){return Zf(this)};
q.prototype.commit=function(){return new Ka(this.value(),this.__chain__)};q.prototype.next=function(){this.__values__===u&&(this.__values__=kg(this.value()));var a=this.__index__>=this.__values__.length,b=a?u:this.__values__[this.__index__++];return{done:a,value:b}};q.prototype.plant=function(a){for(var b,c=this;c instanceof G;){var d=xf(c);d.__index__=0;d.__values__=u;b?e.__wrapped__=d:b=d;var e=d;c=c.__wrapped__}e.__wrapped__=a;return b};q.prototype.reverse=function(){var a=this.__wrapped__;return a instanceof
da?(this.__actions__.length&&(a=new da(this)),a=a.reverse(),a.__actions__.push({func:Jd,args:[Ee],thisArg:u}),new Ka(a,this.__chain__)):this.thru(Ee)};q.prototype.toJSON=q.prototype.valueOf=q.prototype.value=function(){return ff(this.__wrapped__,this.__actions__)};q.prototype.first=q.prototype.head;$c&&(q.prototype[$c]=ch);return q}();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(Aa._=rb,define(function(){return rb})):fb?((fb.exports=rb)._=rb,Gb._=rb):Aa._=rb}).call(this);
window.$CQ=_g.$;
(function(b){var a="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"===typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,l){a.Backbone=b(a,l,c,d)});else if("undefined"!==typeof exports){var c=require("underscore");try{var d=require("jquery")}catch(e){}b(a,exports,c,d)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)})(function(b,a,c,d){var e=b.Backbone,k=Array.prototype.slice;a.VERSION="1.4.1";
a.$=d;a.noConflict=function(){b.Backbone=e;return this};a.emulateHTTP=!1;a.emulateJSON=!1;d=a.Events={};var l=/\s+/,f,m=function(a,b,d,e,f){var g=0,k;if(d&&"object"===typeof d)for(void 0!==e&&("context"in f)&&void 0===f.context&&(f.context=e),k=c.keys(d);g<k.length;g++)b=m(a,b,k[g],d[k[g]],f);else if(d&&l.test(d))for(k=d.split(l);g<k.length;g++)b=a(b,k[g],e,f);else b=a(b,d,e,f);return b};d.on=function(a,b,c){this._events=m(r,this._events||{},a,b,{context:c,ctx:this,listening:f});f&&((this._listeners||
(this._listeners={}))[f.id]=f,f.interop=!1);return this};d.listenTo=function(a,b,d){if(!a)return this;var e=a._listenId||(a._listenId=c.uniqueId("l")),g=this._listeningTo||(this._listeningTo={}),k=f=g[e];k||(this._listenId||(this._listenId=c.uniqueId("l")),k=f=g[e]=new D(this,a));a:{try{a.on(b,d,this)}catch(ma){a=ma;break a}a=void 0}f=void 0;if(a)throw a;if(k.interop)k.on(b,d);return this};var r=function(a,b,c,d){if(c){b=a[b]||(a[b]=[]);var e=d.context,f=d.ctx;(d=d.listening)&&d.count++;b.push({callback:c,
context:e,ctx:e||f,listening:d})}return a};d.off=function(a,b,c){if(!this._events)return this;this._events=m(g,this._events,a,b,{context:c,listeners:this._listeners});return this};d.stopListening=function(a,b,d){var e=this._listeningTo;if(!e)return this;a=a?[a._listenId]:c.keys(e);for(var f=0;f<a.length;f++){var g=e[a[f]];if(!g)break;g.obj.off(b,d,this);g.interop&&g.off(b,d)}c.isEmpty(e)&&(this._listeningTo=void 0);return this};var g=function(a,b,d,e){if(a){var f=e.context,g=e.listeners;e=0;var k;
if(b||f||d){for(k=b?[b]:c.keys(a);e<k.length;e++){b=k[e];g=a[b];if(!g)break;for(var l=[],n=0;n<g.length;n++){var m=g[n];d&&d!==m.callback&&d!==m.callback._callback||f&&f!==m.context?l.push(m):(m=m.listening)&&m.off(b,d)}l.length?a[b]=l:delete a[b]}return a}for(k=c.keys(g);e<k.length;e++)g[k[e]].cleanup()}};d.once=function(a,b,c){var d=m(n,{},a,b,this.off.bind(this));"string"===typeof a&&null==c&&(b=void 0);return this.on(d,b,c)};d.listenToOnce=function(a,b,c){b=m(n,{},b,c,this.stopListening.bind(this,
a));return this.listenTo(a,b)};var n=function(a,b,d,e){if(d){var f=a[b]=c.once(function(){e(b,f);d.apply(this,arguments)});f._callback=d}return a};d.trigger=function(a){if(!this._events)return this;for(var b=Math.max(0,arguments.length-1),c=Array(b),d=0;d<b;d++)c[d]=arguments[d+1];m(x,this._events,a,void 0,c);return this};var x=function(a,b,c,d){if(a){c=a[b];var e=a.all;c&&e&&(e=e.slice());c&&y(c,d);e&&y(e,[b].concat(d))}return a},y=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],k=b[2];switch(b.length){case 0:for(;++d<
e;)(c=a[d]).callback.call(c.ctx);break;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);break;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);break;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,k);break;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b)}},D=function(a,b){this.id=a._listenId;this.listener=a;this.obj=b;this.interop=!0;this.count=0;this._events=void 0};D.prototype.on=d.on;D.prototype.off=function(a,b){this.interop?(this._events=m(g,this._events,a,b,{context:void 0,listeners:void 0}),
a=!this._events):(this.count--,a=0===this.count);a&&this.cleanup()};D.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId];this.interop||delete this.obj._listeners[this.id]};d.bind=d.on;d.unbind=d.off;c.extend(a,d);var w=a.Model=function(a,b){var d=a||{};b||(b={});this.preinitialize.apply(this,arguments);this.cid=c.uniqueId(this.cidPrefix);this.attributes={};b.collection&&(this.collection=b.collection);b.parse&&(d=this.parse(d,b)||{});var e=c.result(this,"defaults");
d=c.defaults(c.extend({},e,d),e);this.set(d,b);this.changed={};this.initialize.apply(this,arguments)};c.extend(w.prototype,d,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(a){return c.clone(this.attributes)},sync:function(){return a.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},matches:function(a){return!!c.iteratee(a,
this)(this.attributes)},set:function(a,b,d){if(null==a)return this;if("object"===typeof a){var e=a;d=b}else(e={})[a]=b;d||(d={});if(!this._validate(e,d))return!1;var f=d.unset;a=d.silent;var g=[],k=this._changing;this._changing=!0;k||(this._previousAttributes=c.clone(this.attributes),this.changed={});var l=this.attributes,n=this.changed,m=this._previousAttributes,r;for(r in e)b=e[r],c.isEqual(l[r],b)||g.push(r),c.isEqual(m[r],b)?delete n[r]:n[r]=b,f?delete l[r]:l[r]=b;this.idAttribute in e&&(b=this.id,
this.id=this.get(this.idAttribute),this.trigger("changeId",this,b,d));if(!a)for(g.length&&(this._pending=d),b=0;b<g.length;b++)this.trigger("change:"+g[b],this,l[g[b]],d);if(k)return this;if(!a)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);this._changing=this._pending=!1;return this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={},d;for(d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},
hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b=this._changing?this._previousAttributes:this.attributes,d={},e;for(e in a){var f=a[e];if(!c.isEqual(b[e],f)){d[e]=f;var g=!0}}return g?d:!1},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=
c.extend({parse:!0},a);var b=this,d=a.success;a.success=function(c){var e=a.parse?b.parse(c,a):c;if(!b.set(e,a))return!1;d&&d.call(a.context,b,c,a);b.trigger("sync",b,c,a)};wa(this,a);return this.sync("read",this,a)},save:function(a,b,d){if(null==a||"object"===typeof a){var e=a;d=b}else(e={})[a]=b;d=c.extend({validate:!0,parse:!0},d);var f=d.wait;if(e&&!f){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;var g=this,k=d.success,l=this.attributes;d.success=function(a){g.attributes=l;
var b=d.parse?g.parse(a,d):a;f&&(b=c.extend({},e,b));if(b&&!g.set(b,d))return!1;k&&k.call(d.context,g,a,d);g.trigger("sync",g,a,d)};wa(this,d);e&&f&&(this.attributes=c.extend({},l,e));a=this.isNew()?"create":d.patch?"patch":"update";"patch"!==a||d.attrs||(d.attrs=e);a=this.sync(a,this,d);this.attributes=l;return a},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=a.wait,f=function(){b.stopListening();b.trigger("destroy",b,b.collection,a)};a.success=function(c){e&&f();d&&d.call(a.context,
b,c,a);b.isNew()||b.trigger("sync",b,c,a)};var g=!1;this.isNew()?c.defer(a.success):(wa(this,a),g=this.sync("delete",this,a));e||f();return g},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||u();if(this.isNew())return a;var b=this.get(this.idAttribute);return a.replace(/[^\/]$/,"$\x26/")+encodeURIComponent(b)},parse:function(a,b){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},
c.extend({},a,{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);a=this.validationError=this.validate(a,b)||null;if(!a)return!0;this.trigger("invalid",this,a,c.extend(b,{validationError:a}));return!1}});var B=a.Collection=function(a,b){b||(b={});this.preinitialize.apply(this,arguments);b.model&&(this.model=b.model);void 0!==b.comparator&&(this.comparator=b.comparator);this._reset();this.initialize.apply(this,arguments);a&&this.reset(a,
c.extend({silent:!0},b))},F={add:!0,remove:!0,merge:!0},P={add:!0,remove:!1},A=function(a,b,c){c=Math.min(Math.max(c,0),a.length);var d=Array(a.length-c),e=b.length,f;for(f=0;f<d.length;f++)d[f]=a[f+c];for(f=0;f<e;f++)a[f+c]=b[f];for(f=0;f<d.length;f++)a[f+e+c]=d[f]};c.extend(B.prototype,d,{model:w,preinitialize:function(){},initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return a.sync.apply(this,arguments)},add:function(a,b){return this.set(a,
c.extend({merge:!1},b,P))},remove:function(a,b){b=c.extend({},b);var d=!c.isArray(a);a=d?[a]:a.slice();a=this._removeModels(a,b);!b.silent&&a.length&&(b.changes={added:[],merged:[],removed:a},this.trigger("update",this,b));return d?a[0]:a},set:function(a,b){if(null!=a){b=c.extend({},F,b);b.parse&&!this._isModel(a)&&(a=this.parse(a,b)||[]);var d=!c.isArray(a);a=d?[a]:a.slice();var e=b.at;null!=e&&(e=+e);e>this.length&&(e=this.length);0>e&&(e+=this.length+1);var f=[],g=[],k=[],l=[],n={},m=b.add,r=b.merge,
w=b.remove,R=!1,y=this.comparator&&null==e&&!1!==b.sort,u=c.isString(this.comparator)?this.comparator:null,x;for(x=0;x<a.length;x++){var K=a[x];var B=this.get(K);B?(r&&K!==B&&(K=this._isModel(K)?K.attributes:K,b.parse&&(K=B.parse(K,b)),B.set(K,b),k.push(B),y&&!R&&(R=B.hasChanged(u))),n[B.cid]||(n[B.cid]=!0,f.push(B)),a[x]=B):m&&(K=a[x]=this._prepareModel(K,b))&&(g.push(K),this._addReference(K,b),n[K.cid]=!0,f.push(K))}if(w){for(x=0;x<this.length;x++)K=this.models[x],n[K.cid]||l.push(K);l.length&&
this._removeModels(l,b)}n=!1;f.length&&!y&&m&&w?(n=this.length!==f.length||c.some(this.models,function(a,b){return a!==f[b]}),this.models.length=0,A(this.models,f,0),this.length=this.models.length):g.length&&(y&&(R=!0),A(this.models,g,null==e?this.length:e),this.length=this.models.length);R&&this.sort({silent:!0});if(!b.silent){for(x=0;x<g.length;x++)null!=e&&(b.index=e+x),K=g[x],K.trigger("add",K,this,b);(R||n)&&this.trigger("sort",this,b);if(g.length||l.length||k.length)b.changes={added:g,removed:l,
merged:k},this.trigger("update",this,b)}return d?a[0]:a}},reset:function(a,b){b=b?c.clone(b):{};for(var d=0;d<this.models.length;d++)this._removeReference(this.models[d],b);b.previousModels=this.models;this._reset();a=this.add(a,c.extend({silent:!0},b));b.silent||this.trigger("reset",this,b);return a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a)},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},
shift:function(a){var b=this.at(0);return this.remove(b,a)},slice:function(){return k.apply(this.models,arguments)},get:function(a){if(null!=a)return this._byId[a]||this._byId[this.modelId(this._isModel(a)?a.attributes:a,a.idAttribute)]||a.cid&&this._byId[a.cid]},has:function(a){return null!=this.get(a)},at:function(a){0>a&&(a+=this.length);return this.models[a]},where:function(a,b){return this[b?"find":"filter"](a)},findWhere:function(a){return this.where(a,!0)},sort:function(a){var b=this.comparator;
if(!b)throw Error("Cannot sort a set without a comparator");a||(a={});var d=b.length;c.isFunction(b)&&(b=b.bind(this));1===d||c.isString(b)?this.models=this.sortBy(b):this.models.sort(b);a.silent||this.trigger("sort",this,a);return this},pluck:function(a){return this.map(a+"")},fetch:function(a){a=c.extend({parse:!0},a);var b=a.success,d=this;a.success=function(c){d[a.reset?"reset":"set"](c,a);b&&b.call(a.context,d,c,a);d.trigger("sync",d,c,a)};wa(this,a);return this.sync("read",this,a)},create:function(a,
b){b=b?c.clone(b):{};var d=b.wait;a=this._prepareModel(a,b);if(!a)return!1;d||this.add(a,b);var e=this,f=b.success;b.success=function(a,b,c){d&&e.add(a,c);f&&f.call(c.context,a,b,c)};a.save(null,b);return a},parse:function(a,b){return a},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(a,b){return a[b||this.model.prototype.idAttribute||"id"]},values:function(){return new M(this,fa)},keys:function(){return new M(this,O)},entries:function(){return new M(this,
S)},_reset:function(){this.length=0;this.models=[];this._byId={}},_prepareModel:function(a,b){if(this._isModel(a))return a.collection||(a.collection=this),a;b=b?c.clone(b):{};b.collection=this;a=this.model.prototype?new this.model(a,b):this.model(a,b);if(!a.validationError)return a;this.trigger("invalid",this,a.validationError,b);return!1},_removeModels:function(a,b){for(var c=[],d=0;d<a.length;d++){var e=this.get(a[d]);if(e){var f=this.indexOf(e);this.models.splice(f,1);this.length--;delete this._byId[e.cid];
var g=this.modelId(e.attributes,e.idAttribute);null!=g&&delete this._byId[g];b.silent||(b.index=f,e.trigger("remove",e,this,b));c.push(e);this._removeReference(e,b)}}return c},_isModel:function(a){return a instanceof w},_addReference:function(a,b){this._byId[a.cid]=a;b=this.modelId(a.attributes,a.idAttribute);null!=b&&(this._byId[b]=a);a.on("all",this._onModelEvent,this)},_removeReference:function(a,b){delete this._byId[a.cid];b=this.modelId(a.attributes,a.idAttribute);null!=b&&delete this._byId[b];
this===a.collection&&delete a.collection;a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){if(b){if(("add"===a||"remove"===a)&&c!==this)return;"destroy"===a&&this.remove(b,d);if("changeId"===a){var e=this.modelId(b.previousAttributes(),b.idAttribute),f=this.modelId(b.attributes,b.idAttribute);null!=e&&delete this._byId[e];null!=f&&(this._byId[f]=b)}}this.trigger.apply(this,arguments)}});$jscomp.initSymbol();$jscomp.initSymbol();$jscomp.initSymbolIterator();var G="function"===typeof Symbol&&
Symbol.iterator;G&&(B.prototype[G]=B.prototype.values);var M=function(a,b){this._collection=a;this._kind=b;this._index=0},fa=1,O=2,S=3;G&&(M.prototype[G]=function(){return this});M.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var a=this._collection.at(this._index);this._index++;if(this._kind!==fa){var b=this._collection.modelId(a.attributes,a.idAttribute);a=this._kind===O?b:[b,a]}return{value:a,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};
G=a.View=function(a){this.cid=c.uniqueId("view");this.preinitialize.apply(this,arguments);c.extend(this,c.pick(a,K));this._ensureElement();this.initialize.apply(this,arguments)};var H=/^(\S+)\s*(.*)$/,K="model collection el id attributes className tagName events".split(" ");c.extend(G.prototype,d,{tagName:"div",$:function(a){return this.$el.find(a)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){this._removeElement();this.stopListening();return this},
_removeElement:function(){this.$el.remove()},setElement:function(a){this.undelegateEvents();this._setElement(a);this.delegateEvents();return this},_setElement:function(b){this.$el=b instanceof a.$?b:a.$(b);this.el=this.$el[0]},delegateEvents:function(a){a||(a=c.result(this,"events"));if(!a)return this;this.undelegateEvents();for(var b in a){var d=a[b];c.isFunction(d)||(d=this[d]);if(d){var e=b.match(H);this.delegate(e[1],e[2],d.bind(this))}}return this},delegate:function(a,b,c){this.$el.on(a+".delegateEvents"+
this.cid,b,c);return this},undelegateEvents:function(){this.$el&&this.$el.off(".delegateEvents"+this.cid);return this},undelegate:function(a,b,c){this.$el.off(a+".delegateEvents"+this.cid,b,c);return this},_createElement:function(a){return document.createElement(a)},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"));else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id"));this.className&&(a["class"]=c.result(this,"className"));this.setElement(this._createElement(c.result(this,
"tagName")));this._setAttributes(a)}},_setAttributes:function(a){this.$el.attr(a)}});var C=function(a,b,c,d){switch(b){case 1:return function(){return a[c](this[d])};case 2:return function(b){return a[c](this[d],b)};case 3:return function(b,e){return a[c](this[d],U(b,this),e)};case 4:return function(b,e,f){return a[c](this[d],U(b,this),e,f)};default:return function(){var b=k.call(arguments);b.unshift(this[d]);return a[c].apply(a,b)}}},Q=function(a,b,d,e){c.each(d,function(c,d){b[d]&&(a.prototype[d]=
C(b,c,d,e))})},U=function(a,b){return c.isFunction(a)?a:c.isObject(a)&&!b._isModel(a)?T(a):c.isString(a)?function(b){return b.get(a)}:a},T=function(a){var b=c.matches(a);return function(a){return b(a.attributes)}};c.each([[B,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,
without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[w,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(a){var b=a[0],d=a[1],e=a[2];b.mixin=function(a){var d=c.reduce(c.functions(a),function(a,b){a[b]=0;return a},{});Q(b,a,d,e)};Q(b,c,d,e)});a.sync=function(b,d,e){var f=ha[b];c.defaults(e||(e={}),{emulateHTTP:a.emulateHTTP,emulateJSON:a.emulateJSON});
var g={type:f,dataType:"json"};e.url||(g.url=c.result(d,"url")||u());null!=e.data||!d||"create"!==b&&"update"!==b&&"patch"!==b||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e)));e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{});if(e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST";e.emulateJSON&&(g.data._method=f);var k=e.beforeSend;e.beforeSend=function(a){a.setRequestHeader("X-HTTP-Method-Override",f);
if(k)return k.apply(this,arguments)}}"GET"===g.type||e.emulateJSON||(g.processData=!1);var l=e.error;e.error=function(a,b,c){e.textStatus=b;e.errorThrown=c;l&&l.call(e.context,a,b,c)};b=e.xhr=a.ajax(c.extend(g,e));d.trigger("request",d,b,e);return b};var ha={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};a.ajax=function(){return a.$.ajax.apply(a.$,arguments)};var ia=a.Router=function(a){a||(a={});this.preinitialize.apply(this,arguments);a.routes&&(this.routes=a.routes);this._bindRoutes();
this.initialize.apply(this,arguments)},Y=/\((.*?)\)/g,ka=/(\(\?)?:\w+/g,R=/\*\w+/g,aa=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(ia.prototype,d,{preinitialize:function(){},initialize:function(){},route:function(b,d,e){c.isRegExp(b)||(b=this._routeToRegExp(b));c.isFunction(d)&&(e=d,d="");e||(e=this[d]);var f=this;a.history.route(b,function(c){c=f._extractParameters(b,c);!1!==f.execute(e,c,d)&&(f.trigger.apply(f,["route:"+d].concat(c)),f.trigger("route",d,c),a.history.trigger("route",f,d,c))});return this},
execute:function(a,b,c){a&&a.apply(this,b)},navigate:function(b,c){a.history.navigate(b,c);return this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){a=a.replace(aa,"\\$\x26").replace(Y,"(?:$1)?").replace(ka,function(a,b){return b?a:"([^/?]+)"}).replace(R,"([^?]*?)");return new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);
return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var N=a.History=function(){this.handlers=[];this.checkUrl=this.checkUrl.bind(this);"undefined"!==typeof window&&(this.location=window.location,this.history=window.history)},V=/^[#\/]|\s+$/g,sa=/^\/+|\/+$/g,ob=/#.*$/;N.started=!1;c.extend(N.prototype,d,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$\x26/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,
this.root.length-1)+"/"===this.root},decodeFragment:function(a){return decodeURI(a.replace(/%25/g,"%2525"))},getSearch:function(){var a=this.location.href.replace(/#.*/,"").match(/\?.+/);return a?a[0]:""},getHash:function(a){return(a=(a||this).location.href.match(/#(.*)$/))?a[1]:""},getPath:function(){var a=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===a.charAt(0)?a.slice(1):a},getFragment:function(a){null==a&&(a=this._usePushState||!this._wantsHashChange?
this.getPath():this.getHash());return a.replace(V,"")},start:function(a){if(N.started)throw Error("Backbone.history has already been started");N.started=!0;this.options=c.extend({root:"/"},this.options,a);this.root=this.options.root;this._wantsHashChange=!1!==this.options.hashChange;this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode);this._useHashChange=this._wantsHashChange&&this._hasHashChange;this._wantsPushState=!!this.options.pushState;this._hasPushState=
!(!this.history||!this.history.pushState);this._usePushState=this._wantsPushState&&this._hasPushState;this.fragment=this.getFragment();this.root=("/"+this.root+"/").replace(sa,"/");if(this._wantsHashChange&&this._wantsPushState)if(this._hasPushState||this.atRoot())this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0});else return a=this.root.slice(0,-1)||"/",this.location.replace(a+"#"+this.getPath()),!0;this._hasHashChange||!this._wantsHashChange||this._usePushState||(this.iframe=
document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1,a=document.body,a=a.insertBefore(this.iframe,a.firstChild).contentWindow,a.document.open(),a.document.close(),a.location.hash="#"+this.fragment);a=window.addEventListener||function(a,b){return attachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=
setInterval(this.checkUrl,this.interval));if(!this.options.silent)return this.loadUrl()},stop:function(){var a=window.removeEventListener||function(a,b){return detachEvent("on"+a,b)};this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&a("hashchange",this.checkUrl,!1);this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null);this._checkUrlInterval&&clearInterval(this._checkUrlInterval);N.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},
checkUrl:function(a){a=this.getFragment();a===this.fragment&&this.iframe&&(a=this.getHash(this.iframe.contentWindow));if(a===this.fragment)return!1;this.iframe&&this.navigate(a);this.loadUrl()},loadUrl:function(a){if(!this.matchRoot())return!1;a=this.fragment=this.getFragment(a);return c.some(this.handlers,function(b){if(b.route.test(a))return b.callback(a),!0})},navigate:function(a,b){if(!N.started)return!1;b&&!0!==b||(b={trigger:!!b});a=this.getFragment(a||"");var c=this.root;if(""===a||"?"===a.charAt(0))c=
c.slice(0,-1)||"/";c+=a;a=a.replace(ob,"");var d=this.decodeFragment(a);if(this.fragment!==d){this.fragment=d;if(this._usePushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else if(this._wantsHashChange)this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getHash(this.iframe.contentWindow)&&(c=this.iframe.contentWindow,b.replace||(c.document.open(),c.document.close()),this._updateHash(c.location,a,b.replace));else return this.location.assign(c);if(b.trigger)return this.loadUrl(a)}},
_updateHash:function(a,b,c){c?(c=a.href.replace(/(javascript:|#).*$/,""),a.replace(c+"#"+b)):a.hash="#"+b}});a.history=new N;w.extend=B.extend=ia.extend=G.extend=N.extend=function(a,b){var d=this;var e=a&&c.has(a,"constructor")?a.constructor:function(){return d.apply(this,arguments)};c.extend(e,d,b);e.prototype=c.create(d.prototype,a);e.prototype.constructor=e;e.__super__=d.prototype;return e};var u=function(){throw Error('A "url" property or function must be specified');},wa=function(a,b){var c=
b.error;b.error=function(d){c&&c.call(b.context,a,d,b);a.trigger("error",a,d,b)}};return a});
(function(b,a,c,d){function e(a,b,c){var d=a.prototype=Object.create(b.prototype);d.constructor=a;d._super=b.prototype;c&&_.extend(d,c)}function k(a,b){for(var c,e=b[0].toUpperCase()+b.slice(1),f=0;f<ia.length;){c=(c=ia[f])?c+e:b;if(c in a)return c;f++}return d}function l(a){return a.trim().split(/\s+/g)}function f(a){return a.trim().split(/,\s+/g)}function m(a){return"px"===C.defaults.units?a:a/C.defaults.ppcm}function r(a){return Math.sqrt(a[0]*a[0]+a[1]*a[1])}function g(b,c){var d=a.createEvent("Event"),
e=c||{};d.initEvent(b,e.bubbles?e.bubbles:!0,e.cancelable?e.cancelable:!0);return _.extend(d,c)}function n(a,b){_.each(_.keys(b),function(c){_.isUndefined(b[c])||(x(b[c])&&(_.isUndefined(a[c])||x(a[c]))?(a[c]=a[c]||{},n(a[c],b[c])):_.isUndefined(a[c])&&(a[c]=b[c]))});return a}function x(a){return a&&"object"===typeof a&&Object.getPrototypeOf(a)===Object.prototype}function y(a,b){Y[b]||(Y[b]=a)}function D(a){a.matchesSelector=a.matches||a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||
a.oMatchesSelector||a.webkitMatchesSelector||function(a){a=(this.parentNode||this.document).querySelectorAll(a);for(var b=-1;a[++b]&&a[b]!==this;);return!!a[b]}}function w(){var b=a.createElement("div");b.style.width="1cm";var c=a.getElementsByTagName("body")[0];c.appendChild(b);var d=a.defaultView.getComputedStyle(b,null).getPropertyValue("width");c.removeChild(b);return parseFloat(d)}function B(a){throw Error("No definition for abstract method "+a+". Must be overridden in subclass.");}function F(a){this.id=
a;this.events=[]}function P(a){var b=a[0];a=a[1];return 0===b&&0===a?0:Math.abs(b)>=Math.abs(a)?0<=b?2:1:0<=a?8:4}function A(a){this.keys=[];this.values={};if(a!==d&&0<a.length)for(var b=a.length;b--;)this.set(a[b])}function G(a,b,c){this.state=this._startState=a;this._processThisVal=c;this._populate(b)}function M(a){this.options=_.defaults(a||{},this.defaults);this.manager=null;this.state=1}function fa(){M.apply(this,arguments);this.reset()}function O(){M.apply(this,arguments);this._stateMachine=
new G(1,this.definition,this);this.reset()}function S(){M.apply(this,arguments);this._stateMachine=new G(1,this.definition,this);this.reset()}function H(){M.apply(this,arguments);this._stateMachine=new G(1,this.definition,this);this.reset()}function K(b,c){this.options=_.defaults(c||{},C.defaults);this.recognizers=[];this.element=b;this.activePointerIDs=[];var d=this;this._handlers={};this._boundHandlePointerDown=function(a){d._handlePointerDown.call(d,a)};this._boundHandlePointerMove=function(a){d._handlePointerMove.call(d,
a)};this._boundHandlePointerUp=function(a){d._handlePointerUp.call(d,a)};this._boundHandleCancelEvent=function(a){d._handleCancelEvent.call(d,a)};this._pendingEmits=[];b.addEventListener("pointerdown",this._boundHandlePointerDown,!1);a.addEventListener("pointerup",this._boundHandlePointerUp,!1);a.addEventListener("pointercancel",this._boundHandlePointerUp,!1);a.addEventListener("sistine-cancelpointers",this._boundHandleCancelEvent,!1);this._populate()}function C(a,b){return new C.Manager(a,b)}function Q(a){C.pointerSet.add(a)}
function U(a){var b=C.pointerSet;b.has(a.pointerId)?b.add(a)||a.stopPropagation():a.stopPropagation()}function T(a){C.pointerSet.remove(a.pointerId)}function ha(){C.defaults.ppcm=w();D(Element.prototype);var c=a.getElementsByTagName("body")[0];_.each(C.defaults.cssProps,function(a,b){c.style[k(c.style,b)]=a});b.addEventListener("pointerdown",Q,!0);b.addEventListener("pointermove",U,!0);b.addEventListener("pointerup",U,!0);b.addEventListener("pointercancel",U,!0);b.addEventListener("pointerup",T,!1);
b.addEventListener("pointercancel",T,!1)}var ia=" webkit moz MS ms o".split(" "),Y={},ka="altKey bubbles button cancelable ctrlKey clientX clientY detail fromElement isPrimary layerX layerY metaKey offsetX offsetY pageX pageY pointerId pointerType pressure relatedTarget screenX screenY shiftKey target tiltX tiltY timeStamp toElement type view x y".split(" ");F.prototype={length:function(){return this.events.length},add:function(a){if("pointermove"===a.type){var b=0<this.events.length?this.events[this.events.length-
1]:null;if(0===a.pressure||b&&"pointermove"===b.type&&b.x===a.x&&b.y===a.y)return null}for(var c={},d=0,e=ka.length;d<e;d++)b=ka[d],c[b]=a[b];if("undefined"===typeof c.x||"undefined"===typeof c.y)c.x=c.pageX,c.y=c.pageY;c.timeStamp=Date.now();this.events.push(c);return c},position:function(){if(0<this.length()){var a=this.events[this.events.length-1];return[a.x,a.y]}return[0,0]},lastVector:function(){if(1<this.length()){var a=this.events[this.events.length-1],b=this.events[this.events.length-2];return[a.x-
b.x,a.y-b.y]}return[0,0]},lastDirection:function(){return P(this.lastVector())},lastDistance:function(){return r(this.lastVector())},totalVector:function(){if(1<this.length()){var a=this.events[this.events.length-1],b=this.events[0];return[a.x-b.x,a.y-b.y]}return[0,0]},totalDirection:function(){return P(this.totalVector())},totalDistance:function(){return r(this.totalVector())},totalCumulativeDistance:function(){for(var a=this.events,b=this.events.length,c=0,d=0;d<b-1;d++){var e=a[d],f=a[d+1];c+=
r([e.x-f.x,e.y-f.y])}return c},duration:function(){return 1<this.length()?Math.abs(this.events[this.events.length-1].timeStamp-this.events[0].timeStamp):0},firstEvent:function(){return this.events[0]},lastEvent:function(){return this.events[this.events.length-1]},eventAtIndex:function(a){return this.events[a]},lastEventType:function(){var a=this.lastEvent();return a?a.type.substring(7):null},lastVelocity:function(){var a=this.events.length,b="up"===this.lastEventType();if(1<this.length()){var c=this.events[Math.max(0,
b?a-3:a-2)];a=this.events[Math.max(0,b?a-2:a-1)];b=(a.timeStamp-c.timeStamp)/1E3;return[(a.x-c.x)/b,(a.y-c.y)/b]}return[0,0]},lastSpeed:function(){return r(this.lastVelocity())},clear:function(){this.events.length=0},initialTarget:function(){return 0===this.events.length?null:this.events[0].target}};A.prototype={count:function(){return this.keys.length},pointerIds:function(){return this.keys.slice()},add:function(a){var b=a.pointerId;if(-1<_.indexOf(this.keys,b))return this.get(b).add(a);var c=new C.Pointer(b);
this.keys.push(b);this._sortKeys();this.values[b]=c;return c.add(a)},set:function(a){var b=a.id;this.has(b)||(this.keys.push(b),this._sortKeys());return this.values[b]=a},remove:function(a){a="number"===typeof a?a:a.id;var b=_.indexOf(this.keys,a);if(-1<b){var c=this.values[a];this.keys.splice(b,1);delete this.values[a];return c}return null},clear:function(){this.keys.length=0;this.values={}},get:function(a){return this.values[a]},has:function(a){a=_.isArray(a)?a:[a];for(var b=0,c=a.length;b<c;b++)if(-1<
_.indexOf(this.keys,a[b]))return!0;return!1},first:function(){return this.values[this.keys[0]]},last:function(){return this.values[this.keys[this.keys.length-1]]},atIndex:function(a){return this.values[this.keys[a]]},subset:function(a){var b=_.filter(this.values,function(b){return a.includes(b.id)});return new A(b)},centroid:function(){if(0===this.keys.length)return[0,0];var a=this.keys,b=this.values,c=[0,0],d,e=a.length;for(d=0;d<e;d++){var f=b[a[d]].position();c[0]+=f[0];c[1]+=f[1]}return[c[0]/
a.length,c[1]/a.length]},averageDistanceFromPoint:function(a){if(0===this.keys.length)return 0;var b=this.keys,c=this.values,d=0,e,f=b.length;for(e=0;e<f;e++){var g=c[b[e]].position();d+=r([g[0]-a[0],g[1]-a[1]])}return d/b.length},filter:function(a){return new A(this._filter(a,!1))},cluster:function(a,b,c){var d=this.values[a];c=_.isUndefined(c)?!0:c;if(!d)return new A;a=function(a){if(c&&"up"===a.lastEventType())return!1;if(d.id===a.id)return!0;var e=d.position();a=a.position();return m(r([e[0]-
a[0],e[1]-a[1]]))<=b};for(var e=[],f=this._filter(a,!0),g=_.clone(this.keys);0<g.length;)d=this.values[g.pop()],e=this._filter(a,!0),0<_.intersection(e,f).length&&(f=_.union(e,f));return new A(this._keysToVals(f))},_filter:function(a,b){var c=this.keys,d=this.values,e=[],f,g=c.length;for(f=0;f<g;f++){var k=c[f];var l=d[k];a(l,this)&&(b?e.push(k):e.push(l))}return e},_sortKeys:function(){this.keys=this.keys.sort(function(a,b){return a-b})},_keysToVals:function(a){var b=[],c,d=a.length;for(c=0;c<d;c++)b.push(this.values[a[c]]);
return b}};G.prototype={process:function(a){var b=this.getRule(a,this.state);if(b){var c=b.before,d=b.async;b=b.transitions;var e=Array.prototype.slice.call(arguments,1);this._applyMaybe(c,e);if(b||d)return c=this._processAsync(d,e)||this._processSync(b,e)||this._returnObject({}),8!==c.state&&32!==c.state&&16!==c.state&&64!==c.state||this.cancelAsync(),c}},cancelAsync:function(){clearTimeout(this._asyncTimeout);delete this._asyncTimeout},reset:function(){this.state=this._startState;this.cancelAsync();
return this.state},getRule:function(a,b){return(a=this._eventRules[a])?a[b]:null},_processAsync:function(a,b){if(!this._asyncTimeout&&a&&a.transitions&&0!==a.transitions.length){var c=this._applyMaybe(a.guard||function(){return!0},b);if(c&&0<c)return this._asyncTimeout=setTimeout(_.bind(this._handleAsyncTimeout,this),c,a.transitions,b),this._returnObject({})}},_handleAsyncTimeout:function(a,b){this.cancelAsync();this._processSync(a,b)},_processSync:function(a,b){if(a&&0!==a.length)for(var c=0,d=a.length;c<
d;c++){var e=a[c],f=e.to,g=e.after,k=e.emit||function(){return{}};if(this._applyMaybe(e.guard||function(){return!0},b))return e.cancelsAsync&&this.cancelAsync(),this.state=f,this._applyMaybe(g,b),this._returnObject(this._applyMaybe(k,b))}},_applyMaybe:function(a,b){if(!_.isUndefined(a)&&_.isFunction(a))return a.apply(this._processThisVal,b)},_populate:function(a){this._eventRules={};if(a&&0!==a.length)for(var b=0,c=a.length;b<c;b++){var d=a[b];if(d.on&&d.from)for(var e=_.isArray(d.on)?d.on:[d.on],
f=_.isArray(d.from)?d.from:[d.from],g,k,l=0;l<e.length;l++){g=e[l];(k=this._eventRules[g])||(k=this._eventRules[g]={});for(var n=0;n<f.length;n++)g=f[n],k[g]=d}}},_returnObject:function(a){return{state:this.state,data:a}}};M.prototype={defaults:{delegate:null,delegateScope:this,capturePointers:!1},recognize:function(a,b,c){if(!this.hasTerminated()){var d=this.state;a=this.process(a,b,c);c={};if("undefined"===typeof a)return this.state;"number"===typeof a?this.state=a:(this.state=a.state,c=a.data||
{});if(this.state!==d||4===this.state)64===this.state?this.tryEmitPending():1!==d||this.shouldBegin()?this.emit(_.extend(c,{state:this.state,target:b.target})):this.fail();return this.state}},shouldBegin:function(){var a=this.options.delegate;return!a||!a.recognizerShouldBegin||_.isFunction(a.recognizerShouldBegin)&&a.recognizerShouldBegin.call(this.options.delegateScope,this)},process:function(a,b,c){return this.state},reset:function(){B("reset")},fail:function(a){var b=this.trackedPointers();if(_.isUndefined(a)||
b&&b.has(a))this.state=64,this.emit({state:this.state}),this.tryEmitPending()},trackedPointers:function(){B("trackedPointers")},hasTerminated:function(){return 8===this.state||32===this.state||16===this.state||64===this.state},requiresFail:function(){var a=this.options.delegate,b=this.options.delegateScope;return a&&_.isFunction(a.gestureRequiredToFail)?a.gestureRequiredToFail.call(b,this):null},usesGlobalPointers:function(){var a=this.options.delegate,b=this.options.delegateScope;return!a||!a.recognizerUsesGlobalPointers||
_.isFunction(a.recognizerUsesGlobalPointers)&&a.recognizerUsesGlobalPointers.call(b,this)},shouldCapturePointers:function(){var a=this.options.delegate,b=this.options.delegateScope;return a&&a.capturePointers&&_.isFunction(a.capturePointers)?a.capturePointers.call(b,this):this.options.capturePointers},recognizerFailedAsynchronously:function(){this.manager&&(this.manager.tryEmitPending(),this.manager.tryReset())},recognizerStartedAsynchronously:function(){this.manager&&this.manager.checkCapturePointers(this)},
tryEmitPending:function(){this.manager&&this.manager.tryEmitPending()},emit:function(a){this.manager&&this.manager.tryEmitRecognizerEvent(this,this.options.eventName,a||{})}};e(fa,M,{defaults:_.defaults({eventName:"tap",minPointers:1,maxPointers:1,taps:1,interval:300,duration:1E3,tolerance:1,radius:7},M.prototype.defaults),process:function(a,b,c){switch(a){case "down":return this._processDownEvent(b,c);case "up":return this._processUpEvent(b,c)}},reset:function(){this.state=1;clearInterval(this._interval);
delete this._interval;delete this._masterPointer;delete this._currentPointerSet;this._tapCount=0;this._firstTapPosition=[];return this.state},trackedPointers:function(){return this._currentPointerSet},_processDownEvent:function(a,b){this._masterPointer||(this._masterPointer=b.get(a.pointerId));this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);0===this._tapCount&&(this._firstTapPosition=this._currentPointerSet.centroid(),0<this.options.interval&&(clearInterval(this._interval),
delete this._interval,this._interval=setInterval(_.bind(function(){this._handleInterval(a.target)},this),this.options.interval)));return this.state},_processUpEvent:function(a,b){if(!this._masterPointer||!this._currentPointerSet||a.pointerId!==this._masterPointer.id)return this.state;var c=this._currentPointerSet.count();b=this._currentPointerSet.centroid();b=[this._firstTapPosition[0]-b[0],this._firstTapPosition[1]-b[1]];c=c>=this.options.minPointers&&c<=this.options.maxPointers;var d=this._masterPointer.duration()<=
this.options.duration||0===this.options.duration,e=m(this._masterPointer.totalDistance())<=this.options.tolerance;b=0===this._tapCount||m(r(b))<=this.options.tolerance;return c&&d&&e&&b?this._handleTap(a):this._returnObject(64,this._masterPointer,this._currentPointerSet)},_handleTap:function(a){if(++this._tapCount>=this.options.taps)return this._returnObject(32,this._masterPointer,this._currentPointerSet);delete this._masterPointer;delete this._currentPointerSet;0<this.options.interval&&(clearInterval(this._interval),
delete this._interval,this._interval=setInterval(_.bind(function(){this._handleInterval(a.target)},this),this.options.interval));return this.state},_handleInterval:function(a){this.state=64;this.recognizerFailedAsynchronously();clearInterval(this._interval);delete this._interval},_returnObject:function(a,b,c){return{state:a,data:{pointer:b,pointerSet:c}}}});y(fa,"tap");O.emitTemplate=function(){return{pointer:this._masterPointer,pointerSet:this._currentPointerSet}};e(O,M,{defaults:_.defaults({eventName:"press",
minPointers:1,maxPointers:1,duration:0,threshold:7,radius:7},M.prototype.defaults),definition:[{on:"down",from:1,before:function(a,b){this._masterPointer=this._masterPointer||b.get(a.pointerId);this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius)},async:{guard:function(){var a=this._currentPointerSet.count();return a>=this.options.minPointers&&a<=this.options.maxPointers&&0<this.options.duration?this.options.duration:!1},transitions:[{to:2,guard:function(){return this.shouldBegin()},
after:function(a,b){this.state=2;this.emit({target:a.target,state:this.state,pointer:this._masterPointer,pointerSet:this._currentPointerSet});this.recognizerStartedAsynchronously()}},{to:64,guard:function(){return!this.shouldBegin()},after:function(){this.state=64;this.recognizerFailedAsynchronously()}}]},transitions:[{to:2,emit:O.emitTemplate,guard:function(){var a=this._currentPointerSet.count();return a>=this.options.minPointers&&a<=this.options.maxPointers&&0===this.options.duration}},{to:64,
emit:O.emitTemplate,guard:function(){return this._currentPointerSet.count()>this.options.maxPointers}}]},{on:"move",from:1,transitions:[{to:64,emit:O.emitTemplate,guard:function(){return this._masterPointer?m(this._masterPointer.totalDistance())>this.options.threshold:!1}}]},{on:["up","cancel"],from:1,before:function(a,b){this._currentPointerSet&&this._masterPointer&&(this._currentPointerSet.remove(a.pointerId),0<this._currentPointerSet.count()&&a.pointerId===this._masterPointer.id&&(this._masterPointer=
this._currentPointerSet.first()))},transitions:[{to:64,emit:O.emitTemplate,guard:function(){return this._currentPointerSet?this._currentPointerSet.count()<this.options.minPointers:!1}}]},{on:"down",from:2,before:function(a,b){this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius)},transitions:[{to:64,emit:O.emitTemplate,guard:function(){return this._currentPointerSet.count()>this.options.maxPointers}}]},{on:["up","cancel"],from:2,before:function(a,b){this._currentPointerSet&&
this._masterPointer&&(this._currentPointerSet.remove(a.pointerId),0<this._currentPointerSet.count()&&a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first()))},transitions:[{to:8,emit:O.emitTemplate,guard:function(){return this._currentPointerSet?this._currentPointerSet.count()<this.options.minPointers:!1}},{to:4,emit:O.emitTemplate}]}],process:function(a,b,c){return this._stateMachine.process(a,b,c)},reset:function(){this.state=this._stateMachine.reset();delete this._currentPointerSet;
delete this._masterPointer},trackedPointers:function(){return this._currentPointerSet},fail:function(){M.prototype.fail.apply(this,arguments);this._stateMachine.cancelAsync()}});y(O,"press");S.emitTemplate=function(){return{pointer:this._masterPointer,pointerSet:this._currentPointerSet,scale:this._currentScale}};e(S,M,{defaults:_.defaults({eventName:"pinch",radius:7,scaleThreshold:.05,minPointers:2,maxPointers:2},M.prototype.defaults),definition:[{on:"down",from:1,before:function(a,b){this._masterPointer=
this._masterPointer||b.get(a.pointerId);this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount>this.options.maxPointers},emit:S.emitTemplate}]},{on:"down",from:2,before:function(a,b){this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:8,guard:function(){return this._currentPointerCount>
this.options.maxPointers},emit:S.emitTemplate},{to:4,emit:S.emitTemplate}]},{on:"move",from:1,before:function(a,b){a=this._currentPointerSet.centroid();a=this._currentPointerSet.averageDistanceFromPoint(a);this._firstAverageDistance=this._firstAverageDistance||a;this._currentScale=a/this._firstAverageDistance},transitions:[{to:2,guard:function(){return this._currentPointerCount>=this.options.minPointers&&Math.abs(1-this._currentScale)>=this.options.scaleThreshold},emit:S.emitTemplate}]},{on:"move",
from:[2,4],before:function(a,b){a=this._currentPointerSet.centroid();this._currentScale=this._currentPointerSet.averageDistanceFromPoint(a)/this._firstAverageDistance},transitions:[{to:4,emit:S.emitTemplate}]},{on:"up",from:1,before:function(a,b){this._currentPointerSet.remove(a.pointerId);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:S.emitTemplate}]},{on:"up",from:[2,4],before:function(a,
b){this._currentPointerSet.remove(a.pointerId);a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first());this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:8,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:S.emitTemplate}]}],process:function(a,b,c){return this._stateMachine.process(a,b,c)},reset:function(){this.state=this._stateMachine.reset();delete this._masterPointer;delete this._currentPointerSet;this._firstAverageDistance=
this._currentScale=this._currentPointerCount=0;return this.state},trackedPointers:function(){return this._currentPointerSet}});y(S,"pinch");H.emitTemplate=function(){return{pointer:this._masterPointer,pointerSet:this._currentPointerSet,translation:this._currentTranslation}};e(H,M,{defaults:_.defaults({eventName:"pan",minPointers:1,maxPointers:1,minLockDistance:1,direction:15,radius:7,capturePointers:!0},M.prototype.defaults),definition:[{on:"down",from:1,before:function(a,b){this._masterPointer=this._masterPointer||
b.get(a.pointerId);this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount>this.options.maxPointers},emit:H.emitTemplate}]},{on:"down",from:2,before:function(a,b){this._currentPointerSet=b.cluster(this._masterPointer.id,this.options.radius);this._currentPointerCount=this._currentPointerSet.count()},transitions:[{to:64,guard:function(){return this._currentPointerCount>
this.options.maxPointers},emit:H.emitTemplate}]},{on:"move",from:1,transitions:[{to:2,guard:function(){var a=this._masterPointer.totalCumulativeDistance(),b=this._masterPointer.totalDirection();return this._currentPointerCount>=this.options.minPointers&&m(a)>=this.options.minLockDistance&&(b&this.options.direction)===b},emit:H.emitTemplate}]},{on:"move",from:[2,4],before:function(){this._currentTranslation=this._masterPointer.totalVector();3===(this.options.direction|3)?this._currentTranslation[1]=
0:12===(this.options.direction|12)&&(this._currentTranslation[0]=0)},transitions:[{to:4,emit:H.emitTemplate}]},{on:["up","cancel"],from:1,before:function(a,b){this._currentPointerSet.remove(a.pointerId);this._currentPointerCount=this._currentPointerSet.count();0<this._currentPointerCount&&a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first())},transitions:[{to:64,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:H.emitTemplate}]},
{on:["up","cancel"],from:[2,4],before:function(a,b){this._currentPointerSet.remove(a.pointerId);this._currentPointerCount=this._currentPointerSet.count();0<this._currentPointerCount&&a.pointerId===this._masterPointer.id&&(this._masterPointer=this._currentPointerSet.first())},transitions:[{to:8,guard:function(){return this._currentPointerCount<this.options.minPointers},emit:H.emitTemplate},{to:4,emit:H.emitTemplate}]}],process:function(a,b,c){return this._stateMachine.process(a,b,c)},reset:function(){this.state=
this._stateMachine.reset();delete this._masterPointer;delete this._currentPointerSet;this._currentTranslation=[0,0];return this.state},trackedPointers:function(){return this._currentPointerSet}});y(H,"pan");K.prototype={destroy:function(){this.removeAll();this.element.removeEventListener("pointerdown",this._boundHandlePointerDown);a.removeEventListener("pointerup",this._boundHandlePointerUp);a.removeEventListener("pointercancel",this._boundHandlePointerUp);a.removeEventListener("sistine-cancelpointers",
this._boundHandleCancelEvent)},count:function(){return this.recognizers.length},add:function(a){var b=this.get(a.options.eventName);b&&this.remove(b);a.manager=this;this.recognizers.push(a);return this},remove:function(a){var b=this.recognizers;a=this.get(a);b.splice(_.indexOf(b,a),1);return this},removeAll:function(){this.recognizers.length=0;return this},get:function(a){if(a instanceof M)return a;var b=null;this.recognizers.every(function(c){if(c.options.eventName===a)return b=c,!1},this);return b},
recognize:function(a,b,c){for(var d=this.recognizers,e,f,g,k=c?c.subset(this.activePointerIDs):new A,l=0,n=d.length;l<n;l++)e=d[l],f=e.state,64!==f&&(g=e.recognize(a,b,e.usesGlobalPointers()?c:k),n=d.length,1===f&&1!==g&&64!==g&&(this.checkCapturePointers(e),this._checkGesturesRequiredToFail(e)))},tryReset:function(){var a=this.recognizers,b,c=a.length,d=!0;for(b=0;b<c;b++){var e=a[b];if(!e.hasTerminated()){d=!1;break}}if(d){for(b=0;b<c;b++)e=a[b],e.reset();this._clearPendingEmits()}},on:function(a,
b){var c=this._handlers;_.each(_.map(f(a),l),function(a){var d=a[0];a=a[1];c[d]=c[d]||[];c[d].push({handler:b,selector:a})});return this},off:function(a,b){var c=this._handlers;_.each(_.map(f(a),l),function(a){var d=a[0],e=a[1];if(b)if(e){var f;_.find(c[d],function(a,c){if(a.handler===b&&a.selector===e)return f=c,!0});c[d].splice(f,1)}else c[d].splice(_.indexOf(_.map(c[d],"handler"),b),1);else e?c[d].splice(_.indexOf(_.map(c[d],"selector"),e),1):delete c[d]});return this},tryEmitRecognizerEvent:function(a,
b,c){var d=a.requiresFail();d&&1===d.state?this._pendingEmits.push({recognizer:a,eventName:b,props:c}):this.emit(b,c)},tryEmitPending:function(){for(var a,b,c=0;c<this._pendingEmits.length;c++)a=this._pendingEmits[c],b=a.recognizer,(b=b.requiresFail())&&64===b.state&&(this.emit(a.eventName,a.props),this._pendingEmits.splice(c,1),c--)},emit:function(a,b){b=_.extend(b||{},{currentTarget:this.element});this.options.domEvents&&b.target&&b.target.dispatchEvent(g(a,b));if((a=this._handlers[a]&&this._handlers[a].slice())&&
0!==a.length)for(var c=0,d=a.length;c<d;c++){var e=a[c].selector;if(e)a:{var f=b.target;for(var k=e;f&&f.parentElement;){if(f.matchesSelector(k))break a;f=f.parentElement}f=null}else f=this.element;(!e||e&&f)&&a[c].handler(_.extend(b||{},{currentTarget:f}))}},cancel:function(a,b){a&&(this.recognizers.every(function(c){if(_.isArray(b)&&_.contains(b,c)||c===b)return!0;c.fail(a)},this),(_.isUndefined(b)||_.isNull(b))&&this._processRemovedPointers(a))},checkCapturePointers:function(a){var b=a.trackedPointers();
return a.shouldCapturePointers()&&b?(C.cancelPointers(b.pointerIds(),a),!0):!1},_populate:function(){var a;var b=0;for(a=this.options.recognizers.length;b<a;b++){var c=this.options.recognizers[b];if(_.isString(c)){var d=Y[c];_.isFunction(d)&&this.add(new d)}else c instanceof M?this.add(c):_.isObject(c)&&c.name&&(d=Y[c.name],this.add(new d(c.options)))}},_checkGesturesRequiredToFail:function(a){for(var b=this.recognizers,c=a.requiresFail(),d=0,e=b.length;d<e;d++){var f=b[d];f!==a&&c&&c!==f&&f.fail()}},
_clearPendingEmits:function(){this._pendingEmits.length=0},_handlePointerDown:function(b){b=b.pointerId;var c=C.pointerSet,d=c.get(b);if(d){var e=d.lastEvent();d=d.lastEventType();"down"===d&&(0===this.activePointerIDs.length&&a.addEventListener("pointermove",this._boundHandlePointerMove,!1),0>_.indexOf(this.activePointerIDs,b)&&this.activePointerIDs.push(b),this.recognize(d,e,c))}},_handlePointerMove:function(a){a=a.pointerId;var b=C.pointerSet,c=b.get(a);if(c){var d=c.lastEvent();c=c.lastEventType();
"move"===c&&-1<_.indexOf(this.activePointerIDs,a)&&this.recognize(c,d,b)}},_handlePointerUp:function(b){b=b.pointerId;var c=C.pointerSet,d=c.get(b);if(d){var e=d.lastEvent();d=d.lastEventType();if("up"===d||"cancel"===d)-1<_.indexOf(this.activePointerIDs,b)&&(this.recognize(d,e,c),this._processRemovedPointer(b)),0===this.activePointerIDs.length&&a.removeEventListener("pointermove",this._boundHandlePointerMove)}},_handleCancelEvent:function(a){this.cancel(a.pointerIds,a.sender)},_processRemovedPointers:function(a){a.forEach(function(a){this._processRemovedPointer(a)},
this)},_processRemovedPointer:function(a){a=_.indexOf(this.activePointerIDs,a);-1<a&&this.activePointerIDs.splice(a,1);0===this.activePointerIDs.length&&this.tryReset()}};C.defaults={ppcm:28,units:"cm",cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},recognizers:[],domEvents:!1};C.pointerSet=new A;C.cancelPointers=function(b,c){b=g("sistine-cancelpointers",{pointerIds:b,sender:c});a.dispatchEvent(b)};"complete"===
a.readyState?ha():a.addEventListener("DOMContentLoaded",ha);_.extend(C,{STATE_POSSIBLE:1,STATE_STARTED:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_CANCELED:16,STATE_RECOGNIZED:32,STATE_FAILED:64,DIRECTION_NONE:0,DIRECTION_LEFT:1,DIRECTION_RIGHT:2,DIRECTION_HORIZONTAL:3,DIRECTION_UP:4,DIRECTION_DOWN:8,DIRECTION_VERTICAL:12,DIRECTION_ANY:15,EVENT_UP:"up",EVENT_DOWN:"down",EVENT_MOVE:"move",EVENT_CANCEL:"cancel",CENTIMETERS:"cm",PIXELS:"px",Manager:K,Recognizer:M,StateMachine:G,PointerSet:A,Pointer:F,Tap:fa,
Press:O,Pinch:S,Pan:H});C.Util=C.Util||{};_.extend(C.Util,{inherit:e,prefixStyleName:k,applyIfExists:function(a,b){return function(){if(!_.isUndefined(a)&&_.isFunction(a))return a.apply(b,arguments)}},createSimpleMutators:function(a,b){a.__=[];for(var c=0,d=b.length;c<d;c++){var e=b[c];Object.defineProperty(a,e,{get:function(){return this.__[e]},set:function(a){this.__[e]=a}})}},splitStr:l,splitComma:f,toMetric:m,vectorLength:r,createEvent:g,deepDefaults:n});"undefined"!==typeof module&&module.exports?
module.exports=C:b[c]=C})(window,document,"Sistine");
(function(b,a,c,d){function e(a,b,c){b=c.split(/\s+/g)[0];a=Sistine.Util.prefixStyleName(a,b);return a!==b?"-"+a.match(/[A-Z]?[^A-Z]*/g).slice(0,-1)[0]+"-"+c:c}function k(a,c,d,e){var f=Object.keys(c).includes("transition")&&!_.isUndefined(c.transition);if(!_.isUndefined(d)&&f){var g=function(b){g&&(d.apply(e,b),a.removeEventListener("webkitTransitionEnd",g),a.removeEventListener("transitionend",g),g=null)};a.addEventListener("webkitTransitionEnd",g);a.addEventListener("transitionend",g)}f?(b.getComputedStyle(a,
null).getPropertyValue("-webkit-transform"),setTimeout(function(){var b=!1;_.each(c,function(c,d){l(a,d,c)&&(b=!0)});if(!b&&!_.isUndefined(d)){var f=c.transition.split(/\s+/)[1];setTimeout(function(){d.apply(e)},m(f))}},0)):(_.each(c,function(b,c){l(a,c,b)}),_.isUndefined(d)||d.apply(e))}function l(a,b,c){if(_.isUndefined(c)||0===c.length)return!1;a=a.style;var d=Sistine.Util.prefixStyleName(a,b);"transition"===b&&(c=e(a,b,c));a[d]=c}function f(a){var b=arguments;return function(){for(var c=1,d=b.length;c<
d;c++)b[c].apply(a)}}function m(a){var b=a.match(/^([0-9]+\.?[0-9]*|\.[0-9]+)(ms|s)$/);if(!b||3!==b.length)return 0;a=parseFloat(b[1]);b=b[2];return"s"===b?1E3*a:"ms"===b?a:0}function r(){return[b.innerWidth||a.documentElement.clientWidth||a.body.clientWidth,b.innerHeight||a.documentElement.clientHeight||a.body.clientHeight]}function g(){this._animationId=null;this._runningAnimations={};this._nextAnimationKey=0}function n(a,b){return _.isUndefined(a)||_.isUndefined(b)?null:"translate3d("+a+"px, "+
b+"px, 0px)"}function x(a,b){return _.isUndefined(a)||_.isUndefined(b)?null:"scale3d("+a+", "+b+", 1.0)"}function y(a,b,c){return a+" "+b+"s "+c}function D(a){var b=/(translate(3d)?\(([0-9]|.|,|\s|px)+\))/,c=a.match(b);if(c&&0<c.length)return{transform:a.replace(b,"").trim(),translation:c[0]}}function w(a){a=a.style;a[Sistine.Util.prefixStyleName(a,"transition")]=""}function B(a){a=a.style;return a[Sistine.Util.prefixStyleName(a,"transform")]}function F(a){a=a||{};var b=a.pointerIds||[];this.draggable=
a.draggable;this.dragId=H++;this.dragAction=a.dragAction;this.tossOptions=a.tossOptions;this.userData=a.userData;this.timeoutOptions=a.timeoutOptions;this.lockAxis=a.lockAxis;this._masterPointerId=(this._pointerIds=b)&&0<b.length?b[0]:-1;this._eventNames=a.eventNames;this.payload=2===this.dragAction?_.extend({},a.payload):a.payload;this.reset(a.dropzones)}function P(b,c){this.options=Sistine.Util.deepDefaults(c||{},this.defaults);this.element=b;c=c||{};var d=a.createElement("div"),e=d.style;e.position=
"absolute";e.left=d.style.top=0;e.zIndex=9999;e.overlow="visible";e.pointerEvents="none";d.dataset.draggable="";d.draggable=!1;l(d,"transformOrigin","center center 0px");e=b.style;e.position="absolute";b.draggable=!1;l(b,"transformOrigin","center center 0px");l(b,"transform","scale3d(1, 1, 1)");c.className&&b.classList.add(c.className);d.appendChild(b);this._wrapper=d;this._originalElementRect={};k(this.element,this.options.cssProps);k(this._wrapper,this.options.cssProps)}function A(b){this.options=
_.defaults(b||{},Sistine.Drag.defaults);this._currentDragId=0;this._masterPointerIds=[];this._dragData={};this._floatingDragData=[];var c=this;this._boundHandlePointerMove=function(a){c._handlePointerMove.call(c,a)};this._boundHandlePointerUp=function(a){c._handlePointerUp.call(c,a)};this._boundHandlePointerDown=function(a){c._handlePointerDown.call(c,a)};a.addEventListener("pointermove",this._boundHandlePointerMove,!0);a.addEventListener("pointerup",this._boundHandlePointerUp,!0);a.addEventListener("pointercancel",
this._boundHandlePointerUp,!0);a.addEventListener("pointerdown",this._boundHandlePointerDown,!0);a.addEventListener("DOMContentLoaded",_.bind(function(){var b=a.getElementsByTagName("body")[0];k(b,this.options.cssProps)},this))}function G(b,c,d){var e=a.createEvent("Event"),f={};e.initEvent(b,f.bubbles?f.bubbles:!0,f.cancelable?f.cancelable:!0);b=_.extend(e,{data:d||{}});if(_.isArray(c))for(d=0,e=c.length;d<e;d++)c[d].dispatchEvent(b);else c&&c.dispatchEvent(b)}function M(){_(a.querySelectorAll("[data-draggable]")).each(function(a){a.style.pointerEvents=
"auto"})}function fa(){_(a.querySelectorAll("[data-draggable]")).each(function(a){a.style.pointerEvents="none"})}function O(a){for(var b=[];a;)null!==a.getAttribute("data-dropzone")&&b.push(a),a=a.parentElement;return b}function S(a){var b=a.pointers;if(_.isArray(b)){var c=b;a=a.initialPosition||[0,0]}else _.isUndefined(b)?(c=[],a=a.initialPosition||[0,0]):(c=[b.pointerId],a=[b.pageX,b.pageY]);return{pointerIds:c,position:a}}g.prototype={move:function(a,b,c,d,e,f,g){this.transform(a,n(b,c),d,e,f,
g)},scale:function(a,b,c,d,e,f,g){this.transform(a,x(b,c),d,e,f,g)},toss:function(a,b,c,d,e,f,g,k,l,n){if(!k){k=r();var m=a.getBoundingClientRect();k={top:.5*m.height,left:.5*m.width,width:k[0]-m.width,height:k[1]-m.height}}g/=60;var w=[Math.min(g,Math.max(-g,b[0]*d/60)),Math.min(g,Math.max(-g,b[1]*d/60))],A=1-c,y=k.left,x=k.top,B=k.left+k.width,F=k.top+k.height;this._schedule(a,function(a){var b=a.getBoundingClientRect();b=[b.left+.5*b.width,b.top+.5*b.height];b[0]=Math.min(Math.max(y,b[0]+w[0]),
B);b[1]=Math.min(Math.max(x,b[1]+w[1]),F);this.move(a,b[0],b[1]);b[0]<=y?w[0]*=-f.left:b[0]>=B&&(w[0]*=-f.right);b[1]<=x?w[1]*=-f.top:b[1]>=F&&(w[1]*=-f.bottom);w[0]*=A;w[1]*=A;if(Math.abs(w[0])>e||Math.abs(w[1])>e)return!0;Sistine.Util.applyIfExists(l,n)();return!1})},transform:function(a,c,d,e,f,g){if(!_.isUndefined(a)&&!_.isUndefined(c)&&c&&0!==c.length)if(d=d||0,e=e||"linear",0===d)l(a,"transform",c),Sistine.Util.applyIfExists(f,g)();else{var k=function(){k&&(a.removeEventListener("webkitTransitionEnd",
k),a.removeEventListener("transitionend",k),k=null,w(a),Sistine.Util.applyIfExists(f,g)())};a.addEventListener("webkitTransitionEnd",k);a.addEventListener("transitionend",k);b.getComputedStyle(a,null).getPropertyValue("-webkit-transform");setTimeout(function(){var b=B(a);l(a,"transition",y("transform",d,e));l(a,"transform",c);b===B(a)&&setTimeout(function(){w(a);Sistine.Util.applyIfExists(f,g)()},d)},0)}},cancel:function(a){if(a=a.getAttribute("data-animationkey"))delete this._runningAnimations[a],
_.isEmpty(this._runningAnimations)&&null!==this._animationId&&(cancelAnimationFrame(this._animationId),this._animationId=null)},_schedule:function(a,b){this.cancel(a);var c=this._nextAnimationKey++;a.dataset.animationkey=c;this._runningAnimations[c]={element:a,step:b};null===this._animationId&&this._runLoop()},_loop:function(a){a=_.keys(this._runningAnimations);for(var b=0,c=a.length;b<c;b++){var d=a[b],e=this._runningAnimations[d].element;this._runningAnimations[d].step.call(this,e)||this.cancel(e)}null!==
this._animationId&&this._runLoop()},_runLoop:function(){var a=this;this._animationId=requestAnimationFrame(function(b){a._loop.call(a,b)})}};Sistine.Animator=new g;var H=0;Sistine.Util.createSimpleMutators(F.prototype,"draggable dragId payload timeoutOptions dropzones overElement userData dragAction lockAxis tossOptions".split(" "));F.prototype={dropIsAllowed:function(){return 0!==this.dropAction&&(this.dragAction&this.dropAction)===this.dragAction},tossIsAllowed:function(a){var b=this.tossOptions;
return 0<b.tossAction&&(Math.abs(a[0])>=b.threshold||Math.abs(a[1])>=b.threshold)},tossBoundingBox:function(){var a=this.draggable.element.getBoundingClientRect(),b=r();return 3===this.tossOptions.tossAction||2===this.tossOptions.tossAction?{top:.5*-a.height,left:.5*a.width,width:b[0]-a.width,height:b[1]+a.height}:1===this.tossOptions.tossAction?{top:.5*a.height,left:.5*a.width,width:b[0]-a.width,height:b[1]-a.height}:{top:0,left:0,width:0,height:0}},reset:function(a,b){this.setDropOptions(0,{});
this.dropzones=a?a:[];this.overElement=b?b:null},setDropOptions:function(a,b){this.dropAction=a;b&&this.draggable&&this.draggable.setDropAnimation(b)},setCancelOptions:function(a){a&&this.draggable.setCancelAnimation(a)},startTimeout:function(a){this.stopTimeout();if(!(0>=a)){var b=this;this._timeoutId=setTimeout(function(){b.draggable.position();r();b.draggable.stopToss();b.stopTimeout();b.draggable.fall(b.timeoutOptions.duration,b.timeoutOptions.ease,b._handleTimeoutExpired,b)},a||this.timeoutOptions.timeout||
0)}},stopTimeout:function(){this._timeoutId&&(clearTimeout(this._timeoutId),delete this._timeoutId)},_handleTimeoutExpired:function(){G(this._eventNames.dragTimeout,this.draggable.element,this.payload);this.draggable.remove()}};P.prototype={defaults:{className:"draggable",cssProps:{cursor:"default"},show:{className:"showing",transform:x(1.5,1.5),duration:.2,easing:"ease-out"},drop:{className:"dropping",transform:x(1,1),duration:.2,easing:"ease-out"},cancel:{className:"canceling",transform:x(0,0),
duration:.2,easing:"ease-out"},translationOrigin:[.5,.5]},toss:function(a,b,c,d,e,f,g,k,l){Sistine.Animator.toss(this._wrapper,a,b,c,d,e,f,g,k,l);return this},stopToss:function(){Sistine.Animator.cancel(this._wrapper)},fall:function(a,b,c,d){var e=this.position(),f=r(),g=this.element.getBoundingClientRect();Sistine.Animator.move(this._wrapper,e[0],f[1]+.5*g.height,a,b,c,d)},move:function(a,b,c,d,e,f){var g=this._translationOffset;Sistine.Animator.move(this._wrapper,a+g[0],b+g[1],c,d,e,f);return this},
append:function(a){if(this._wrapper.parentElement!==a){this.remove();a.appendChild(this._wrapper);a=this.element;var b=a.style;this._originalElementRect=a.getBoundingClientRect();this._updateTranslationOffset();b.left=.5*-a.clientWidth+"px";b.top=.5*-a.clientHeight+"px"}return this},remove:function(){var a=this._wrapper.parentElement;a&&a.removeChild(this._wrapper);return this},setShowAnimation:function(a){this._setAnimation(this.options.show,a);return this},setDropAnimation:function(a){this._setAnimation(this.options.drop,
a);return this},setCancelAnimation:function(a){this._setAnimation(this.options.cancel,a);return this},position:function(){var a=this._wrapper.getBoundingClientRect(),b=this._translationOffset;return[a.left+.5*a.width-b[0],a.top+.5*a.height-b[1]]},show:function(a,b){this._animate(this.options.show,a,b);return this},drop:function(a,b){this._animate(this.options.drop,a,b);return this},cancel:function(a,b){this._animate(this.options.cancel,a,b);return this},transformToMatch:function(a){var b=[a.left+
.5*a.width,a.top+.5*a.height];return x(0<this._originalElementRect.width?a.width/this._originalElementRect.width:0,0<this._originalElementRect.height?a.height/this._originalElementRect.height:0)+" "+n(b[0],b[1])},_setAnimation:function(a,b){a&&b&&(a.__customAnimationOptions=b)},_animate:function(a,b,c){var d=_.defaults(a.__customAnimationOptions||{},a),e=d.className||"",g=D(d.transform),k=g?g.translation:null;g=g?g.transform:d.transform;b=f(this,function(a){this._updateTranslationOffset();this.element.classList.remove(e)},
Sistine.Util.applyIfExists(d.callback,d.thisVal),Sistine.Util.applyIfExists(b,c));this.element.classList.add(e);Sistine.Animator.transform(this._wrapper,k,d.duration,d.easing);Sistine.Animator.transform(this.element,g,d.duration,d.easing,b,this);delete a.__customAnimationOptions},_updateTranslationOffset:function(){var a=this.options.translationOrigin,b=this.element.getBoundingClientRect();this._translationOffset=[.5*b.width-b.width*a[0],.5*b.height-b.height*a[1]]}};A.prototype={beginDrag:function(b){if(_.isUndefined(b)||
_.isUndefined(b.proxy)||_.isUndefined(b.payload))return null;b=Sistine.Util.deepDefaults(b||{},this._dragDefaults);var c=S(b),d=c.pointerIds,e=c.position;if(this.hasDragForPointers(d))return null;c=O(a.elementFromPoint(e[0],e[1]));a.elementFromPoint(e[0],e[1]);var f=a.getElementsByTagName("body")[0];e=(new P(b.proxy,b.draggableOptions)).setShowAnimation(b.animationOptions).append(f).move(e[0],e[1]);var g=new F({draggable:e,payload:b.payload,pointerIds:d,dropzones:c,timeoutOptions:b.timeoutOptions,
dragAction:b.dragAction,eventNames:this.options.eventNames,tossOptions:b.tossOptions,lockAxis:b.lockAxis,userData:b.userData});Sistine.cancelPointers(d);e.show(function(){_.isUndefined(g._pointerIds)||0===g._pointerIds.length?this._floatDrag(g):this._trackDrag(g)},this);return g},terminateDrag:function(a){var b=a.draggable,c=b.element,d=a._pointerIds,e=_.indexOf(this._masterPointerIds,a._masterPointerId);if(0<=e){this._masterPointerIds.splice(e,1);for(var f=0,g=d.length;f<g;f++)e=d[f],delete this._dragData[e];
a.stopTimeout();c.removeEventListener("pointerdown",this._boundHandlePointerDown);G(this.options.eventNames.dragEnd,c,a);b.remove()}},registerDropzone:function(a){a.dataset.dropzone=""},deregisterDropzone:function(a){delete a.dataset.dropzone},hasDragForPointers:function(a){for(var b=0,c=a.length;b<c;b++)if(this.hasDragForPointer(a[b]))return!0;return!1},hasDragForPointer:function(a){return!_.isUndefined(this._dragData[a])},getDragForPointer:function(a){return this._dragData[a]},getDragFromPoint:function(b,
c){M();b=a.elementFromPoint(b,c);for(fa();b&&b.parentElement;){if(null!==b.parentElement.getAttribute("data-draggable")){var d,e;c=0;for(d=this._masterPointerIds.length;c<d;c++)if((e=this._dragData[this._masterPointerIds[c]])&&e.draggable.element===b)return e;c=0;for(d=this._floatingDragData.length;c<d;c++)if(e=this._floatingDragData[c],e.draggable.element===b)return e}b=b.parentElement}},_handlePointerMove:function(a){var b=a.pointerId;if(-1<_.indexOf(this._masterPointerIds,b)){b=this.getDragForPointer(b);
var c=b.draggable,d=c.position();1===b.lockAxis?c.move(d[0],a.pageY):2===b.lockAxis?c.move(a.pageX,d[1]):c.move(a.pageX,a.pageY);var e=b.dropzones;d=O(a.target);var f=_.difference(e,d),g=_.difference(d,e);e=_.intersection(e,d);b.overElement=a.target;G(this.options.eventNames.dragLeave,f,b);b.reset(d,a.target);G(this.options.eventNames.dragEnter,g,b);G(this.options.eventNames.dragOver,e,b);G(this.options.eventNames.dragMove,c.element,b);a.stopPropagation()}},_handlePointerUp:function(a){a=a.pointerId;
var b=this.getDragForPointer(a);if(b){var c=b._pointerIds,d=_.indexOf(this._masterPointerIds,a);-1<d&&(this._masterPointerIds.splice(d,1),delete b._masterPointerId);c.splice(_.indexOf(c,a),1);delete this._dragData[a];0<c.length?(this._masterPointerIds.push(c[0]),b._masterPointerId=c[0]):this._stopTrackingDrag(b,a)}},_handlePointerDown:function(a){var b=a.pointerId,c=this.getDragFromPoint(a.pageX,a.pageY);if(c&&!this.getDragForPointer(b)){var d=_.indexOf(this._floatingDragData,c);-1<d&&(this._floatingDragData.splice(d,
1),this._masterPointerIds.push(b),c._masterPointerId=b,c.stopTimeout());c._pointerIds.push(b);this._dragData[b]=c;c.draggable.stopToss();a.stopPropagation()}},_floatDrag:function(a){this._floatingDragData.push(a);a.startTimeout()},_trackDrag:function(a){var b=a.dropzones,c=this.options.eventNames,d=a._pointerIds;this._masterPointerIds.push(a._masterPointerId);for(var e=0,f=d.length;e<f;e++)this._dragData[d[e]]=a;G(c.dragStart,a.draggable.element,a);G(this.options.eventNames.dragEnter,b,a)},_stopTrackingDrag:function(a,
b){b=(b=Sistine.pointerSet.get(b))?b.lastVelocity():[0,0];a.tossIsAllowed(b)?this._performToss(b,a):this._performDrop(a)},_performToss:function(a,b){var c=b.tossOptions,d=b.draggable,e=b.tossBoundingBox(),f=this.options.eventNames,g=d.element;G(f.dragLeave,b.dropzones,b);G(f.dragEnd,g,b);b.reset();Math.abs(a[0])>=Math.abs(a[1])?a[1]=0:a[0]=0;d.toss(a,c.friction,c.multiplier,c.stopSpeed,c.elasticity,c.maxSpeed,e,function(){var a=d.position(),e=r();a[1]>e[1]||0>a[1]?(G(f.dragTossAway,g,b),c.autoRemove&&
d.remove()):(G(f.dragTossWithin,g,b),b.startTimeout())},this);this._floatingDragData.push(b);delete b._masterPointerId;b._pointerIds.length=0},_performDrop:function(a){var b=a.draggable,c=this.options.eventNames,d=b.element;a.stopTimeout();d.removeEventListener("pointerdown",this._boundHandlePointerDown);G(c.dragEnd,d,a);a.dropIsAllowed()?(G(c.drop,a.dropzones,a),b.drop(function(){b.remove()},this)):(G(c.dragCancel,a.dropzones,a),b.cancel(function(){b.remove()},this))},_dragDefaults:{initialPosition:[0,
0],dragAction:2,timeoutOptions:{timeout:6E4,ease:"ease-in",duration:.5},tossOptions:{tossAction:3,friction:.03,multiplier:2,threshold:500,stopSpeed:.5,autoRemove:!0,elasticity:{left:.2,right:.2,top:0,bottom:0},maxSpeed:1E4},lockAxis:3}};Sistine.Drag=Sistine.Drag||{};Sistine.Util=Sistine.Util||{};Sistine.Animation=Sistine.Animation||{};Sistine.Drag.defaults={cssProps:{userSelect:"none",touchSelect:"none",touchAction:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"},
eventNames:{dragStart:"sistine-dragstart",dragEnter:"sistine-dragenter",dragLeave:"sistine-dragleave",dragEnd:"sistine-dragend",dragOver:"sistine-dragover",dragMove:"sistine-dragmove",drop:"sistine-drop",dragCancel:"sistine-dragcancel",dragTimeout:"sistine-dragtimeout",dragTossAway:"sistine-tossaway",dragTossWithin:"sistine-tosswithin"}};Sistine.DragManager=new A;_.extend(Sistine.Drag,{Draggable:P,Manager:A,DragData:F,DRAG_NONE:0,DRAG_MOVE:1,DRAG_COPY:2,DRAG_ALL:3,AXIS_X:2,AXIS_Y:1,AXIS_ANY:3,TOSS_NONE:0,
TOSS_WITHIN:1,TOSS_AWAY:2,TOSS_ALL:3});_.extend(Sistine.Util,{applyPrefixedCssProps:k,applyPrefixedCss:l,getWindowDimensions:r,parseDuration:m,prefixStyleValue:e,sequentiallyApply:f});_.extend(Sistine.Animation,{Animator:g,makeTranslation:n,makeScale:x,makeTransition:y,makeTransformOrigin:function(a,b){return 100*a+"% "+100*b+"% 0"},extractTranslation:D,extractScale:function(a){var b=/(scale(3d)?\(([0-9]|.|,|\s|px)+\))/,c=a.match(b);if(c&&0<c.length)return{transform:a.replace(b,"").trim(),translation:c[0]}},
LINEAR:"linear",EASE:"ease",EASE_OUT:"ease-out",EASE_IN:"ease-in",EASE_IN_OUT:"ease-in-out"});"undefined"!==typeof module&&module.exports?module.exports=Sistine:b[c]=Sistine})(window,document,"Sistine");
(function(b,a,c,d,e){var k=["sistineOptions"],l=c.View,f=l.prototype.delegateEvents,m=l.prototype.undelegateEvents,r=l.prototype.remove;c.View=l.extend({constructor:function(a){a=a||{};_.extend(this,_.pick(a,k));return l.apply(this,arguments)},delegateEvents:function(){f.apply(this,arguments);this.delegateSistineEvents();return this},undelegateEvents:function(){this.undelegateSistineEvents();return m.apply(this,arguments)},remove:function(){this._sistine&&(this._sistine.destroy(),this.undelegateSistineEvents(),
this._sistine=null);return r.apply(this,arguments)},delegateSistineEvents:function(a){var b=_.result(this,"sistineOptions")||{};this._sistine||(this._sistine=new d(this.el,b));a=a||_.result(b,"events");if(!a)return this;this._sistineEventMap={};for(var c in a)b=a[c],_.isFunction(b)||(b=this[a[c]]),b&&(b=_.bind(b,this),this._sistineEventMap[c]=b,this._sistine.on(c,b));return this},undelegateSistineEvents:function(){if(this._sistine&&this._sistineEventMap){for(var a in this._sistineEventMap)this._sistine.off(a,
this._sistineEventMap[a]);this._sistineEventMap=null}}})})(window,document,Backbone,Sistine);
(function(b){b.Granite=b.Granite||{};b.Granite.HTTP=b.Granite.HTTP||{};var a=null;b.Granite.HTTP.externalize=b.Granite.HTTP.externalize||function(c){if(null===a)a:{var d=/^(?:http|https):\/\/[^/]+(\/.*)\/(?:etc\.clientlibs|etc(\/.*)*\/clientlibs|libs(\/.*)*\/clientlibs|apps(\/.*)*\/clientlibs|etc\/designs).*\.js(\?.*)?$/;try{if(b.CQURLInfo)a=CQURLInfo.contextPath||"";else{for(var e=document.getElementsByTagName("script"),k=0;k<e.length;k++){var l=d.exec(e[k].src);if(l){a=l[1];break a}}a=""}}catch(f){}}try{0===
c.indexOf("/")&&a&&0!==c.indexOf(a+"/")&&(c=a+c)}catch(f){}return c}})(this);
(function(b){window.Granite.csrf||(window.Granite.csrf=b(window.Granite.HTTP))})(function(b){function a(){this._handler=[]}function c(a){var b="//"+document.location.host,c=document.location.protocol+b;return a===c||a.slice(0,c.length+1)===c+"/"||a===b||a.slice(0,b.length+1)===b+"/"||!/^(\/\/|http:|https:).*/.test(a)}function d(a){window.console&&console.warn("CSRF data not available;The data may be unavailable by design, such as during non-authenticated requests: "+a)}function e(){var b=new a;r=
b;var c=new XMLHttpRequest;c.onreadystatechange=function(){if(4===c.readyState)try{g=JSON.parse(c.responseText).token,b.resolve(g)}catch(F){d(F),b.reject(c.responseText)}};c.open("GET",m,!0);c.send();return b}function k(){var a=new XMLHttpRequest;a.open("GET",m,!1);a.send();try{return g=JSON.parse(a.responseText).token}catch(B){d(B)}}function l(a){var b=a.getAttribute("action");"GET"===a.method.toUpperCase()||b&&!c(b)||(g||k(),g&&(b=a.querySelector('input[name\x3d":cq_csrf_token"]'),b||(b=document.createElement("input"),
b.setAttribute("type","hidden"),b.setAttribute("name",":cq_csrf_token"),a.appendChild(b)),b.setAttribute("value",g)))}function f(a){var b=function(a){a=a.target;"FORM"===a.nodeName&&l(a)};a.addEventListener?a.addEventListener("submit",b,!0):a.attachEvent&&a.attachEvent("submit",b)}a.prototype={then:function(a,b){this._handler.push({resolve:a,reject:b})},resolve:function(){this._execute("resolve",arguments)},reject:function(){this._execute("reject",arguments)},_execute:function(a,b){if(null===this._handler)throw Error("Promise already completed.");
for(var c=0,d=this._handler.length;c<d;c++)this._handler[c][a].apply(window,b);this.then=function(c,d){("resolve"===a?c:d).apply(window,b)};this._handler=null}};var m=b.externalize("/libs/granite/csrf/token.json"),r,g;f(document);var n=XMLHttpRequest.prototype.open;XMLHttpRequest.prototype.open=function(a,b,d){"get"!==a.toLowerCase()&&c(b)&&(this._csrf=!0,this._async=d);return n.apply(this,arguments)};var x=XMLHttpRequest.prototype.send;XMLHttpRequest.prototype.send=function(){if(this._csrf)if(g)this.setRequestHeader("CSRF-Token",
g),x.apply(this,arguments);else if(!1===this._async)k(),g&&this.setRequestHeader("CSRF-Token",g),x.apply(this,arguments);else{var a=this,b=Array.prototype.slice.call(arguments);r.then(function(c){a.setRequestHeader("CSRF-Token",c);x.apply(a,b)},function(){x.apply(a,b)})}else x.apply(this,arguments)};var y=HTMLFormElement.prototype.submit;HTMLFormElement.prototype.submit=function(){l(this);return y.apply(this,arguments)};if(window.Node){var D=Node.prototype.appendChild;Node.prototype.appendChild=function(){var a=
D.apply(this,arguments);if("IFRAME"===a.nodeName)try{a.contentWindow&&!a._csrf&&(a._csrf=!0,f(a.contentWindow.document))}catch(B){a.src&&a.src.length&&c(a.src)&&window.console&&console.error("Unable to attach CSRF token to an iframe element on the same origin")}return a}}e();setInterval(function(){e()},3E5);return{initialised:!1,refreshToken:e,_clearToken:function(){g=void 0;e()}}});
(function(b,a){"function"===typeof define&&define.amd?define("jquery.transit",["jquery"],a):"object"===typeof exports?module.exports=a(require("jquery")):a(b.jQuery)})(this,function(b){function a(a){if(a in g.style)return a;var b=["Moz","Webkit","O","ms"];a=a.charAt(0).toUpperCase()+a.substr(1);for(var c=0;c<b.length;++c){var d=b[c]+a;if(d in g.style)return d}}function c(a){"string"===typeof a&&this.parse(a);return this}function d(a,b,c){!0===b?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}
function e(a){var c=[];b.each(a,function(a){a=b.camelCase(a);a=b.transit.propertyMap[a]||b.cssProps[a]||a;a=f(a);n[a]&&(a=f(n[a]));-1===b.inArray(a,c)&&c.push(a)});return c}function k(a,c,d,f){a=e(a);b.cssEase[d]&&(d=b.cssEase[d]);var g=""+r(c)+" "+d;0<parseInt(f,10)&&(g+=" "+r(f));var k=[];b.each(a,function(a,b){k.push(b+" "+g)});return k.join(", ")}function l(a,c){c||(b.cssNumber[a]=!0);b.transit.propertyMap[a]=n.transform;b.cssHooks[a]={get:function(c){return b(c).css("transit:transform").get(a)},
set:function(c,d){var e=b(c).css("transit:transform");e.setFromString(a,d);b(c).css({"transit:transform":e})}}}function f(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function m(a,b){return"string"!==typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function r(a){"string"!==typeof a||a.match(/^[\-0-9\.]+/)||(a=b.fx.speeds[a]||b.fx.speeds._default);return m(a,"ms")}b.transit={version:"0.9.12",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",
paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var g=document.createElement("div"),n={},x=-1<navigator.userAgent.toLowerCase().indexOf("chrome");n.transition=a("transition");n.transitionDelay=a("transitionDelay");n.transform=a("transform");n.transformOrigin=a("transformOrigin");n.filter=a("Filter");g.style[n.transform]="";g.style[n.transform]="rotateY(90deg)";n.transform3d=""!==g.style[n.transform];var y=n.transitionEnd={transition:"transitionend",
MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"}[n.transition]||null,D;for(D in n)n.hasOwnProperty(D)&&"undefined"===typeof b.support[D]&&(b.support[D]=n[D]);g=null;b.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",
easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",
easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};b.cssHooks["transit:transform"]={get:function(a){return b(a).data("transform")||new c},set:function(a,d){d instanceof c||(d=new c(d));a.style[n.transform]=
"WebkitTransform"!==n.transform||x?d.toString():d.toString(!0);b(a).data("transform",d)}};b.cssHooks.transform={set:b.cssHooks["transit:transform"].set};b.cssHooks.filter={get:function(a){return a.style[n.filter]},set:function(a,b){a.style[n.filter]=b}};"1.8">b.fn.jquery&&(b.cssHooks.transformOrigin={get:function(a){return a.style[n.transformOrigin]},set:function(a,b){a.style[n.transformOrigin]=b}},b.cssHooks.transition={get:function(a){return a.style[n.transition]},set:function(a,b){a.style[n.transition]=
b}});l("scale");l("scaleX");l("scaleY");l("translate");l("rotate");l("rotateX");l("rotateY");l("rotate3d");l("perspective");l("skewX");l("skewY");l("x",!0);l("y",!0);c.prototype={setFromString:function(a,b){b="string"===typeof b?b.split(","):b.constructor===Array?b:[b];b.unshift(a);c.prototype.set.apply(this,b)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):
this[a]||0},setter:{rotate:function(a){this.rotate=m(a,"deg")},rotateX:function(a){this.rotateX=m(a,"deg")},rotateY:function(a){this.rotateY=m(a,"deg")},scale:function(a,b){void 0===b&&(b=a);this.scale=a+","+b},skewX:function(a){this.skewX=m(a,"deg")},skewY:function(a){this.skewY=m(a,"deg")},perspective:function(a){this.perspective=m(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=
0);void 0===this._translateY&&(this._translateY=0);null!==a&&void 0!==a&&(this._translateX=m(a,"px"));null!==b&&void 0!==b&&(this._translateY=m(b,"px"));this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");a[0]&&(a[0]=parseFloat(a[0]));a[1]&&(a[1]=parseFloat(a[1]));return a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),
b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));a[3]&&(a[3]=m(a[3],"deg"));return a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[],c;for(c in this)this.hasOwnProperty(c)&&(n.transform3d||"rotateX"!==c&&"rotateY"!==c&&"perspective"!==c&&"transformOrigin"!==c)&&"_"!==c[0]&&(a&&"scale"===c?b.push(c+"3d("+this[c]+",1)"):a&&"translate"===c?b.push(c+"3d("+this[c]+",0)"):b.push(c+"("+this[c]+")"));return b.join(" ")}};
b.fn.transition=b.fn.transit=function(a,c,e,f){var g=this,l=0,m=!0,x=b.extend(!0,{},a);"function"===typeof c&&(f=c,c=void 0);"object"===typeof c&&(e=c.easing,l=c.delay||0,m="undefined"===typeof c.queue?!0:c.queue,f=c.complete,c=c.duration);"function"===typeof e&&(f=e,e=void 0);"undefined"!==typeof x.easing&&(e=x.easing,delete x.easing);"undefined"!==typeof x.duration&&(c=x.duration,delete x.duration);"undefined"!==typeof x.complete&&(f=x.complete,delete x.complete);"undefined"!==typeof x.queue&&(m=
x.queue,delete x.queue);"undefined"!==typeof x.delay&&(l=x.delay,delete x.delay);"undefined"===typeof c&&(c=b.fx.speeds._default);"undefined"===typeof e&&(e=b.cssEase._default);c=r(c);var w=k(x,c,e,l),D=b.transit.enabled&&n.transition?parseInt(c,10)+parseInt(l,10):0;if(0===D)return d(g,m,function(a){g.css(x);f&&f.apply(g);a&&a()}),g;var F={},B=function(a){var c=!1,d=function(){c&&g.unbind(y,d);0<D&&g.each(function(){this.style[n.transition]=F[this]||null});"function"===typeof f&&f.apply(g);"function"===
typeof a&&a()};0<D&&y&&b.transit.useTransitionEnd?(c=!0,g.bind(y,d)):window.setTimeout(d,D);g.each(function(){0<D&&(this.style[n.transition]=w);b(this).css(x)})};d(g,m,function(a){this.offsetWidth;B(a)});return this};b.transit.getTransitionValue=k;return b});var requirejs,require,define;
(function(b,a){function c(a,b){return b||""}function d(a){return"[object Function]"===Q.call(a)}function e(a){return"[object Array]"===Q.call(a)}function k(a,b){if(a){var c;for(c=0;c<a.length&&(!a[c]||!b(a[c],c,a));c+=1);}}function l(a,b){if(a){var c;for(c=a.length-1;-1<c&&(!a[c]||!b(a[c],c,a));--c);}}function f(a,b){return U.call(a,b)}function m(a,b){return f(a,b)&&a[b]}function r(a,b){for(var c in a)if(f(a,c)&&b(a[c],c))break}function g(a,b,c,k){b&&r(b,function(b,l){if(c||!f(a,l))!k||"object"!==
typeof b||!b||e(b)||d(b)||b instanceof RegExp?a[l]=b:(a[l]||(a[l]={}),g(a[l],b,c,k))});return a}function n(a,b){return function(){return b.apply(a,arguments)}}function x(a){throw a;}function y(a){if(!a)return a;var c=b;k(a.split("."),function(a){c=c[a]});return c}function D(a,b,c,d){b=Error(b+"\nhttps://requirejs.org/docs/errors.html#"+a);b.requireType=a;b.requireModules=d;c&&(b.originalError=c);return b}function w(){if(A&&"interactive"===A.readyState)return A;l(document.getElementsByTagName("script"),
function(a){if("interactive"===a.readyState)return A=a});return A}var B,F,P,A,G,M,fa,O=/\/\*[\s\S]*?\*\/|([^:"'=]|^)\/\/.*$/mg,S=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,H=/\.js$/,K=/^\.\//;var C=Object.prototype;var Q=C.toString,U=C.hasOwnProperty,T=!("undefined"===typeof window||"undefined"===typeof navigator||!window.document),ha=!T&&"undefined"!==typeof importScripts,ia=T&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,Y="undefined"!==typeof opera&&"[object Opera]"===
opera.toString(),ka={},R={},aa=[],N=!1;if("undefined"===typeof define){if("undefined"!==typeof requirejs){if(d(requirejs))return;R=requirejs;requirejs=void 0}"undefined"===typeof require||d(require)||(R=require,require=void 0);var V=requirejs=function(a,b,c,d){var f="_";if(!e(a)&&"string"!==typeof a){var g=a;e(b)?(a=b,b=c,c=d):a=[]}g&&g.context&&(f=g.context);(d=m(ka,f))||(d=ka[f]=V.s.newContext(f));g&&d.configure(g);return d.require(a,b,c)};V.config=function(a){return V(a)};V.nextTick="undefined"!==
typeof a?function(b){a(b,4)}:function(a){a()};require||(require=V);V.version="2.3.6";V.jsExtRegExp=/^\/|:|\?|\.js$/;V.isBrowser=T;C=V.s={contexts:ka,newContext:function(c){function w(a,b,c){var d;b=b&&b.split("/");var e=ba.map,f=e&&e["*"];if(a){a=a.split("/");var g=a.length-1;ba.nodeIdCompat&&H.test(a[g])&&(a[g]=a[g].replace(H,""));"."===a[0].charAt(0)&&b&&(g=b.slice(0,b.length-1),a=g.concat(a));g=a;for(d=0;d<g.length;d++){var h=g[d];"."===h?(g.splice(d,1),--d):".."===h&&0!==d&&(1!==d||".."!==g[2])&&
".."!==g[d-1]&&0<d&&(g.splice(d-1,2),d-=2)}a=a.join("/")}if(c&&e&&(b||f)){g=a.split("/");d=g.length;a:for(;0<d;--d){var k=g.slice(0,d).join("/");if(b)for(h=b.length;0<h;--h)if(c=m(e,b.slice(0,h).join("/")))if(c=m(c,k)){var l=c;var n=d;break a}if(!r&&f&&m(f,k)){var r=m(f,k);var A=d}}!l&&r&&(l=r,n=A);l&&(g.splice(0,n,l),a=g.join("/"))}return(l=m(ba.pkgs,a))?l:a}function F(a){T&&k(document.getElementsByTagName("script"),function(b){if(b.getAttribute("data-requiremodule")===a&&b.getAttribute("data-requirecontext")===
X.contextName)return b.parentNode.removeChild(b),!0})}function B(a){var b=m(ba.paths,a);if(b&&e(b)&&1<b.length)return b.shift(),X.require.undef(a),X.makeRequire(null,{skipMap:!0})([a]),!0}function G(a){var b=a?a.indexOf("!"):-1;if(-1<b){var c=a.substring(0,b);a=a.substring(b+1,a.length)}return[c,a]}function P(a,b,c,d){var e=null,f=b?b.name:null,g=a,h=!0,k="";a||(h=!1,a="_@r"+(yb+=1));a=G(a);e=a[0];a=a[1];if(e){e=w(e,f,d);var l=m(Ba,e)}if(a)if(e)k=c?a:l&&l.normalize?l.normalize(a,function(a){return w(a,
f,d)}):-1===a.indexOf("!")?w(a,f,d):a;else{k=w(a,f,d);a=G(k);e=a[0];k=a[1];c=!0;var n=X.nameToUrl(k)}c=!e||l||c?"":"_unnormalized"+(zb+=1);return{prefix:e,name:k,parentMap:b,unnormalized:!!c,url:n,originalName:g,isDefine:h,id:(e?e+"!"+k:k)+c}}function M(a){var b=a.id,c=m(na,b);c||(c=na[b]=new X.Module(a));return c}function C(a,b,c){var d=a.id,e=m(na,d);if(!f(Ba,d)||e&&!e.defineEmitComplete)if(e=M(a),e.error&&"error"===b)c(e.error);else e.on(b,c);else"defined"===b&&c(Ba[d])}function O(a,b){var c=a.requireModules,
d=!1;if(b)b(a);else if(k(c,function(b){if(b=m(na,b))b.error=a,b.events.error&&(d=!0,b.emit("error",a))}),!d)V.onError(a)}function fa(){aa.length&&(k(aa,function(a){var b=a[0];"string"===typeof b&&(X.defQueueMap[b]=!0);hb.push(a)}),aa=[])}function S(a){delete na[a];delete E[a]}function Q(a,b,c){var d=a.map.id;a.error?a.emit("error",a.error):(b[d]=!0,k(a.depMaps,function(d,e){d=d.id;var f=m(na,d);!f||a.depMatched[e]||c[d]||(m(b,d)?(a.defineDep(e,Ba[d]),a.check()):Q(f,b,c))}),c[d]=!0)}function J(){var b,
c,d=(b=1E3*ba.waitSeconds)&&X.startTime+b<(new Date).getTime(),e=[],f=[],g=!1,h=!0;if(!ka){ka=!0;r(E,function(a){var b=a.map,k=b.id;if(a.enabled&&(b.isDefine||f.push(a),!a.error))if(!a.inited&&d)B(k)?g=c=!0:(e.push(k),F(k));else if(!a.inited&&a.fetched&&b.isDefine&&(g=!0,!b.prefix))return h=!1});if(d&&e.length)return b=D("timeout","Load timeout for modules: "+e,null,e),b.contextName=X.contextName,O(b);h&&k(f,function(a){Q(a,{},{})});d&&!c||!g||!T&&!ha||sa||(sa=a(function(){sa=0;J()},50));ka=!1}}function R(a){f(Ba,
a[0])||M(P(a[0],null,!0)).init(a[1],a[2])}function U(a){a=a.currentTarget||a.srcElement;var b=X.onScriptLoad;a.detachEvent&&!Y?a.detachEvent("onreadystatechange",b):a.removeEventListener("load",b,!1);b=X.onScriptError;a.detachEvent&&!Y||a.removeEventListener("error",b,!1);return{node:a,id:a&&a.getAttribute("data-requiremodule")}}function ob(){for(fa();hb.length;){var a=hb.shift();if(null===a[0])return O(D("mismatch","Mismatched anonymous define() module: "+a[a.length-1]));R(a)}X.defQueueMap={}}var ka,
sa,ba={waitSeconds:7,baseUrl:"./",paths:{},bundles:{},pkgs:{},shim:{},config:{}},na={},E={},h={},hb=[],Ba={},Pb={},$b={},yb=1,zb=1;var Eb={require:function(a){return a.require?a.require:a.require=X.makeRequire(a.map)},exports:function(a){a.usingExports=!0;if(a.map.isDefine)return a.exports?Ba[a.map.id]=a.exports:a.exports=Ba[a.map.id]={}},module:function(a){return a.module?a.module:a.module={id:a.map.id,uri:a.map.url,config:function(){return m(ba.config,a.map.id)||{}},exports:a.exports||(a.exports=
{})}}};var Sb=function(a){this.events=m(h,a.id)||{};this.map=a;this.shim=m(ba.shim,a.id);this.depExports=[];this.depMaps=[];this.depMatched=[];this.pluginMaps={};this.depCount=0};Sb.prototype={init:function(a,b,c,d){d=d||{};if(!this.inited){this.factory=b;if(c)this.on("error",c);else this.events.error&&(c=n(this,function(a){this.emit("error",a)}));this.depMaps=a&&a.slice(0);this.errback=c;this.inited=!0;this.ignore=d.ignore;d.enabled||this.enabled?this.enable():this.check()}},defineDep:function(a,
b){this.depMatched[a]||(this.depMatched[a]=!0,--this.depCount,this.depExports[a]=b)},fetch:function(){if(!this.fetched){this.fetched=!0;X.startTime=(new Date).getTime();var a=this.map;if(this.shim)X.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],n(this,function(){return a.prefix?this.callPlugin():this.load()}));else return a.prefix?this.callPlugin():this.load()}},load:function(){var a=this.map.url;Pb[a]||(Pb[a]=!0,X.load(this.map.id,a))},check:function(){if(this.enabled&&!this.enabling){var a=
this.map.id;var b=this.depExports;var c=this.exports,e=this.factory;if(!this.inited)f(X.defQueueMap,a)||this.fetch();else if(this.error)this.emit("error",this.error);else if(!this.defining){this.defining=!0;if(1>this.depCount&&!this.defined){if(d(e)){if(this.events.error&&this.map.isDefine||V.onError!==x)try{c=X.execCb(a,e,b,c)}catch(qb){var g=qb}else c=X.execCb(a,e,b,c);this.map.isDefine&&void 0===c&&((b=this.module)?c=b.exports:this.usingExports&&(c=this.exports));if(g)return g.requireMap=this.map,
g.requireModules=this.map.isDefine?[this.map.id]:null,g.requireType=this.map.isDefine?"define":"require",O(this.error=g)}else c=e;this.exports=c;if(this.map.isDefine&&!this.ignore&&(Ba[a]=c,V.onResourceLoad)){var h=[];k(this.depMaps,function(a){h.push(a.normalizedMap||a)});V.onResourceLoad(X,this.map,h)}S(a);this.defined=!0}this.defining=!1;this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}},callPlugin:function(){var a=this.map,
b=a.id,c=P(a.prefix);this.depMaps.push(c);C(c,"defined",n(this,function(c){var d=m($b,this.map.id),e=this.map.name,g=this.map.parentMap?this.map.parentMap.name:null,h=X.makeRequire(a.parentMap,{enableBuildCallback:!0});if(this.map.unnormalized){c.normalize&&(e=c.normalize(e,function(a){return w(a,g,!0)})||"");var k=P(a.prefix+"!"+e,this.map.parentMap,!0);C(k,"defined",n(this,function(a){this.map.normalizedMap=k;this.init([],function(){return a},null,{enabled:!0,ignore:!0})}));if(c=m(na,k.id)){this.depMaps.push(k);
if(this.events.error)c.on("error",n(this,function(a){this.emit("error",a)}));c.enable()}}else if(d)this.map.url=X.nameToUrl(d),this.load();else{var l=n(this,function(a){this.init([],function(){return a},null,{enabled:!0})});l.error=n(this,function(a){this.inited=!0;this.error=a;a.requireModules=[b];r(na,function(a){0===a.map.id.indexOf(b+"_unnormalized")&&S(a.map.id)});O(a)});l.fromText=n(this,function(c,d){var e=a.name,g=P(e),k=N;d&&(c=d);k&&(N=!1);M(g);f(ba.config,b)&&(ba.config[e]=ba.config[b]);
try{V.exec(c)}catch(eb){return O(D("fromtexteval","fromText eval for "+b+" failed: "+eb,eb,[b]))}k&&(N=!0);this.depMaps.push(g);X.completeLoad(e);h([e],l)});c.load(a.name,h,l,ba)}}));X.enable(c,this);this.pluginMaps[c.id]=c},enable:function(){E[this.map.id]=this;this.enabling=this.enabled=!0;k(this.depMaps,n(this,function(a,b){var c;if("string"===typeof a){a=P(a,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap);this.depMaps[b]=a;if(c=m(Eb,a.id)){this.depExports[b]=c(this);return}this.depCount+=
1;C(a,"defined",n(this,function(a){this.undefed||(this.defineDep(b,a),this.check())}));this.errback?C(a,"error",n(this,this.errback)):this.events.error&&C(a,"error",n(this,function(a){this.emit("error",a)}))}c=a.id;var d=na[c];f(Eb,c)||!d||d.enabled||X.enable(a,this)}));r(this.pluginMaps,n(this,function(a){var b=m(na,a.id);b&&!b.enabled&&X.enable(a,this)}));this.enabling=!1;this.check()},on:function(a,b){var c=this.events[a];c||(c=this.events[a]=[]);c.push(b)},emit:function(a,b){k(this.events[a],
function(a){a(b)});"error"===a&&delete this.events[a]}};var X={config:ba,contextName:c,registry:na,defined:Ba,urlFetched:Pb,defQueue:hb,defQueueMap:{},Module:Sb,makeModuleMap:P,nextTick:V.nextTick,onError:O,configure:function(a){a.baseUrl&&"/"!==a.baseUrl.charAt(a.baseUrl.length-1)&&(a.baseUrl+="/");if("string"===typeof a.urlArgs){var b=a.urlArgs;a.urlArgs=function(a,c){return(-1===c.indexOf("?")?"?":"\x26")+b}}var c=ba.shim,d={paths:!0,bundles:!0,config:!0,map:!0};r(a,function(a,b){d[b]?(ba[b]||
(ba[b]={}),g(ba[b],a,!0,!0)):ba[b]=a});a.bundles&&r(a.bundles,function(a,b){k(a,function(a){a!==b&&($b[a]=b)})});a.shim&&(r(a.shim,function(a,b){e(a)&&(a={deps:a});!a.exports&&!a.init||a.exportsFn||(a.exportsFn=X.makeShimExports(a));c[b]=a}),ba.shim=c);a.packages&&k(a.packages,function(a){a="string"===typeof a?{name:a}:a;var b=a.name;a.location&&(ba.paths[b]=a.location);ba.pkgs[b]=a.name+"/"+(a.main||"main").replace(K,"").replace(H,"")});r(na,function(a,b){a.inited||a.map.unnormalized||(a.map=P(b,
null,!0))});(a.deps||a.callback)&&X.require(a.deps||[],a.callback)},makeShimExports:function(a){return function(){var c;a.init&&(c=a.init.apply(b,arguments));return c||a.exports&&y(a.exports)}},makeRequire:function(a,b){function e(g,h,k){var l;b.enableBuildCallback&&h&&d(h)&&(h.__requireJsBuild=!0);if("string"===typeof g){if(d(h))return O(D("requireargs","Invalid require call"),k);if(a&&f(Eb,g))return Eb[g](na[a.id]);if(V.get)return V.get(X,g,a,e);var n=P(g,a,!1,!0);n=n.id;return f(Ba,n)?Ba[n]:O(D("notloaded",
'Module name "'+n+'" has not been loaded yet for context: '+c+(a?"":". Use require([])")))}ob();X.nextTick(function(){ob();l=M(P(null,a));l.skipMap=b.skipMap;l.init(g,h,k,{enabled:!0});J()});return e}b=b||{};g(e,{isBrowser:T,toUrl:function(b){var c=b.lastIndexOf("."),d=b.split("/")[0];if(-1!==c&&("."!==d&&".."!==d||1<c)){var e=b.substring(c,b.length);b=b.substring(0,c)}return X.nameToUrl(w(b,a&&a.id,!0),e,!0)},defined:function(b){return f(Ba,P(b,a,!1,!0).id)},specified:function(b){b=P(b,a,!1,!0).id;
return f(Ba,b)||f(na,b)}});a||(e.undef=function(b){fa();var c=P(b,a,!0),d=m(na,b);d.undefed=!0;F(b);delete Ba[b];delete Pb[c.url];delete h[b];l(hb,function(a,c){a[0]===b&&hb.splice(c,1)});delete X.defQueueMap[b];d&&(d.events.defined&&(h[b]=d.events),S(b))});return e},enable:function(a){m(na,a.id)&&M(a).enable()},completeLoad:function(a){var b=m(ba.shim,a)||{},c=b.exports;for(fa();hb.length;){var d=hb.shift();if(null===d[0]){d[0]=a;if(e)break;var e=!0}else d[0]===a&&(e=!0);R(d)}X.defQueueMap={};d=
m(na,a);if(!e&&!f(Ba,a)&&d&&!d.inited)if(!ba.enforceDefine||c&&y(c))R([a,b.deps||[],b.exportsFn]);else return B(a)?void 0:O(D("nodefine","No define call for "+a,null,[a]));J()},nameToUrl:function(a,b,c){var d,f;(d=m(ba.pkgs,a))&&(a=d);if(d=m($b,a))return X.nameToUrl(d,b,c);if(V.jsExtRegExp.test(a))d=a+(b||"");else{d=ba.paths;var g=a.split("/");for(f=g.length;0<f;--f){var h=g.slice(0,f).join("/");if(h=m(d,h)){e(h)&&(h=h[0]);g.splice(0,f,h);break}}d=g.join("/");d+=b||(/^data:|^blob:|\?/.test(d)||c?
"":".js");d=("/"===d.charAt(0)||d.match(/^[\w\+\.\-]+:/)?"":ba.baseUrl)+d}return ba.urlArgs&&!/^blob:/.test(d)?d+ba.urlArgs(a,d):d},load:function(a,b){V.load(X,a,b)},execCb:function(a,b,c,d){return b.apply(d,c)},onScriptLoad:function(a){if("load"===a.type||ia.test((a.currentTarget||a.srcElement).readyState))A=null,a=U(a),X.completeLoad(a.id)},onScriptError:function(a){var b=U(a);if(!B(b.id)){var c=[];r(na,function(a,d){0!==d.indexOf("_@r")&&k(a.depMaps,function(a){if(a.id===b.id)return c.push(d),
!0})});return O(D("scripterror",'Script error for "'+b.id+(c.length?'", needed by: '+c.join(", "):'"'),a,[b.id]))}}};X.require=X.makeRequire();return X}};V({});k(["toUrl","undef","defined","specified"],function(a){V[a]=function(){var b=ka._;return b.require[a].apply(b,arguments)}});if(T){var sa=C.head=document.getElementsByTagName("head")[0];if(B=document.getElementsByTagName("base")[0])sa=C.head=B.parentNode}V.onError=x;V.createNode=function(a,b,c){b=a.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml",
"html:script"):document.createElement("script");b.type=a.scriptType||"text/javascript";b.charset="utf-8";b.async=!0;return b};V.load=function(b,c,d){var e=b&&b.config||{};if(T){var f=V.createNode(e,c,d);f.setAttribute("data-requirecontext",b.contextName);f.setAttribute("data-requiremodule",c);!f.attachEvent||f.attachEvent.toString&&0>f.attachEvent.toString().indexOf("[native code")||Y?(f.addEventListener("load",b.onScriptLoad,!1),f.addEventListener("error",b.onScriptError,!1)):(N=!0,f.attachEvent("onreadystatechange",
b.onScriptLoad));f.src=d;if(e.onNodeCreated)e.onNodeCreated(f,e,c,d);G=f;B?sa.insertBefore(f,B):sa.appendChild(f);G=null;return f}if(ha)try{a(function(){},0),importScripts(d),b.completeLoad(c)}catch(xa){b.onError(D("importscripts","importScripts failed for "+c+" at "+d,xa,[c]))}};T&&!R.skipDataMain&&l(document.getElementsByTagName("script"),function(a){sa||(sa=a.parentNode);if(F=a.getAttribute("data-main"))return M=F,R.baseUrl||-1!==M.indexOf("!")||(P=M.split("/"),M=P.pop(),fa=P.length?P.join("/")+
"/":"./",R.baseUrl=fa),M=M.replace(H,""),V.jsExtRegExp.test(M)&&(M=F),R.deps=R.deps?R.deps.concat(M):[M],!0});define=function(a,b,f){var g;"string"!==typeof a&&(f=b,b=a,a=null);e(b)||(f=b,b=null);!b&&d(f)&&(b=[],f.length&&(f.toString().replace(O,c).replace(S,function(a,c){b.push(c)}),b=(1===f.length?["require"]:["require","exports","module"]).concat(b)));if(N&&(g=G||w())){a||(a=g.getAttribute("data-requiremodule"));var k=ka[g.getAttribute("data-requirecontext")]}k?(k.defQueue.push([a,b,f]),k.defQueueMap[a]=
!0):aa.push([a,b,f])};define.amd={jQuery:!0};V.exec=function(a){return eval(a)};V(R)}})(this,"undefined"===typeof setTimeout?void 0:setTimeout);
(function(){function b(a,b){define(a,function(){return window[b]})}function a(a){return null!==window[a]}var c={backbone:{exports:"Backbone"},underscore:{exports:"_"},ICAL:{exports:"ICAL"},jquery:{exports:"jQuery"},later:{exports:"later"},gsap:{test:function(){return window.com&&window.com.greensock},define:function(a){define(a,function(){var a=window.com.greensock;delete window.com.greensock;return a})}}},d;for(d in c)if(c.hasOwnProperty(d)){var e=c[d].exports,k=c[d].define||b;(c[d].test||a)(e)&&
k(d,e)}})();
define("eventemitter",[],function(){function b(){}function a(a,b,c){this.fn=a;this.context=b;this.once=c||!1}function c(b,c,d,e,k){if("function"!==typeof d)throw new TypeError("The listener must be a function");d=new a(d,e||b,k);c=l?l+c:c;b._events[c]?b._events[c].fn?b._events[c]=[b._events[c],d]:b._events[c].push(d):(b._events[c]=d,b._eventsCount++);return b}function d(a,c){0===--a._eventsCount?a._events=new b:delete a._events[c]}function e(){this._events=new b;this._eventsCount=0}var k=Object.prototype.hasOwnProperty,
l="~";Object.create&&(b.prototype=Object.create(null),(new b).__proto__||(l=!1));e.prototype.eventNames=function(){var a=[],b,c;if(0===this._eventsCount)return a;for(c in b=this._events)k.call(b,c)&&a.push(l?c.slice(1):c);return Object.getOwnPropertySymbols?a.concat(Object.getOwnPropertySymbols(b)):a};e.prototype.listeners=function(a){a=this._events[l?l+a:a];if(!a)return[];if(a.fn)return[a.fn];for(var b=0,c=a.length,d=Array(c);b<c;b++)d[b]=a[b].fn;return d};e.prototype.listenerCount=function(a){return(a=
this._events[l?l+a:a])?a.fn?1:a.length:0};e.prototype.emit=function(a,b,c,d,e,k){var f=l?l+a:a;if(!this._events[f])return!1;f=this._events[f];var g=arguments.length,n;if(f.fn){f.once&&this.removeListener(a,f.fn,void 0,!0);switch(g){case 1:return f.fn.call(f.context),!0;case 2:return f.fn.call(f.context,b),!0;case 3:return f.fn.call(f.context,b,c),!0;case 4:return f.fn.call(f.context,b,c,d),!0;case 5:return f.fn.call(f.context,b,c,d,e),!0;case 6:return f.fn.call(f.context,b,c,d,e,k),!0}var m=1;for(n=
Array(g-1);m<g;m++)n[m-1]=arguments[m];f.fn.apply(f.context,n)}else{var r=f.length;for(m=0;m<r;m++)switch(f[m].once&&this.removeListener(a,f[m].fn,void 0,!0),g){case 1:f[m].fn.call(f[m].context);break;case 2:f[m].fn.call(f[m].context,b);break;case 3:f[m].fn.call(f[m].context,b,c);break;case 4:f[m].fn.call(f[m].context,b,c,d);break;default:if(!n){var x=1;for(n=Array(g-1);x<g;x++)n[x-1]=arguments[x]}f[m].fn.apply(f[m].context,n)}}return!0};e.prototype.on=function(a,b,d){return c(this,a,b,d,!1)};e.prototype.once=
function(a,b,d){return c(this,a,b,d,!0)};e.prototype.removeListener=function(a,b,c,e){a=l?l+a:a;if(!this._events[a])return this;if(!b)return d(this,a),this;var f=this._events[a];if(f.fn)f.fn!==b||e&&!f.once||c&&f.context!==c||d(this,a);else{for(var g=0,k=[],m=f.length;g<m;g++)(f[g].fn!==b||e&&!f[g].once||c&&f[g].context!==c)&&k.push(f[g]);k.length?this._events[a]=1===k.length?k[0]:k:d(this,a)}return this};e.prototype.removeAllListeners=function(a){a?(a=l?l+a:a,this._events[a]&&d(this,a)):(this._events=
new b,this._eventsCount=0);return this};e.prototype.off=e.prototype.removeListener;e.prototype.addListener=e.prototype.on;e.prefixed=l;e.EventEmitter=e;"undefined"!==typeof module&&(module.exports=e);return e});
(function(b,a){function c(a){d.push(a)}var d=[];b.addEventListener("message",c);a("window.io",["eventemitter"],function(a){var e={window:null,windows:null,namespace:"screens-player"},l=function(a){var f=this;this._super.constructor.call(this);a=Object.assign({},e,a);if(a.window===b)throw Error("WindowIO bridge can't talk to itself yet");this.targetWindows={};(a.windows||a.window)&&this.addWindows(a.windows||{single:a.window});this._namespace=a.namespace;this._onMessageHandler=this._onMessage.bind(this);
this.emit=function(a,b,c){console.log("[window.io] WindowIO.on("+a+") in "+c);this._super.emit.apply(this,arguments)};b.addEventListener("message",this._onMessageHandler,!1);this._onUnloadHandler=function(){b.removeEventListener("unload",this._onUnloadHandler,!1);this.destroy()}.bind(this);b.addEventListener("unload",this._onUnloadHandler,!1);b.setTimeout(function(){b.removeEventListener("message",c);f._onMessageHandler&&d.forEach(f._onMessageHandler)},0)};l.SUB_WINDOWS_PREFIX="screens-zone-cell";
l.prototype=Object.create(a.prototype);Object.assign(l.prototype,{_super:a.prototype,constructor:l},{_onMessage:function(a){try{var c=a.data&&"object"===typeof a.data?a.data:JSON.parse(a.data)}catch(n){}if(c&&c.namespace===this._namespace){var d=null,e;for(e in this.targetWindows)if(this.targetWindows[e]===a.source){d=e;break}if(!d&&!this.targetWindows.single&&b.location.origin!==a.origin){for(e in this.targetWindows)b.ScreensDisplay&&this.targetWindows[e].ScreensDisplay&&this.targetWindows[e].ScreensDisplay.getWindowIO().addWindow("global",
a.source);d="single";this.addWindow(d,a.source);console.log("Lazy loaded firmware window with origin "+a.origin+" on message "+c.type)}d&&this.emit(c.type,c.data,d)}},postMessage:function(a,b,c){c=Array.prototype.concat([],c||Object.keys(this.targetWindows));c.reduce(function(a,b){(b=this.targetWindows[b])&&b.postMessage&&-1===a.indexOf(b)&&a.push(b);return a}.bind(this),[]).forEach(function(c){console.log("[window.io] WindowIO.postMessage("+a+")");c.postMessage(JSON.stringify({namespace:this._namespace,
type:a,data:b}),"*")}.bind(this))},postMessageToSubWindows:function(a,b){var c=Object.keys(this.targetWindows).filter(function(a){return 0===a.indexOf(l.SUB_WINDOWS_PREFIX)});c.length&&this.postMessage(a,b,c)},addWindow:function(a,c){this.targetWindows[a]=c;try{console.log("[window.io] addWindow - Current window "+b.location.href+" posts messages to "+c.location.href+". Registered with key "+a)}catch(r){console.log("[window.io] addWindow - Current window "+b.location.href+" posts messages to a protected window. Registered with key "+
a)}},addWindows:function(a){for(var b in a)this.addWindow(b,a[b])},removeWindow:function(a){for(var c in this.targetWindows)if(c===a||this.targetWindows[c]===a){var d=this.targetWindows[c];delete this.targetWindows[c];try{console.log("[window.io] removeWindow - Current window "+b.location.href+" does not post messages to "+d.location.href+" anymore. Registered key was "+c)}catch(g){console.log("[window.io] removeWindow - Current window "+b.location.href+" does not post messages to a protected window anymore. Registered key was "+
c)}}},destroy:function(){this.removeAllListeners();this.targetWindows=null;this._onMessageHandler&&(b.removeEventListener("message",this._onMessageHandler),this._onMessageHandler=null);this._onUnloadHandler&&(b.removeEventListener("unload",this._onUnloadHandler),this._onUnloadHandler=null)}});return l})})(window,window.define);
define("scroll/Util",[],function(){return{pick:function(b,a){return b&&a&&"object"===typeof b&&Array.isArray(a)?a.reduce(function(a,d){"undefined"!==typeof b[d]&&(a[d]=b[d]);return a},{}):{}}}});
define("scroll/Physics",["scroll/Util"],function(b){function a(c){this.options=Object.assign({},a.DEFAULT_OPTIONS,b.pick(c||{},Object.keys(a.DEFAULT_OPTIONS)));this.strength=this.options.strength;this.fn=this.options.forceFunction}function c(a){this.options=Object.assign({},c.DEFAULT_OPTIONS,b.pick(a||{},Object.keys(c.DEFAULT_OPTIONS)));this.velocityCap=this.options.velocityCap}function d(a){this.options=Object.assign({},d.DEFAULT_OPTIONS,b.pick(a||{},Object.keys(d.DEFAULT_OPTIONS)));this.reset()}
a.FN_LINEAR=function(a){return a};a.FN_QUADRATIC=function(a){return a*a};a.DEFAULT_OPTIONS={strength:.001,forceFunction:a.FN_LINEAR};a.prototype={applyForce:function(a){var b=-this.fn(a.velocity)*this.strength;a.applyForce(b)}};c.DEFAULT_OPTIONS={velocityCap:0};c.prototype={velocityCap:0,position:0,velocity:0,force:0,applyForce:function(a){this.force+=a},updateVelocity:function(a){this.velocity+=this.force*a;this.force=0},updatePosition:function(a){var b=this.velocity;this.velocityCap&&(this.velocity=
b=0<b?Math.min(this.velocityCap,b):Math.max(-this.velocityCap,b));this.position+=a*b}};d.FN_FENE=function(a,b){var c=.99*b;a=Math.max(Math.min(a,c),-c);return a/(1-a*a/(b*b))};d.FN_HOOK=function(a){return a};d.DEFAULT_OPTIONS={period:300,dampingRatio:.1,length:0,maxLength:Infinity,anchor:0,forceFunction:d.FN_HOOK};d.prototype={reset:function(){var a=this.options;this._energy=0;this._fn=a.forceFunction;this._stiffness=Math.pow(2*Math.PI/a.period,2);this._damping=4*Math.PI*a.dampingRatio/a.period;this._anchor=
a.anchor;this._restLength=a.length;this._maxLength=a.maxLength},setOptions:function(a){Object.assign(this.options,a);this.reset()},applyForce:function(a){var b=this._stiffness,c=this._anchor-a.position-this._restLength,d=b*this._fn(c,this._maxLength);d-=a.velocity*this._damping;a.applyForce(d);this._energy=.5*b*c*c}};return{Force:a,Particle:c,Spring:d}});
define("scroll/ScrollView",["./ScrollableList","./Physics","scroll/Util"],function(b,a,c){function d(e,f){this.el=e=e.jquery?e[0]:e;this.options=Object.assign({},d.DEFAULT_OPTIONS,c.pick(f||{},Object.keys(d.DEFAULT_OPTIONS)));this._direction=this.options.direction?1:0;f=this.options.scrollableList;f.direction=this._direction;f.edgeMargin||(f.edgeMargin=this.options.edgeMargin);this.list=new b(e,f);this._enabled=!0;this._recheck=this._snapCheckPending=this._onEdge=this._simulating=!1;this._springPosition=
this._springBody=0;this._watchedElements=[];this._lastTouch=null;this._particle=new a.Particle({velocityCap:this.options.speedLimit});this._drag=new a.Force({forceFunction:a.Force.FN_QUADRATIC,strength:this.options.drag});this._friction=new a.Force({forceFunction:a.Force.FN_LINEAR,strength:this.options.friction});this._springOpts=[];this._springOpts[0]={};this._springOpts[1]={period:this.options.edgePeriod,dampingRatio:this.options.edgeDamp};this._springOpts[2]={period:this.options.snapPeriod,dampingRatio:this.options.snapDamp};
this._spring=new a.Spring(this._springOpts[1]);this.options.panGestureEnabled&&(this._sistine=new Sistine.Manager(e,{recognizers:[new Sistine.Pan({eventName:"pan",direction:this._direction?Sistine.DIRECTION_VERTICAL:Sistine.DIRECTION_HORIZONTAL,delegate:this.options.panDelegate,minLockDistance:0,minPointers:this.options.minPointers,maxPointers:this.options.maxPointers})]}),this._sistine.on("pan",k.bind(this)))}function e(a){return function(){return a.apply(this.list,arguments)}}function k(a){if(this._enabled)if(a.state===
Sistine.STATE_STARTED)this._lastTouch||(this._lastTouch={id:a.pointer.id,idSet:a.pointerSet.keys.slice(0),t:Date.now(),p:a.pointer.position(),v:[0,0],d:[0,0]},this._springBody=0,this._onEdge=!1,y.call(this));else if(a.state===Sistine.STATE_CHANGED){if(this._lastTouch&&-1!==this._lastTouch.idSet.indexOf(a.pointer.id)){var b=this._lastTouch,c=Date.now(),d=b.tp=b.t;d=b.dt=c-d;a=a.pointer.position();for(var e,f=0;2>f;f++)e=b.d[f]=a[f]-b.p[f],b.v[f]=d?e/d:b.v[f];b.p=a;b.t=c;this._particle.velocity=0;this._particle.position-=
this._lastTouch.d[this._direction];b=0;this.options.edgeResist&&(b=this._lastTouch.dt);r.call(this,b)}}else a.state===Sistine.STATE_ENDED&&this._lastTouch&&-1!==this._lastTouch.idSet.indexOf(a.pointer.id)&&(this._particle.velocity-=this._lastTouch.v[this._direction],this._particle.position-=this._lastTouch.d[this._direction],this._snapCheckPending=!0,x.call(this),this._lastTouch=null)}function l(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);c.detail=b||{};c.viewController=this;this.el.dispatchEvent(c)}
function f(a,b){0===this._springBody&&(this._springBody=a,a=Object.assign({},this._springOpts[a],{anchor:b}),this._spring.setOptions(a),this._springPosition=b)}function m(){this._springBody&&(this._springBody=0,this._particle.position=this._springPosition,r.call(this,0))}function r(a){if(this._snapCheckPending&&this.options.snap){var b=Math.abs(this._particle.velocity);if(!(b>this.options.snapSpeedThreshold)){this._snapCheckPending=!1;var c=this.list.infoOf(this.list.getCurrentIdx());if(c)if(1===
this._springBody)l.call(this,"scroll-snap",{idx:c.idx,view:this});else{var d=c.position,e=c.idx;b=b>this.options.snapNextSpeed;var g=this._particle.position>(c.position+c.nextPos)/2,k=0<this._particle.velocity;if(b&&k||!b&&g)d=c.nextPos,e++;l.call(this,"scroll-snap",{idx:e,view:this});f.call(this,2,d)}}}null!==a&&(c=!0,33.3<a&&(a=33.3,c=!1),d=this._particle,this._springBody?this._spring.applyForce(d):(this._drag.applyForce(d),this._friction.applyForce(d)),d.updateVelocity(a),d.updatePosition(a),c&&
this.list.setPosition(d.position,!0),a=!!this.list._edgeHit,!this._onEdge&&a?f.call(this,1,this.list._edgePosition):this._onEdge&&!a&&2!==this._springBody&&this._springBody&&.01>Math.abs(this._particle.velocity)&&m.call(this),this._onEdge=a)}function g(a,c,d){for(var e=this._watchedElements,f=0;f<e.length;f++)if(e[f].el===a)return null;f=b.FN_GET_SIZE_FOR_EL[this._direction](a);a={el:a,fn:c,oldSize:f,size:f,scope:d,lastChange:Date.now(),timeout:500};e.push(a);n.call(this);return a}function n(){function a(){for(var b=
[],f=0;f<e.length;f++){var g=e[f],k=g.el;if(document.body.contains(k)){var l=Date.now(),n=c(k);g.size!==n?(g.oldSize=g.size,g.size=n,g.lastChange=l,g.fn.call(g.scope||k,g)&&b.push(k)):l-g.lastChange>g.timeout&&e.splice(f--,1)}else 0<g.size&&(g.oldSize=g.size,g.size=0,g.fn.call(g.scope||k,g)),e.splice(f--,1)}0<b.length&&d.list.invalidate.apply(d.list,b);e.length&&requestAnimationFrame(a)}var c=b.FN_GET_SIZE_FOR_EL[this._direction],d=this,e=this._watchedElements;e.length&&requestAnimationFrame(a)}function x(){function a(){if(b._simulating){var d=
Date.now(),e=Math.max(1,d-c);c=d;r.call(b,e);!b._snapCheckPending&&.05>Math.abs(b._particle.velocity)&&(!b._springBody||1E-4>b._spring._energy)?(m.call(b),y.call(b)):requestAnimationFrame(a)}}var b=this;if(!this._simulating){this._simulating=!0;var c=Date.now();requestAnimationFrame(a)}}function y(){this._simulating&&(this._simulating=!1)}d.DIRECTION_X=0;d.DIRECTION_Y=1;d.DEFAULT_OPTIONS={direction:d.DIRECTION_X,scrollableList:{},friction:.005,drag:1E-4,edgePeriod:300,edgeDamp:1,edgeMargin:[0,0],
edgeResist:!0,speedLimit:10,snap:!1,snapPeriod:500,snapDamp:.8,snapSpeedThreshold:1,snapNextSpeed:.1,panDelegate:null,panGestureEnabled:!0,minPointers:1,maxPointers:1};d.prototype={destroy:function(){this._sistine&&(this._sistine.off("pan"),this._sistine.destroy(),this._sistine=null);this.list.destroy();this.list=null},getPosition:function(){return this._particle.position},setPosition:function(a){a=this.list.limitPosition(a);this._particle.position=a;this._springBody=0;r.call(this,0);return a},scrollTo:function(a){a=
this.positionOf(a);this.setPosition(a)},incPosition:function(a){var b=this.getPosition();return this.setPosition(b+a)-b},watchAndAdjust:function(a){return g.call(this,a,function(a){a=a.size-a.oldSize;this.setPosition(this.getPosition()+a/2);return!0},this)},invalidate:function(){this.list.invalidate.apply(this.list,arguments);this._recheck&&(this._recheck=!1,r.call(this,1E3/60),this._snapCheckPending=!0,x.call(this))},invalidateAll:function(){this.list.invalidateAll.apply(this.list,arguments);this._recheck&&
(this._recheck=!1,r.call(this,1E3/60),this._snapCheckPending=!0,x.call(this))},splice:function(a,b,c){var d=this.list.getPosition(),e=this.list.splice.apply(this.list,arguments);this._recheck=Number.isInteger(b)&&0<b;var f=this.list.getPosition();f!==d&&this.setPosition(f);return e},handlePan:function(a){k.call(this,a)},length:e(b.prototype.length),indexOf:e(b.prototype.indexOf),at:e(b.prototype.at),positionOf:e(b.prototype.positionOf),recalculateSize:e(b.prototype.recalculateSize),children:e(b.prototype.children)};
return d});
define("scroll/ScrollableList",["scroll/Util"],function(b){function a(c,d){this.el=c=c.jquery?c[0]:c;this.options=Object.assign({},a.DEFAULT_OPTIONS,b.pick(d||{},Object.keys(a.DEFAULT_OPTIONS)));this._direction=this.options.direction?1:0;this._gutter=this.options.gutter;this._edgeHit=this._lastEdge=this._last=this._current=this._first=this._offset=this._position=0;this._hash="";this._noJitter=!0;a:{for(d=0;d<document.styleSheets.length;d++)if("ctx-scrollablelist-styles"===document.styleSheets[d].title)break a;d=
document.createElement("style");d.setAttribute("title","ctx-scrollablelist-styles");d.appendChild(document.createTextNode(""));document.head.appendChild(d);d=d.sheet;d.insertRule(".ctx-ScrollableList-world{width: 100%;height: 100%;overflow: hidden;position: absolute;}",0);d.insertRule(".ctx-ScrollableList-scene{width: 100%;height: 100%;}",1);d.insertRule(".ctx-ScrollableList-item-x{position: absolute;height: 100%;}",2);d.insertRule(".ctx-ScrollableList-item-y{position: absolute;width: 100%;}",3)}this._cssItemClassName=
this._direction?"ctx-ScrollableList-item-y":"ctx-ScrollableList-item-x";d=this._world=document.createElement("div");d.className="ctx-ScrollableList-world";var e=this._scene=document.createElement("div");e.className="ctx-ScrollableList-scene";for(d.appendChild(e);c.children.length;){var g=document.createElement("div");g.className=this._cssItemClassName;g.appendChild(c.children[0]);e.appendChild(g)}c.appendChild(d);this._scene.style.transform="translate3d(0,0,0)";window.getComputedStyle(this._scene).getPropertyValue("transform")||
(f=m);this._scene.style.transform="";this.recalculateSize();k.call(this,!0);if(this.options.debug){c={position:"absolute",background:"rgba(0,0,0,0.3)",fontFamily:"monospace",fontSize:"16px",whiteSpace:"pre"};d=this.el;var n=d.offsetLeft;e=d.clientWidth;g=d.clientHeight;var r=document.createElement("div");Object.assign(r.style,c,{left:-n+"px",top:0,width:n+"px",height:g+"px"});this._debugEl=r;d.appendChild(r);n=document.createElement("div");Object.assign(n.style,c,{left:e+"px",right:"-1000px",top:0,
height:g+"px"});this._world.style.overflow="visible";d.appendChild(n)}l.call(this)}function c(a){var b=this._scene.children;return 0<=a&&a<b.length?b[a]:null}function d(a){if("number"===typeof a||"string"===typeof a)return c.call(this,+a);for(;a&&a.className!==this._cssItemClassName;)a=a.parentElement;return a}function e(a,b){var c=document.createElement("div");c.className=this._cssItemClassName;c.appendChild(a);b?this._scene.insertBefore(c,b):this._scene.appendChild(c);return c}function k(b){for(var c=
a.FN_GET_SIZE_FOR_EL[this._direction],d=this._gutter,e=this._scene.children,f=0,g,k=0,l=e.length;k<l;k++){var m=e[k];if(m.className!==this._cssItemClassName)console.log("raw item detected"),g=document.createElement("div"),g.className=this._cssItemClassName,this._scene.replaceChild(g,m),g.appendChild(m),k--;else if(0===m.children.length)console.log("removed item detected"),this._scene.removeChild(m),k--,l=e.length;else if(1<m.children.length)console.log("multiplied item detected"),g=document.createElement("div"),
g.className=this._cssItemClassName,g.appendChild(m.children[0]),this._scene.insertBefore(g,m),k--,l=e.length;else{(g=m.scrollListCache)||(g=m.scrollListCache={id:r++,enabled:!0,size:0,pos:0});if(!g.size||b)g.enabled||(g.enabled=!0,m.style.opacity="",m.style.display=""),g.size=c(m);g.pos=f;f+=g.size+d}}this._lastEdge=Math.max(f-d,this._worldSize)}function l(){for(var a=f[this._direction],b=this._hash,c=this._scene.children,d=Math.round(this._position),e=d+this._marginLeft,k=d+this._marginRight,l=0,
m=0,P=0,A,G=0,M=1,fa=c.length;M<fa;M++){A=c[M].scrollListCache.pos;if(A<e)l=M,m=A;else if(A>k)break;0<=d-A&&(G=M);P=A}this._first=l;this._last=M;this._offset=this._noJitter?d:d-m;this._current=G;this._hash=(l<c.length?c[l].scrollListCache.id:"none")+":"+m+":"+(M<c.length?c[M].scrollListCache.id:"none")+":"+P;if(b!==this._hash)for(b=f[this._direction],c=this._noJitter,d=0,e=this._scene.children,k=this._first,l=this._last,m=0,P=e.length;m<P;m++)A=e[m],G=A.scrollListCache,m<k||m>=l?(G.enabled&&(G.enabled=
!1,G.tpos=0,A.style.display="none"),c&&(d+=G.size+this.options.gutter)):(G.enabled||(G.enabled=!0,A.style.display="",(M=A.firstChild)&&M.viewController&&M.viewController.layout&&M.viewController.layout()),G.tpos!==d&&(b(A,d),G.tpos=d),d+=G.size+this.options.gutter);a(this._scene,-this._offset);this.options.debug&&(this._debugEl.innerHTML="position: "+this._position+"\n  offset: "+this._offset+"\n current: "+this._current+"\n   first: "+this._first+"\n    last: "+this._last+"\nlastEdge: "+this._lastEdge+
"\n    hash: "+this._hash+"\n margin0: "+this._marginLeft+"\n margin1: "+this._marginRight+"\n  nextId: "+r+"\n");a=this._position+this._edgeRight-this._lastEdge;this._position<this._edgeLeft?(this._edgeHit=-1,this._edgePosition=this._edgeLeft):0<a?(this._edgeHit=1,this._edgePosition=this._lastEdge-this._edgeRight):this._edgeHit=0}var f=[function(a,b){a.style.transform="translate3d("+b+"px, 0px, 0px)"},function(a,b){a.style.transform="translate3d(0px, "+b+"px, 0px)"}],m=[function(a,b){a.style.webkitTransform=
"translate3d("+b+"px, 0px, 0px)"},function(a,b){a.style.webkitTransform="translate3d(0px, "+b+"px, 0px)"}];a.DIRECTION_X=0;a.DIRECTION_Y=1;a.DEFAULT_OPTIONS={direction:a.DIRECTION_X,gutter:0,margin:100,debug:!1,edgeMargin:[0,0]};a.FN_GET_SIZE_FOR_EL=[function(a){return a.offsetWidth},function(a){return a.offsetHeight}];a.prototype={destroy:function(){this._world&&(this.el.removeChild(this._world),this._world=null)},getPosition:function(){return this._position},setPosition:function(a,b){this._position=
a;b&&l.call(this)},limitPosition:function(a){a=Math.min(this._lastEdge-this._edgeRight,a);return a=Math.max(this._edgeLeft,a)},length:function(){return this._scene.children.length},at:function(a){a=c.call(this,a);return null===a?null:a.children[0]},indexOf:function(a){if(a=d.call(this,a))for(var b=this._scene.children,c=0,e=b.length;c<e;c++)if(b[c]===a)return c;return-1},positionOf:function(a){return(a=d.call(this,a))&&a.scrollListCache&&a.scrollListCache.pos},sizeOf:function(a){return(a=d.call(this,
a))&&a.scrollListCache&&a.scrollListCache.size},getCurrentIdx:function(){return this._current},infoOf:function(a){var b=a;"number"===typeof a||"string"===typeof a?a=c.call(this,+a):(a=d.call(this,a),b=this.indexOf(a));if(!a||!a.scrollListCache)return null;var e=a.scrollListCache;return{idx:b,el:a.children[0],position:e.pos,size:e.size,nextPos:e.pos+e.size+this.options.gutter,isLast:b===this._scene.children.length-1}},invalidate:function(a){for(var b=0;b<arguments.length;b++){var c=d.call(this,arguments[b]);
c&&c.scrollListCache&&(c.scrollListCache.size=0)}this._hash="";k.call(this);l.call(this)},recalculateSize:function(){var b=this._worldSize=a.FN_GET_SIZE_FOR_EL[this._direction](this._world);this._marginLeft=-this.options.margin;this._marginRight=this.options.margin+b;this._edgeLeft=this.options.edgeMargin[0];this._edgeRight=b+this.options.edgeMargin[1]},invalidateAll:function(){this._hash="";k.call(this,!0);l.call(this)},on:function(a,b){var c=this;a.split(/\s+/).forEach(function(a){c.el.addEventListener(a,
b,!1)})},off:function(a,b){var c=this;a.split(/\s+/).forEach(function(a){c.el.removeEventListener(a,b,!1)})},children:function(){for(var a=[],b=this._scene.children,c=0,d=b.length;c<d;c++)a.push(b[c].children[0]);return a},splice:function(a,b,c){var f=[],g=this._scene.children,l=2,n=a,m=b;0===arguments.length?(n=0,m=g.length):"number"!==typeof a?l=m=n=0:"number"!==typeof b&&(m=g.length,l=1);0>n&&(n=Math.max(0,n+g.length));var r=null;for(n<=this._current&&(r=this.infoOf(this._current));n<g.length&&
0<m;){m--;var A=g[n];this._scene.removeChild(A);f.push(A.children[0])}for(g=n<g.length?g[n]:null;l<arguments.length;l++)if(n=arguments[l],Array.isArray(n)||n.jquery)for(m=0;m<n.length;m++)e.call(this,n[m],g);else e.call(this,n,g);r&&(k.call(this,!0),(A=d.call(this,r.el))&&A.scrollListCache&&this.setPosition(A.scrollListCache.pos,!0));return f}};var r=0;return a});define("screens",[],function(){var b={};return window.screens=b});
define("util/Util",["jquery"],function(b){var a={"image/jpeg":"image","image/png":"image","image/gif":"image","application/pdf":"pdf","video/quicktime":"video","video/x-m4v":"video","video/mp4":"video","default":""},c=["#212121","#cccccc","#ba3d2d","#8cbc30","#92b8bf"];return{guid:function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"===b?c:c&7|8).toString(16)})},randomId:function(){var a=
Date.now(),b,c="";for(b=0;32>b;b++)c+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.round(a+62*Math.random())%62];return c},assetTypes:function(){return a},annotationColors:function(){return c},scaleSizeToFitSpace:function(a,b){a=a[0]/a[1];b=Math.min(b[1]*a,b[0]);return[b,b/a]},fitRectangle:function(a,b){var c=a.width,d=a.height,e=b.width||b.w||0,m=b.height||b.h||0,r=b.left+e/2;b=b.top+m/2;var g=c/d;c=Math.min(c,e);d=Math.min(c/g,m);c=Math.min(d*g,e);d=c/g;a.width=c;a.height=
d;a.top=b-d/2;a.left=r-c/2;return a},buttonPressedUIHandler:function(a){var c=b(a.currentTarget);a.state===Sistine.STATE_STARTED?c.addClass("active"):c.removeClass("active")},inputOnFocus:function(a){a=b(a.currentTarget);var c=b.trim(a.val());a.data("previous-value")||a.data("previous-value",c)},inputOnBlur:function(a,c){c=b(c.currentTarget);var d=b.trim(c.val()),e=b.trim(c.data("previous-value"));d===e?c.val(e):(c.data("previous-value",d).val(d),b.isFunction(a)&&a(d))},inputOnKeyDown:function(a){var c=
b(a.currentTarget),d=b.trim(c.data("previous-value"));13===a.keyCode?c.blur():27===a.keyCode&&c.val(d||"").blur()},numberBetween:function(a,b,c){return a<c&&b>=a&&b<=c||a>c&&b>=c&&b<=a?!0:!1},pointInRectangle:function(a,b,c,l,f,m){return this.numberBetween(c,a,f)&&this.numberBetween(l,b,m)},getBoundingClientRect:function(a){a&&a.jquery&&(a=a[0]);if(!a)return null;a=a.getBoundingClientRect();return{left:a.left,right:a.right,width:a.width,height:a.height,top:a.top,bottom:a.bottom}},delay:function(a){return new Promise(function(b){setTimeout(b,
a)})},readFile:function(a,b){switch(b||"array"){case "array":var c="readAsArrayBuffer";break;case "binary":c="readAsBinaryString";break;case "url":c="readAsDataRUL";break;case "text":c="readAsText";break;default:throw Error("invalid result type: "+b);}return new Promise(function(b,d){var e=new FileReader;e.onload=function(){b(this)};e.onabort=e.onerror=function(){d(this)};e[c](a)})},readImage:function(a){var b=window.URL?window.URL:window.webkitURL;return new Promise(function(c,d){var e=new Image;
e.onload=function(){b.revokeObjectURL(this.src);c(this)};e.onabort=e.onerror=function(){d(this)};e.src=b.createObjectURL(a)})},dataUrlToBlob:function(a){var b=a.indexOf(","),c=a.substring(b+1);a=a.substring(0,b).split(":")[1].split(";")[0];c=window.atob(c);b=c.length;for(var d=new ArrayBuffer(b),f=new Uint8Array(d),m=0;m<b;m++)f[m]=c.charCodeAt(m);c=new DataView(d);return new Blob([c],{type:a})},hashCode:function(a){var b=0,c;if(0===a.length)return b;var d=0;for(c=a.length;d<c;d++){var f=a.charCodeAt(d);
b=(b<<5)-b+f;b|=0}return b}}});
define("util/ScreensChannel",[],function(){var b=function(){var a=window;do{if(a.ScreensDisplay){this.display=a.ScreensDisplay;break}a=a.parent&&a.parent!==a?a.parent:null}while(a);a||console.warn("[ScreensChannel] ScreensChannel could not find the display window");console.log("[ScreensChannel] ScreensChannel initialized.")};b.prototype={getDisplay:function(){return this.display},getDisplayData:function(){return this.display?this.display.getData().then(function(a){return a.display||{}}):Promise.resolve({})},
getDeviceData:function(){return this.display?this.display.getData().then(function(a){return a.device||{}}):Promise.resolve({})}};return new b});
define("util/ScreensDisplay",["jquery","eventemitter","window.io"],function(b,a,c){var d=function(){this._super.constructor.call(this);if(window.parent!==window){var a=window.top;try{if(a.location.origin===window.location.origin)for(a=window.parent;a!==window.top&&a!==a.parent;){if(a.ScreensFirmware){console.log("[ScreensDisplay] Detected firmware window.");break}a=a.parent}a.ScreensFirmware?console.log("[ScreensDisplay] Firmware is window "+a.location):console.log("The Firmware window was not detected. If we are in a subsequence, we will for now be adding the main sequence instead of the firmware for future proxying")}catch(k){console.log("Error when trying to detect firmware "+
k.message+" We continue assuming the cross origin window is the firmware")}this.wio=new c({window:a})}else console.log("[ScreensDisplay] No parent, firmware not detected. Lazy loading."),this.wio=new c;console.log("[ScreensDisplay] Starting initialization...");if(window.isPlayerWioReady)this._wio_onPlayerReady();else this.wio.on("player-wio-ready",this._wio_onPlayerReady.bind(this));this.wio.on("display-data",this._wio_onDisplayData.bind(this))};d.prototype=Object.create(a.prototype);Object.assign(d.prototype,
{_super:a.prototype,constructor:d},{_wio_onPlayerReady:function(a){this.wio.postMessageToSubWindows("player-wio-ready",a);this.enableNativeVideo=!1;this.wio.on("native-video-enabled",this._wio_onNativeVideoEnabled.bind(this));this.wio.on("video-ended",this._wio_onVideoEnded.bind(this));this.wio.on("no-native-video",this._wio_onNoNativeVideo.bind(this));this.wio.postMessage("check-native-video");console.log("[ScreensDisplay] Check for native video capability.");var c=this;b(window).one("unload",function(){c.wio.off("player-wio-ready");
c.wio.off("display-data");c.wio.off("native-video-enabled");c.wio.off("video-ended");c.wio.off("no-native-video")});console.log("[ScreensDisplay] Initialized.");this.wio.postMessage("display-initialized")},_wio_onDisplayData:function(a){this.wio.postMessageToSubWindows("display-data",a);console.log("[ScreensDisplay] Received display-data",a);this.data=a;this.emit("data",a)},_wio_onVideoEnded:function(a){console.log("[ScreensDisplay] Received video-ended");null!==a&&a.id&&(a=document.getElementById(a.id))&&
b(a).trigger("nativePlayerEnded")},_wio_onNativeVideoEnabled:function(a){console.log("[ScreensDisplay] Received native-video-enabled");this.enableNativeVideo=!0},_wio_onNoNativeVideo:function(a){console.log("[ScreensDisplay] Received no-native-video (interrupted)");if(null!==a&&a.id){var c=document.getElementById(a.id);c&&("video-close-event"===a.message?b(c).trigger("nativePlayerInterrupted"):b(c).trigger("nativePlayerError"))}},_isInDirectPreview:function(){try{return-1===window.top.location.search.indexOf("displayPath\x3d")&&
-1===window.top.location.pathname.indexOf("/screens/player.html/")}catch(e){return!1}},getData:function(){if(!this.wio)return Promise.resolve();if(this._isInDirectPreview())return Promise.reject(Error("channel-preview"));var a=this;return new Promise(function(b,c){var d=setTimeout(function(){c()},1E3);if(a.data)b(a.data),clearTimeout(d);else a.once("data",function(a){b(a);clearTimeout(d)})})},playVideo:function(a){this.wio&&!0===this.enableNativeVideo&&(console.log("[ScreensDisplay] native-video-play: Requesting native full screen video"),
this.wio.postMessage("native-video-play",a))},getWindowIO:function(){return this.wio}});return new d});window.ScreensDisplay=!0;require(["util/ScreensDisplay"],function(b){window.ScreensDisplay=b});
define("views/BaseView",["backbone"],function(b){return b.View.extend({constructor:function(a){this._initOptions(a);b.View.apply(this,arguments)},_initOptions:function(a,b){this.options=Object.assign({},b,this.options,a)},initialize:function(){this._isRendered=!1;this.el.viewController=this},destroy:function(){delete this.el.viewController;this._isRendered=!1;this.remove()},hide:function(){this.$el.hide();return this},show:function(){this.$el.show();return this},setRendered:function(a){try{return this._isRendered}finally{this._isRendered=
a}},isRendered:function(){return this._isRendered},dispatchEvent:function(a,b){var c=document.createEvent("Event");c.initEvent(a,!0,!0);c.detail=b||{};c.data=b||{};c.viewController=this;this.el.dispatchEvent(c)}})});window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};
(function(b){b.analytics={trackStart:function(a){a.analyticsEvent&&this.trackError(a,"Incomplete playback");a.analyticsEvent={};a.analyticsEvent["event.type"]="play";a.analyticsEvent["event.coll_dts"]=this.getCurrentDateTime()},trackLoaded:function(a){a.analyticsEvent=a.analyticsEvent||{};a.analyticsEvent["event.dts_start"]=this.getCurrentDateTime()},trackPlaying:function(a,b,d,e){a.analyticsEvent=a.analyticsEvent||{};a.analyticsEvent["content.type"]=b;a.analyticsEvent["content.action"]=d;a.analyticsEvent["trn.product"]=
e;a.analyticsEvent["trn.amount"]=0},trackEnded:function(a){a.analyticsEvent=a.analyticsEvent||{};var b=new Date;a.analyticsEvent["event.dts_end"]=this.getCurrentDateTime();if(a.analyticsEvent["event.dts_start"]){var d=Date.parse(a.analyticsEvent["event.dts_start"]);a.analyticsEvent["event.count"]=b.getTime()-d;a.analyticsEvent["event.value"]="Started "+(new Date(d)).toString()+" ended "+b.toString()+" Duration "+Math.floor((b.getTime()-d)/1E3)+" seconds";a.analyticsEvent["trn.quantity"]=b-d}a.analyticsEvent["event.subtype"]=
"end";this.sendTrackingEvent(a.analyticsEvent);delete a.analyticsEvent},trackError:function(a,b){a.analyticsEvent=a.analyticsEvent||{};a.analyticsEvent["event.type"]="play";a.analyticsEvent["event.subtype"]="error";a.analyticsEvent["event.error_desc"]=b;this.sendTrackingEvent(a.analyticsEvent);delete a.analyticsEvent},sendTrackingEvent:function(a){if(window.ScreensDisplay&&"function"===typeof window.ScreensDisplay.getWindowIO){var b=window.ScreensDisplay.getWindowIO();b?b.postMessage("analytics-tracking-event",
a):console.error("Analytics event could not be sent as window IO is not available.")}else console.error("Analytics event could not be sent as communication channel to firmware is not available.")},getCurrentDateTime:function(){return(new Date).toISOString()}}})(window.CQ.screens);window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.videoComponent=window.CQ.screens.videoComponent||{};
(function(b){b.createEventListener=function(a){var b=[];return{on:function(c,e){c=Array.isArray(c)?c:[c];c.forEach(function(c){b.push([c,e]);a.addEventListener(c,e,!1)})},activate:function(){b.forEach(function(b){a.addEventListener(b[0],b[1],!1)})},deactivate:function(){b.forEach(function(b){a.removeEventListener(b[0],b[1],!1)})},offAll:function(){b.forEach(function(b){a.removeEventListener(b[0],b[1],!1)});b=[]}}}})(window.CQ.screens.videoComponent);
(function(b){var a="emptied loadedmetadata loadeddata canplay canplaythrough playing ended waiting durationchange timeupdate play pause ratechange volumechange suspend stalled abort progress loadstart seeking seeked error".split(" ");b.createLogAllObserver=function(c){function d(a){k.forEach(function(b){b(a.type,a)})}var e=b.createEventListener(c),k=[];return{activate:function(){e.activate()},deactivate:function(){e.deactivate()},on:function(b){if(0===k.length)e.on(a,d);k.push(b)},offAll:function(){e.offAll();
k.length=0}}}})(window.CQ.screens.videoComponent);
(function(b){b.createErrorObserver=function(a){function c(){clearTimeout(m);m=-1}function d(b){b.videoElement=a;k.deactivate();l.forEach(function(a){a(b)})}function e(){function b(){d(Error("Watchdog catched long-loading Video after 30sec."))}f=!1;k.on("pause",function(){f&&d(Error("Catched Video error during playback of Video."))});k.on("error",function(a){f=!0});k.on("playing",function(){f=!1});k.on(["play","loadstart"],function(){a.networkState===a.NETWORK_NO_SOURCE&&d(Error("Catched Video error that appeared directly as a consequence of calling play()."))});
c();k.on(["stalled","play"],function(){-1===m&&(m=setTimeout(b,3E4))});k.on("timeupdate",c);k.on("playbackStalledEvent",function(a){a.detail?d(Error(a.detail.message)):d(Error("The video did not progress in the check interval"+a.target.currentSrc))})}var k=b.createEventListener(a),l=[],f,m;return{activate:function(){k.activate()},deactivate:function(){f=!1;c();k.deactivate()},on:function(a){0===l.length&&e();l.push(a)},offAll:function(){k.offAll();l.length=0}}}})(window.CQ.screens.videoComponent);
(function(b){b.createEndedObserver=function(a){function c(){d.deactivate();e.forEach(function(a){a()})}var d=b.createEventListener(a),e=[];return{activate:function(){d.activate()},deactivate:function(){d.deactivate()},on:function(a){if(0===e.length)d.on("ended",c);e.push(a)},offAll:function(){d.offAll();e.length=0}}}})(window.CQ.screens.videoComponent);
(function(b){function a(a,b){b=void 0===b?[]:b;var c=a.filter(function(a){return b.find(function(b){return a.src&&a.src.includes(b)})});return 0<c.length?c:a}b.getPlayableSource=function(b,d,e){b=a(b,e);var c;e=0;for(c=b.length;e<c;e++){var l=b[e];if("probably"===d.canPlayType(l.type)){var f=l.src;break}if(!m&&"maybe"===d.canPlayType(l.type))var m=l.src}return f||m||null}})(window.CQ.screens.videoComponent);
(function(b,a){function c(a,c,d){if(a.readyState>a.HAVE_NOTHING)return Promise.resolve(a);d("Loading video...");return new Promise(function(e,k){var f=b.createEventListener(a),g=a.parentNode.getElementsByClassName("cq-Screens-video-thumbnail")[0],l=a.closest(".cq-Sequence-item.cq-Screens-video"),m=function(b){if(!a.offsetParent)return f.offAll(),e(a);var c="";if(b.target.error){switch(b.target.error.code){case MediaError.MEDIA_ERR_ABORTED:c="Playback was aborted possibly by user interaction or content change such as schedule or data trigger.";
break;case MediaError.MEDIA_ERR_NETWORK:c="A network error occurred while fetching the video.";break;case MediaError.MEDIA_ERR_DECODE:c="An error occurred while decoding the video.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:c="The video source could not be loaded or is in a format not understood by the player.";break;default:c="An unknown error occurred."}c=c+": "+b.target.error.code+" "+b.target.error.message;console.error(c)}console.log("Video current time when error occurred: "+b.target.currentTime);
f.offAll();d("Cannot load video...");if(g)return d("Switch to fallback thumbnail..."),a.style.display="none",g.style.display="block",e(g);l&&l.setAttribute("data-item-skip","true");return b.target.networkState===b.target.NETWORK_NO_SOURCE?k(Error("Invalid video url. Cannot load video. "+c)):k(Error("Cannot load video. "+b.type+": "+c))};f.on("canplay",function(){f.offAll();d("Video loaded...");g&&"block"===g.style.display?(d("Switching from fallback thumbnail to video..."),a.style.display="block",
g.style.display="none"):l&&l.setAttribute("data-item-skip","false");e(a)});f.on("error",m);f.on("stalled",m);a.src=c;a.load()})}function d(a,b){console.log(a,b)}b.DEBUG_MODE_OFF=0;b.DEBUG_MODE_PLAYBACK_EVENTS=1;b.DEBUG_MODE_VIDEO_EVENTS=2;b.DEBUG_MODE_ALL_EVENTS=3;b.debugMode=b.DEBUG_MODE_OFF;b.playback={create:function(e,k){var l=function(a){b.debugMode&b.DEBUG_MODE_PLAYBACK_EVENTS&&console.log("[videoComponent] "+a)},f=b.createErrorObserver(e),m=b.createEndedObserver(e),r=b.createLogAllObserver(e);
f.deactivate();m.deactivate();r.deactivate();return{play:function(){var g=this;if(!e.paused&&!e.ended)return Promise.resolve({});f.activate();m.activate();b.debugMode&b.DEBUG_MODE_VIDEO_EVENTS&&(r.activate(),r.on(d));a.trackStart(e);var n=this;return c(e,k,l).then(function(){l("Playing video.");a.trackLoaded(e);var c=b.createEventListener(e);return new Promise(function(b){var d=!0,f=!1;c.on("playing",function(){a.trackPlaying(e,"VIDEO",n.getRenditionURL(),n.getComponentURL());c.offAll();b({sync:d,
mutedFallback:f})});-1===parseInt(e.parentNode.dataset?e.parentNode.dataset.duration:-1,10)&&(n.currentTime=-1,n.stallCheckTimer=setInterval(function(){if(e.offsetParent)if(e.currentTime>n.currentTime)n.currentTime=e.currentTime;else{var a="The video did not progress in the check interval "+e.currentSrc;console.warn(a);a=new CustomEvent("playbackStalledEvent",{bubbles:!0,cancelable:!0,detail:{message:a}});e.dispatchEvent(a)}else clearInterval(n.stallCheckTimer)},3E3));var g=e.play();g&&(d=!1,g.catch(function(){l("Playing video muted.");
f=!0;e.muted=!0;e.play()}))})}).catch(function(a){return g.destroyed?Promise.resolve():Promise.reject(a)})},getRenditionURL:function(){return e.currentSrc?(new URL(e.currentSrc)).pathname:""},getComponentURL:function(){var a=this.getRenditionURL();if(a&&"string"===typeof a)try{return a.replace(/\/(_jcr_|jcr:)content\/renditions\/.*/,"")}catch(n){}return a},setControls:function(a){e.controls=a},pause:function(){e.readyState>e.HAVE_NOTHING&&!e.paused&&!e.ended&&(l("Pausing video."),f.deactivate(),m.deactivate(),
e.pause());return Promise.resolve()},reset:function(){e.readyState>e.HAVE_NOTHING&&0<e.currentTime&&(e.currentTime=0);return Promise.resolve()},unload:function(){this.offAll();e.pause();e.src="";e.load();return Promise.resolve()},load:function(){return c(e,k,l)},offAll:function(){this.destroyed=!0;f.offAll();m.offAll();r.offAll();self.stallCheckTimer&&(clearInterval(self.stallCheckTimer),delete self.stallCheckTimer)},onError:function(b){var c=this;f.on(function(d){l("Video error..."+d.message);m.deactivate();
c.stallCheckTimer&&(clearInterval(c.stallCheckTimer),delete c.stallCheckTimer);a.trackError(e,d.message);b(d)})},onEnded:function(b){var c=this;m.on(function(){l("Ending video.");f.deactivate();c.stallCheckTimer&&(clearInterval(c.stallCheckTimer),delete c.stallCheckTimer);a.trackEnded(e);b()})}}}}})(window.CQ.screens.videoComponent,window.CQ.screens.analytics);
(function(b,a,c,d){function e(a){var b=a.querySelector(".campaign");a=a.getElementsByTagName("video")[0];return b?b.id:a.id}function k(a){if(!a.sync&&a.mutedFallback)if(b.Granite&&b.Granite.author){if(b.top.Granite&&b.top.Granite.I18n&&b.top.Granite.author&&b.top.Granite.author.ui){a=b.top.Granite.I18n.get("Video");var c=b.top.Granite.I18n.get("Autoplay muted because of browser policies. Use controls to unmute.");b.top.Granite.author.ui.helpers.notify({type:"warning",heading:a,content:c})}console.warn("Browser autoplay policies may be preventing normal video playback. Switching to muted mode. Use video controls to unmute. See: https://developers.google.com/web/updates/2017/09/autoplay-policy-changes for more information.");
this.setControls(!0)}else console.error("Browser autoplay policies may be preventing normal video playback. Switching to muted mode.")}var l=function(a){var f=c(".cq-Sequence-item.cq-Screens-video");c(".cq-Sequence-item.target .cq-Screens-video").each(function(a,b){f=f.add(c(b).closest(".cq-Sequence-item.target"))});var g={};f.each(function(b,f){var k=c(f);b=f.getElementsByTagName("video")[0];var l=f.getElementsByClassName("cq-Screens-video-thumbnail")[0];if(b||!l)b?(l=Array.prototype.slice.call(b.getElementsByTagName("source")),
b.src||0!==l.length?(k=d.getPlayableSource(l,b,a)||b.src,f=e(f),g[f]=d.playback.create(b,k),g[f].unload()):k.attr("data-item-skip","true")):k.attr("data-item-skip","true")});f.on("sequence-element-load",function(a){var b=a.target.getElementsByTagName("video")[0],c=a.target.getElementsByClassName("cq-Screens-video-thumbnail")[0];b||c?!b&&c||g[e(a.target)].load():console.log("No video found to load.",a.target)});f.on("sequence-element-show",function(a,d,f){function l(){x.off("nativePlayerInterrupted");
x.off("nativePlayerError");f()}function n(){x.off("nativePlayerInterrupted");x.off("nativePlayerEnded");f()}function m(){x.off("nativePlayerEnded");x.off("nativePlayerError");x.show();A.onError(f);A.play().then(k.bind(A))}d=a.target.getElementsByTagName("video")[0];var r=a.target.getElementsByClassName("cq-Screens-video-thumbnail")[0];if(!d&&!r)console.log("No video found to play below event target.",a.target);else if(d||!r){var x=c(d),A=g[e(a.target)];c("\x3ci\x3e\x3c/i\x3e").appendTo(x).remove();
b.ScreensDisplay&&!0===b.ScreensDisplay.enableNativeVideo?(a={},(d=d.getElementsByTagName("source")[0])?(a.id=x.prop("id"),a.URL=c(d).prop("src"),a.mimeType=c(d).prop("type"),x.hide(),console.log("Playing Native video"),x.one("nativePlayerEnded",l),x.one("nativePlayerError",n),x.one("nativePlayerInterrupted",m),b.ScreensDisplay.playVideo(a)):"function"===typeof f&&f()):f?(A.onError(f),A.play().then(k.bind(A)).catch(f)):A.play().then(k.bind(A))}});f.on("sequence-element-stop",function(a){var b=a.target.getElementsByTagName("video")[0],
c=a.target.getElementsByClassName("cq-Screens-video-thumbnail")[0];if(b||!c)a=g[e(a.target)],a.offAll(),a.pause()});f.on("sequence-element-hide",function(a){var b=c(a.target),d=a.target.getElementsByTagName("video")[0];!d||b.attr("data-item-skip")&&"false"!==b.attr("data-item-skip")||(g[e(a.target)].unload(),g[d]&&g[d].unload())});f.on("sequence-element-delegate-transition",function(a,d){var f=c(a.target),k=a.target.getElementsByTagName("video")[0],l=a.target.closest(".cq-Sequence");if("true"===f.attr("data-item-skip"))d();
else if(k)g[e(a.target)].onEnded(d);else b.setTimeout(d,(l?Number(l.dataset.duration):null)||8E3)});f.each(function(a,b){b.dataset.itemSkip=!1});if(b.ContextHub&&b.ScreensPlayer&&b.ScreensPlayer.ContextHubHelper)try{b.ScreensPlayer.ContextHubHelper.createTargetedComponent(".cq-Screens-video",b.ContextHub).onUpdate(function(a,b){if(b=b.querySelector("video")){g[a]&&g[a].unload();var c=Array.prototype.slice.call(b.getElementsByTagName("source"));c=d.getPlayableSource(c,b)||b.src;g[a]=d.playback.create(b,
c)}}).activate()}catch(n){console.error("Failed to enable ContextHub on sequence elements",n.message)}},f=function(a){c(".responsivegrid .cq-Screens-video.video:not(.cq-Sequence-item)").each(function(b,c){b=c.getElementsByTagName("video")[0];c=Array.prototype.slice.call(b.getElementsByTagName("source"));if(b.src||0!==c.length)c=d.getPlayableSource(c,b,a)||b.src,d.playback.create(b,c).play()})};b.require&&require(["util/ScreensDisplay"],function(b){function c(){[].concat($jscomp.arrayFromIterable(a.querySelectorAll(".cq-Sequence-item.cq-Screens-video"))).forEach(function(a){a.dataset.itemSkip=
"true"});b.getData().then(function(a){a=a.display.renditionPatterns;l(a);f(a)}).catch(function(a){console.warn("Cannot get rendition patterns. Channel preview?",a);a=[];l(a);f(a)})}"loading"===a.readyState?a.addEventListener("DOMContentLoaded",c):c()})})(window,document,window.jQuery,window.CQ.screens.videoComponent);window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.imageComponent=window.CQ.screens.imageComponent||{};
(function(b,a,c,d,e){function k(c){"complete"===a.readyState?d.initImagesInsideSequence(c):b.addEventListener("DOMContentLoaded",function(){d.initImagesInsideSequence(c)})}d.getImageElement=function(a){return(a.querySelector(".campaign .cq-Screens-image")||a).getElementsByTagName("div")[0]};d.skipItemIfNotAvailable=function(a,c){return b.fetch(a,{method:"HEAD"}).then(function(a){c.dataset.itemSkip=a.ok?!1:!0}).catch(function(){c.dataset.itemSkip=!0})};d.initImagesInsideSequence=function(a){var b=
c(".cq-Sequence-item.image");c(".cq-Sequence-item.target .cq-Screens-image").each(function(a,d){b=b.add(c(d).closest(".cq-Sequence-item.target"))});b.each(function(b,c){if(b=d.getImageElement(this)){if(b.style&&b.style.backgroundImage&&b.dataset.renditions&&0<b.dataset.renditions.length&&0<a.length){var e=b.dataset.renditions.split(",").find(function(b){return a.find(function(a){return b.includes(a)})});e&&(b.style.backgroundImage="url('"+e+"')")}b=d.getImageURL(b);d.skipItemIfNotAvailable(b,c)}});
b.on("sequence-element-show",function(a,b,c){b=d.getImageElement(a.target);e.trackStart(b);!1===a.target.dataset.itemSkip?e.trackError(b,"Image not loaded"):(e.trackLoaded(b),a=d.getImageURL(b),c=a.replace(/\/(_jcr_|jcr:)content\/renditions\/.*/,""),e.trackPlaying(b,"IMAGE",a,c))});b.on("sequence-element-hide",function(a){a=d.getImageElement(a.target);e.trackEnded(a)})};d.getImageURL=function(a){var b="";if(a.style&&a.style.backgroundImage){b=a.style.backgroundImage;a=b.indexOf("(")+1;var c=-1!==
b.indexOf("?")?b.indexOf("?"):b.indexOf(")");b=b.slice(a,c).replace(/['"]/g,"");-1!==b.indexOf("://")&&(b=(new URL(b)).pathname)}else if(a=a.getElementsByTagName("img"),1===a.length&&a[0].src)try{b=(new URL(a[0].src)).pathname}catch(r){b=a[0].src}return b};b.require?require(["util/ScreensDisplay"],function(a){a.getData().then(function(a){return k(a.display.renditionPatterns)}).catch(function(a){console.warn("Cannot get rendition patterns. Channel preview?",a);k([])})}):k([])})(window,document,window.jQuery,
window.CQ.screens.imageComponent,window.CQ.screens.analytics);
(function(b){var a=0;require(["util/ScreensDisplay","window.io"],function(c,d){function e(b){k.addWindow(d.SUB_WINDOWS_PREFIX+ ++a,b.contentWindow)}if(b.querySelector(".cq-Screens-channel--multizone")){var k=c.getWindowIO();k.on("channel-status-ready",function(a,b){k.postMessage("channel-show",{context:"multizone"},b)});window.addEventListener("load",function(){var a=b.querySelectorAll(".parbase iframe");Array.prototype.forEach.call(a,e);k.postMessage("channel-status-ready");k.postMessage("channel-show",
{context:"multizone"})})}})})(document);window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.textOverlayComponent=window.CQ.screens.textOverlayComponent||{};
(function(b,a,c,d){function e(c){var e=a.querySelector(".cq-Sequence");a.querySelectorAll(".cq-Screens-textOverlay").forEach(function(a){d.safeUpdate(a,c,e,d.isVisible(a),b.ContextHub)})}d.isVisible=function(a){return!!(a.offsetWidth||a.offsetHeight||a.getClientRects().length)};d.updateContent=function(a,b){a._textOverlayTemplate||(a._textOverlayTemplate=a.innerHTML);try{var c=JSON.parse(a.dataset.contexthubDatabinding)}catch(y){c={}}var d=Object.keys(c);for(var e=a._textOverlayTemplate,g=0;g<d.length;g++){var k=
c[d[g]],l=b.getItem(d[g])||k.defaultValue||"";l=String(l).replace("\x3c","\x26lt;").replace("\x3e","\x26gt;");e=e.replace(new RegExp("{"+k.placeholder+"}","g"),l)}a.innerHTML=e};d.listenForContextHubChanges=function(a,b){b.eventing.on(b.Constants.EVENT_DATA_UPDATE,a,"textOverlayUpdateHandler")};d.safeUpdate=function(a,b,e,m,r){var f=Promise.resolve();b&&"DOMContentLoaded"===b.type||!e||!m||(f=new Promise(function(a){c(e).one("sequence-element-hide",function(){a()})}));return f.then(function(){d.updateContent(a,
r)})};a.addEventListener("DOMContentLoaded",function(a){b.ContextHub&&b.ContextHub.version&&(e(a),d.listenForContextHubChanges(e,b.ContextHub))})})(window,document,window.jQuery,window.CQ.screens.textOverlayComponent);
(function(b,a,c){function d(a,b,d,e,g){var f=function(){a.postMessage(d,e||{},b.dataset.wioId)};g||b.dataset.subSequenceIsInitialized?f.call():(g=c(b).data("beforeSubSequenceInitialized")||[],g.push(f),c(b).data("beforeSubSequenceInitialized",g))}function e(a,b){var e=function(f,g){if(g===b.dataset.wioId){a.removeListener("sequence-state-initialized",e);f&&0===f.items&&(b.closest(".cq-Screens-subsequence").dataset.itemSkip=!0);(f=b.closest(".cq-Screens-subsequence").querySelector("[data-strategy]"))&&
d(a,b,"sequence-set-strategy",{strategy:f.dataset.strategy},!0);b.dataset.subSequenceIsInitialized=!0;f=c(b).data("beforeSubSequenceInitialized")||[];for(g=0;g<f.length;g++)f[g].call();c(b).data("beforeSubSequenceInitialized",null)}};a.on("sequence-state-initialized",e);a.postMessage("parent-ready",{},b.dataset.wioId)}var k=function(a,f){f.each(function(b,d){(b=d.querySelector("iframe"))?(b.dataset.wioId="subsequence-"+Math.random().toString(16).substring(3,15),a.addWindow(b.dataset.wioId,b.contentWindow),
e(a,b),b.src&&c.ajax(b.src,{type:"HEAD",error:function(){d.dataset.itemSkip=!0}})):d.dataset.itemSkip=!0});f.on("sequence-element-show",function(e,f){var g=c(e.target);e=g.find("iframe").get(0);g=g.closest(".cq-Sequence").data("screens-sequence");var k=parseInt(e.dataset.duration,10);e&&!e.parentNode.dataset.itemSkip?d(a,e,"sequence-start",{duration:k,loopCount:f,isControlled:!0}):b.setTimeout(g.next.bind(g),10)});f.on("sequence-element-hide",function(b){(b=c(b.target).find("iframe").get(0))&&!b.parentNode.dataset.itemSkip&&
d(a,b,"sequence-stop")});var k;f.on("sequence-element-delegate-transition",function(b,d){var e=c(b.target).find("iframe").get(0),f=function(b,c){c===e.dataset.wioId&&(a.removeListener("sequence-state-cycle-complete",f),d())};a.on("sequence-state-cycle-complete",f);k=f});if(b.ContextHub&&b.ScreensPlayer&&b.ScreensPlayer.ContextHubHelper)try{var l={};b.ScreensPlayer.ContextHubHelper.createTargetedComponent(".cq-Screens-subsequence",b.ContextHub).onInit(function(a,b){b=b.querySelector("iframe");l[a]=
b.dataset.wioId}).onUpdate(function(b,c){c=c.querySelector("iframe");a.removeWindow(l[b]);c.dataset.wioId=l[b];a.addWindow(l[b],c.contentWindow);e(a,c);a.postMessage("sequence-state-initialized",{},l[b])}).onUpdateVisible(function(b,c){a.removeListener("sequence-state-cycle-complete",k)}).activate()}catch(g){console.error("Failed to enable ContextHub on sequence elements",g.message)}};require(["util/ScreensDisplay","window.io"],function(b,d){function e(){var a=c(".cq-Sequence-item.cq-Screens-subsequence");
c(".cq-Sequence-item.target .cq-Screens-subsequence").each(function(b,d){a=a.add(c(d).closest(".cq-Sequence-item.target"))});if(0<a.length){var e=b.getWindowIO()||new d;k(e,a)}}"loading"===a.readyState?a.addEventListener("DOMContentLoaded",e):e()})})(window,document,window.jQuery);
(function(b,a,c){function d(a){a.dataset.itemSkip=!0}var e=function(a,c,e){var f=a.querySelector("[data-role]").dataset.role,g=c.channels.find(function(a){return a.role===f});if(g){var k=g.path;-1!==e.targetWindows.single.parent.location.href.indexOf("wcmmode\x3ddisabled")&&(k+=".html?wcmmode\x3ddisabled");b.fetch(k,{method:"HEAD"}).then(function(b){if(b.ok){var f=a.querySelector("iframe");f.onload=function(){e.postMessage("display-data",c,f.dataset.wioId)};f.src=k;a.dataset.itemSkip=!1}else d(a)}).catch(function(){a.dataset.itemSkip=
!0})}},k=function(a,b,c){a.forEach(function(a){return e(a,b,c)})};require(["util/ScreensDisplay"],function(b){function c(){var c=[].concat($jscomp.arrayFromIterable(a.querySelectorAll(".cq-Screens-subsequence--dynamic")));c.length&&(c.forEach(d),b.getData().then(function(a){return k(c,a,b.getWindowIO())}).catch(function(){return c.forEach(d)}))}"loading"===a.readyState?a.addEventListener("DOMContentLoaded",c):c()})})(window,document,window.jQuery,window.CQ.screens.videoComponent);
"object"===typeof module?ICAL=module.exports:"object"!==typeof ICAL&&(this.ICAL={});ICAL.foldLength=75;ICAL.newLineChar="\r\n";
ICAL.helpers={updateTimezones:function(b){var a;if(!b||"vcalendar"!==b.name)return b;var c=b.getAllSubcomponents();var d=[];var e={};for(a=0;a<c.length;a++)if("vtimezone"===c[a].name){var k=c[a].getFirstProperty("tzid").getFirstValue();e[k]=c[a]}else d=d.concat(c[a].getAllProperties());c={};for(a=0;a<d.length;a++)if(k=d[a].getParameter("tzid"))c[k]=!0;for(a in e)e.hasOwnProperty(a)&&!c[a]&&b.removeSubcomponent(e[a]);for(a in c)c.hasOwnProperty(a)&&!e[a]&&ICAL.TimezoneService.has(a)&&b.addSubcomponent(ICAL.TimezoneService.get(a).component);
return b},isStrictlyNaN:function(b){return"number"===typeof b&&isNaN(b)},strictParseInt:function(b){var a=parseInt(b,10);if(ICAL.helpers.isStrictlyNaN(a))throw Error('Could not extract integer from "'+b+'"');return a},formatClassType:function(b,a){if("undefined"!==typeof b)return b instanceof a?b:new a(b)},unescapedIndexOf:function(b,a,c){for(;-1!==(c=b.indexOf(a,c));)if(0<c&&"\\"===b[c-1])c+=1;else return c;return-1},binsearchInsert:function(b,a,c){if(!b.length)return 0;for(var d=0,e=b.length-1,
k,l;d<=e;)if(k=d+Math.floor((e-d)/2),l=c(a,b[k]),0>l)e=k-1;else if(0<l)d=k+1;else break;return 0>l?k:0<l?k+1:k},dumpn:function(b){ICAL.debug&&(ICAL.helpers.dumpn="undefined"!==typeof console&&"log"in console?function(a){console.log(a)}:function(a){dump(a+"\n")},ICAL.helpers.dumpn(b))},clone:function(b,a){if(b&&"object"==typeof b){if(b instanceof Date)return new Date(b.getTime());if("clone"in b)return b.clone();if(Array.isArray(b)){for(var c=[],d=0;d<b.length;d++)c.push(a?ICAL.helpers.clone(b[d],!0):
b[d]);return c}c={};for(d in b)Object.prototype.hasOwnProperty.call(b,d)&&(c[d]=a?ICAL.helpers.clone(b[d],!0):b[d]);return c}return b},foldline:function(b){var a="";for(b=b||"";b.length;)a+=ICAL.newLineChar+" "+b.substr(0,ICAL.foldLength),b=b.substr(ICAL.foldLength);return a.substr(ICAL.newLineChar.length+1)},pad2:function(b){"string"!==typeof b&&("number"===typeof b&&(b=parseInt(b)),b=String(b));switch(b.length){case 0:return"00";case 1:return"0"+b;default:return b}},trunc:function(b){return 0>b?
Math.ceil(b):Math.floor(b)},inherits:function(b,a,c){function d(){}d.prototype=b.prototype;a.prototype=new d;c&&ICAL.helpers.extend(c,a.prototype)},extend:function(b,a){for(var c in b){var d=Object.getOwnPropertyDescriptor(b,c);d&&!Object.getOwnPropertyDescriptor(a,c)&&Object.defineProperty(a,c,d)}return a}};
ICAL.design=function(){function b(b,c){return{matches:/.*/,fromICAL:function(c,d){var e=b;-1!==c.indexOf("\\")&&(d&&(e=new RegExp(e.source+"|\\\\"+d)),c=c.replace(e,a));return c},toICAL:function(a,b){var d=c;b&&(d=new RegExp(d.source+"|"+b));return a.replace(d,function(a){switch(a){case "\\":return"\\\\";case ";":return"\\;";case ",":return"\\,";case "\n":return"\\n";default:return a}})}}}function a(a){switch(a){case "\\\\":return"\\";case "\\;":return";";case "\\,":return",";case "\\n":case "\\N":return"\n";
default:return a}}var c=/\\\\|\\,|\\[Nn]/g,d=/\\|,|\n/g,e={defaultType:"text"},k={defaultType:"text",multiValue:","},l={defaultType:"text",structuredValue:";"},f={defaultType:"integer"},m={defaultType:"date-time",allowedTypes:["date-time","date"]},r={defaultType:"date-time"},g={defaultType:"uri"},n={defaultType:"utc-offset"},x={defaultType:"recur"},y={defaultType:"date-and-or-time",allowedTypes:["date-time","date","text"]},D={categories:k,url:g,version:e,uid:e},w={"boolean":{values:["TRUE","FALSE"],
fromICAL:function(a){switch(a){case "TRUE":return!0;case "FALSE":return!1;default:return!1}},toICAL:function(a){return a?"TRUE":"FALSE"}},float:{matches:/^[+-]?\d+\.\d+$/,fromICAL:function(a){a=parseFloat(a);return ICAL.helpers.isStrictlyNaN(a)?0:a},toICAL:function(a){return String(a)}},integer:{fromICAL:function(a){a=parseInt(a);return ICAL.helpers.isStrictlyNaN(a)?0:a},toICAL:function(a){return String(a)}},"utc-offset":{toICAL:function(a){return 7>a.length?a.substr(0,3)+a.substr(4,2):a.substr(0,
3)+a.substr(4,2)+a.substr(7,2)},fromICAL:function(a){return 6>a.length?a.substr(0,3)+":"+a.substr(3,2):a.substr(0,3)+":"+a.substr(3,2)+":"+a.substr(5,2)},decorate:function(a){return ICAL.UtcOffset.fromString(a)},undecorate:function(a){return a.toString()}}},B=ICAL.helpers.extend(w,{text:b(/\\\\|\\;|\\,|\\[Nn]/g,/\\|;|,|\n/g),uri:{},binary:{decorate:function(a){return ICAL.Binary.fromString(a)},undecorate:function(a){return a.toString()}},"cal-address":{},date:{decorate:function(a,b){return ICAL.Time.fromDateString(a,
b)},undecorate:function(a){return a.toString()},fromICAL:function(a){return a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2)},toICAL:function(a){return 11<a.length?a:a.substr(0,4)+a.substr(5,2)+a.substr(8,2)}},"date-time":{fromICAL:function(a){var b=a.substr(0,4)+"-"+a.substr(4,2)+"-"+a.substr(6,2)+"T"+a.substr(9,2)+":"+a.substr(11,2)+":"+a.substr(13,2);a[15]&&"Z"===a[15]&&(b+="Z");return b},toICAL:function(a){if(19>a.length)return a;var b=a.substr(0,4)+a.substr(5,2)+a.substr(8,5)+a.substr(14,2)+
a.substr(17,2);a[19]&&"Z"===a[19]&&(b+="Z");return b},decorate:function(a,b){return ICAL.Time.fromDateTimeString(a,b)},undecorate:function(a){return a.toString()}},duration:{decorate:function(a){return ICAL.Duration.fromString(a)},undecorate:function(a){return a.toString()}},period:{fromICAL:function(a){a=a.split("/");a[0]=B["date-time"].fromICAL(a[0]);ICAL.Duration.isValueString(a[1])||(a[1]=B["date-time"].fromICAL(a[1]));return a},toICAL:function(a){a[0]=B["date-time"].toICAL(a[0]);ICAL.Duration.isValueString(a[1])||
(a[1]=B["date-time"].toICAL(a[1]));return a.join("/")},decorate:function(a,b){return ICAL.Period.fromJSON(a,b)},undecorate:function(a){return a.toJSON()}},recur:{fromICAL:function(a){return ICAL.Recur._stringToData(a,!0)},toICAL:function(a){var b="",c;for(c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=a[c];"until"==c?d=10<d.length?B["date-time"].toICAL(d):B.date.toICAL(d):"wkst"==c?"number"===typeof d&&(d=ICAL.Recur.numericDayToIcalDay(d)):Array.isArray(d)&&(d=d.join(","));b+=c.toUpperCase()+
"\x3d"+d+";"}return b.substr(0,b.length-1)},decorate:function(a){return ICAL.Recur.fromData(a)},undecorate:function(a){return a.toJSON()}},time:{fromICAL:function(a){if(6>a.length)return a;var b=a.substr(0,2)+":"+a.substr(2,2)+":"+a.substr(4,2);"Z"===a[6]&&(b+="Z");return b},toICAL:function(a){if(8>a.length)return a;var b=a.substr(0,2)+a.substr(3,2)+a.substr(6,2);"Z"===a[8]&&(b+="Z");return b}}});f=ICAL.helpers.extend(D,{action:e,attach:{defaultType:"uri"},attendee:{defaultType:"cal-address"},calscale:e,
"class":e,comment:e,completed:r,contact:e,created:r,description:e,dtend:m,dtstamp:r,dtstart:m,due:m,duration:{defaultType:"duration"},exdate:{defaultType:"date-time",allowedTypes:["date-time","date"],multiValue:","},exrule:x,freebusy:{defaultType:"period",multiValue:","},geo:{defaultType:"float",structuredValue:";"},"last-modified":r,location:e,method:e,organizer:{defaultType:"cal-address"},"percent-complete":f,priority:f,prodid:e,"related-to":e,repeat:f,rdate:{defaultType:"date-time",allowedTypes:["date-time",
"date","period"],multiValue:",",detectType:function(a){return-1!==a.indexOf("/")?"period":-1===a.indexOf("T")?"date":"date-time"}},"recurrence-id":m,resources:k,"request-status":l,rrule:x,sequence:f,status:e,summary:e,transp:e,trigger:{defaultType:"duration",allowedTypes:["duration","date-time"]},tzoffsetfrom:n,tzoffsetto:n,tzurl:g,tzid:e,tzname:e});var F=ICAL.helpers.extend(w,{text:b(c,d),uri:b(c,d),date:{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString(a,"date")},undecorate:function(a){return a.toString()},
fromICAL:function(a){return 8==a.length?B.date.fromICAL(a):"-"==a[0]&&6==a.length?a.substr(0,4)+"-"+a.substr(4):a},toICAL:function(a){return 10==a.length?B.date.toICAL(a):"-"==a[0]&&7==a.length?a.substr(0,4)+a.substr(5):a}},time:{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString("T"+a,"time")},undecorate:function(a){return a.toString()},fromICAL:function(a){var b=F.time._splitZone(a,!0);a=b[0];b=b[1];6==b.length?b=b.substr(0,2)+":"+b.substr(2,2)+":"+b.substr(4,2):4==b.length&&"-"!=
b[0]?b=b.substr(0,2)+":"+b.substr(2,2):5==b.length&&(b=b.substr(0,3)+":"+b.substr(3,2));5!=a.length||"-"!=a[0]&&"+"!=a[0]||(a=a.substr(0,3)+":"+a.substr(3));return b+a},toICAL:function(a){var b=F.time._splitZone(a);a=b[0];b=b[1];8==b.length?b=b.substr(0,2)+b.substr(3,2)+b.substr(6,2):5==b.length&&"-"!=b[0]?b=b.substr(0,2)+b.substr(3,2):6==b.length&&(b=b.substr(0,3)+b.substr(4,2));6!=a.length||"-"!=a[0]&&"+"!=a[0]||(a=a.substr(0,3)+a.substr(4));return b+a},_splitZone:function(a,b){var c=a.length-1;
b=a.length-(b?5:6);var d=a[b];"Z"==a[c]?(d=a[c],a=a.substr(0,c)):6<a.length&&("-"==d||"+"==d)?(d=a.substr(b),a=a.substr(0,b)):d="";return[d,a]}},"date-time":{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString(a,"date-time")},undecorate:function(a){return a.toString()},fromICAL:function(a){return F["date-and-or-time"].fromICAL(a)},toICAL:function(a){return F["date-and-or-time"].toICAL(a)}},"date-and-or-time":{decorate:function(a){return ICAL.VCardTime.fromDateAndOrTimeString(a,"date-and-or-time")},
undecorate:function(a){return a.toString()},fromICAL:function(a){a=a.split("T");return(a[0]?F.date.fromICAL(a[0]):"")+(a[1]?"T"+F.time.fromICAL(a[1]):"")},toICAL:function(a){a=a.split("T");return F.date.toICAL(a[0])+(a[1]?"T"+F.time.toICAL(a[1]):"")}},timestamp:B["date-time"],"language-tag":{matches:/^[a-zA-Z0-9-]+$/}});c=ICAL.helpers.extend(D,{adr:{defaultType:"text",structuredValue:";",multiValue:","},anniversary:y,bday:y,caladruri:g,caluri:g,clientpidmap:l,email:e,fburl:g,fn:e,gender:l,geo:g,impp:g,
key:g,kind:e,lang:{defaultType:"language-tag"},logo:g,member:g,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:k,note:e,org:{defaultType:"text",structuredValue:";"},photo:g,related:g,rev:{defaultType:"timestamp"},role:e,sound:g,source:g,tel:{defaultType:"uri",allowedTypes:["uri","text"]},title:e,tz:{defaultType:"text",allowedTypes:["text","utc-offset","uri"]},xml:e});w=ICAL.helpers.extend(w,{binary:B.binary,date:F.date,"date-time":F["date-time"],"phone-number":{},uri:B.uri,text:B.text,
time:B.time,vcard:B.text,"utc-offset":{toICAL:function(a){return a.substr(0,7)},fromICAL:function(a){return a.substr(0,7)},decorate:function(a){return ICAL.UtcOffset.fromString(a)},undecorate:function(a){return a.toString()}}});e=ICAL.helpers.extend(D,{fn:e,n:{defaultType:"text",structuredValue:";",multiValue:","},nickname:k,photo:{defaultType:"binary",allowedTypes:["binary","uri"]},bday:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(a){return-1===a.indexOf("T")?"date":
"date-time"}},adr:{defaultType:"text",structuredValue:";",multiValue:","},label:e,tel:{defaultType:"phone-number"},email:e,mailer:e,tz:{defaultType:"utc-offset",allowedTypes:["utc-offset","text"]},geo:{defaultType:"float",structuredValue:";"},title:e,role:e,logo:{defaultType:"binary",allowedTypes:["binary","uri"]},agent:{defaultType:"vcard",allowedTypes:["vcard","text","uri"]},org:l,note:k,prodid:e,rev:{defaultType:"date-time",allowedTypes:["date-time","date"],detectType:function(a){return-1===a.indexOf("T")?
"date":"date-time"}},"sort-string":e,sound:{defaultType:"binary",allowedTypes:["binary","uri"]},class:e,key:{defaultType:"binary",allowedTypes:["binary","text"]}});k={value:B,param:{cutype:{values:["INDIVIDUAL","GROUP","RESOURCE","ROOM","UNKNOWN"],allowXName:!0,allowIanaToken:!0},"delegated-from":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},"delegated-to":{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},encoding:{values:["8BIT","BASE64"]},fbtype:{values:["FREE",
"BUSY","BUSY-UNAVAILABLE","BUSY-TENTATIVE"],allowXName:!0,allowIanaToken:!0},member:{valueType:"cal-address",multiValue:",",multiValueSeparateDQuote:!0},partstat:{values:"NEEDS-ACTION ACCEPTED DECLINED TENTATIVE DELEGATED COMPLETED IN-PROCESS".split(" "),allowXName:!0,allowIanaToken:!0},range:{values:["THISLANDFUTURE"]},related:{values:["START","END"]},reltype:{values:["PARENT","CHILD","SIBLING"],allowXName:!0,allowIanaToken:!0},role:{values:["REQ-PARTICIPANT","CHAIR","OPT-PARTICIPANT","NON-PARTICIPANT"],
allowXName:!0,allowIanaToken:!0},rsvp:{values:["TRUE","FALSE"]},"sent-by":{valueType:"cal-address"},tzid:{matches:/^\//},value:{values:"binary boolean cal-address date date-time duration float integer period recur text time uri utc-offset".split(" "),allowXName:!0,allowIanaToken:!0}},property:f};l={value:F,param:{type:{valueType:"text",multiValue:","},value:{values:"text uri date time date-time date-and-or-time timestamp boolean integer float utc-offset language-tag".split(" "),allowXName:!0,allowIanaToken:!0}},
property:c};e={value:w,param:{type:{valueType:"text",multiValue:","},value:{values:"text uri date date-time phone-number time boolean integer float utc-offset vcard binary".split(" "),allowXName:!0,allowIanaToken:!0}},property:e};var P={defaultSet:k,defaultType:"unknown",components:{vcard:l,vcard3:e,vevent:k,vtodo:k,vjournal:k,valarm:k,vtimezone:k,daylight:k,standard:k},icalendar:k,vcard:l,vcard3:e,getDesignSet:function(a){return a&&a in P.components?P.components[a]:P.defaultSet}};return P}();
ICAL.stringify=function(){function b(a){"string"==typeof a[0]&&(a=[a]);for(var c=0,d=a.length,e="";c<d;c++)e+=b.component(a[c])+"\r\n";return e}var a=ICAL.design,c=ICAL.helpers;b.component=function(c,d){var e=c[0].toUpperCase(),f="BEGIN:"+e+"\r\n",k=c[1],r=0,g=k.length,n=c[0];"vcard"===n&&0<c[1].length&&("version"!==c[1][0][0]||"4.0"!==c[1][0][3])&&(n="vcard3");for(d=d||a.getDesignSet(n);r<g;r++)f+=b.property(k[r],d)+"\r\n";c=c[2]||[];k=0;for(r=c.length;k<r;k++)f+=b.component(c[k],d)+"\r\n";return f+
("END:"+e)};b.property=function(c,d,l){var e=c[0].toUpperCase(),k=c[0],r=c[1],g;for(g in r){var n=r[g];if(r.hasOwnProperty(g)){var x=g in d.param&&d.param[g].multiValue;x&&Array.isArray(n)?(d.param[g].multiValueSeparateDQuote&&(x='"'+x+'"'),n=n.map(b._rfc6868Unescape),n=b.multiValue(n,x,"unknown",null,d)):n=b._rfc6868Unescape(n);e+=";"+g.toUpperCase();e+="\x3d"+b.propertyValue(n)}}if(3===c.length)return e+":";r=c[2];d||(d=a.defaultSet);n=g=x=!1;k in d.property?(k=d.property[k],"multiValue"in k&&(x=
k.multiValue),"structuredValue"in k&&Array.isArray(c[3])&&(g=k.structuredValue),"defaultType"in k?r===k.defaultType&&(n=!0):"unknown"===r&&(n=!0)):"unknown"===r&&(n=!0);n||(e+=";VALUE\x3d"+r.toUpperCase());e+=":";e=x&&g?e+b.multiValue(c[3],g,r,x,d,g):x?e+b.multiValue(c.slice(3),x,r,null,d,!1):g?e+b.multiValue(c[3],g,r,null,d,g):e+b.value(c[3],r,d,!1);return l?e:ICAL.helpers.foldline(e)};b.propertyValue=function(a){return-1===c.unescapedIndexOf(a,",")&&-1===c.unescapedIndexOf(a,":")&&-1===c.unescapedIndexOf(a,
";")?a:'"'+a+'"'};b.multiValue=function(a,c,d,f,m,r){for(var e="",k=a.length,l=0;l<k;l++)e=f&&Array.isArray(a[l])?e+b.multiValue(a[l],f,d,null,m,r):e+b.value(a[l],d,m,r),l!==k-1&&(e+=c);return e};b.value=function(a,b,c,d){return b in c.value&&"toICAL"in c.value[b]?c.value[b].toICAL(a,d):a};b._rfc6868Unescape=function(a){return a.replace(/[\n^"]/g,function(a){return d[a]})};var d={'"':"^'","\n":"^n","^":"^^"};return b}();
ICAL.parse=function(){function b(a){this.message=a;this.name="ParserError";try{throw Error();}catch(f){f.stack&&(a=f.stack.split("\n"),a.shift(),this.stack=a.join("\n"))}}function a(c){var d={},e=d.component=[];d.stack=[e];a._eachLine(c,function(b,c){a._handleContentLine(c,d)});if(1<d.stack.length)throw new b("invalid ical body. component began but did not end");d=null;return 1==e.length?e[0]:e}var c=/[^ \t]/,d=ICAL.design,e=ICAL.helpers;b.prototype=Error.prototype;a.property=function(b,c){c={component:[[],
[]],designSet:c||d.defaultSet};a._handleContentLine(b,c);return c.component[1][0]};a.component=function(b){return a(b)};a.ParserError=b;a._handleContentLine=function(c,e){var f=c.indexOf(":"),k=c.indexOf(";"),g={};-1!==k&&-1!==f&&k>f&&(k=-1);if(-1!==k){var l=c.substring(0,k).toLowerCase();f=a._parseParameters(c.substring(k),0,e.designSet);if(-1==f[2])throw new b("Invalid parameters in '"+c+"'");g=f[0];k=f[1].length+f[2]+k;if(-1!==(f=c.substring(k).indexOf(":")))c=c.substring(k+f+1);else throw new b("Missing parameter value in '"+
c+"'");}else if(-1!==f){l=c.substring(0,f).toLowerCase();c=c.substring(f+1);if("begin"===l){l=[c.toLowerCase(),[],[]];1===e.stack.length?e.component.push(l):e.component[2].push(l);e.stack.push(e.component);e.component=l;e.designSet||(e.designSet=d.getDesignSet(e.component[0]));return}if("end"===l){e.component=e.stack.pop();return}}else throw new b('invalid line (no token ";" or ":") "'+c+'"');var x;f=k=!1;if(l in e.designSet.property){var y=e.designSet.property[l];"multiValue"in y&&(k=y.multiValue);
"structuredValue"in y&&(f=y.structuredValue);c&&"detectType"in y&&(x=y.detectType(c))}x||(x="value"in g?g.value.toLowerCase():y?y.defaultType:"unknown");delete g.value;k&&f?(c=a._parseMultiValue(c,f,x,[],k,e.designSet,f),g=[l,g,x,c]):k?(g=[l,g,x],a._parseMultiValue(c,k,x,g,null,e.designSet,!1)):(c=f?a._parseMultiValue(c,f,x,[],null,e.designSet,f):a._parseValue(c,x,e.designSet,!1),g=[l,g,x,c]);"vcard"!==e.component[0]||0!==e.component[1].length||"version"===l&&"4.0"===c||(e.designSet=d.getDesignSet("vcard3"));
e.component[1].push(g)};a._parseValue=function(a,b,c,d){return b in c.value&&"fromICAL"in c.value[b]?c.value[b].fromICAL(a,d):a};a._parseParameters=function(c,d,k){var f=d,g=0;d={};for(var l,m,y=-1,D,w,B;!1!==g&&-1!==(g=e.unescapedIndexOf(c,"\x3d",g+1));){l=c.substr(f+1,g-f-1);if(0==l.length)throw new b("Empty parameter name in '"+c+"'");l=l.toLowerCase();D=l in k.param&&k.param[l].valueType?k.param[l].valueType:"text";l in k.param&&(w=k.param[l].multiValue,k.param[l].multiValueSeparateDQuote&&(B=
a._rfc6868Escape('"'+w+'"')));if('"'===c[g+1]){y=g+2;g=e.unescapedIndexOf(c,'"',y);if(w&&-1!=g)for(f=!0;f;)c[g+1]==w&&'"'==c[g+2]?g=e.unescapedIndexOf(c,'"',g+3):f=!1;if(-1===g)throw new b('invalid line (no matching double quote) "'+c+'"');m=c.substr(y,g-y);f=e.unescapedIndexOf(c,";",g);-1===f&&(g=!1)}else y=g+1,m=e.unescapedIndexOf(c,";",y),g=e.unescapedIndexOf(c,":",y),-1!==g&&m>g?(m=g,g=!1):-1===m?(m=-1===g?c.length:g,g=!1):g=f=m,m=c.substr(y,m-y);m=a._rfc6868Escape(m);d[l]=w?a._parseMultiValue(m,
B||w,D,[],null,k):a._parseValue(m,D,k)}return[d,m,y]};a._rfc6868Escape=function(a){return a.replace(/\^['n^]/g,function(a){return k[a]})};var k={"^'":'"',"^n":"\n","^^":"^"};a._parseMultiValue=function(b,c,d,k,g,n,x){var f,l=0;if(0===c.length)return b;for(;-1!==(f=e.unescapedIndexOf(b,c,l));)l=b.substr(l,f-l),l=g?a._parseMultiValue(l,g,d,[],null,n,x):a._parseValue(l,d,n,x),k.push(l),l=f+c.length;l=b.substr(l);l=g?a._parseMultiValue(l,g,d,[],null,n,x):a._parseValue(l,d,n,x);k.push(l);return 1==k.length?
k[0]:k};a._eachLine=function(a,b){var d=a.length,e=a.search(c);do{var f=a.indexOf("\n",e)+1;var k=1<f&&"\r"===a[f-2]?2:1;0===f&&(f=d,k=0);var l=a[e];if(" "===l||"\t"===l)y+=a.substr(e+1,f-e-(k+1));else{y&&b(null,y);var y=a.substr(e,f-e-k)}e=f}while(f!==d);y=y.trim();y.length&&b(null,y)};return a}();
ICAL.Component=function(){function b(a,b){"string"===typeof a&&(a=[a,[],[]]);this.jCal=a;this.parent=b||null}b.prototype={_hydratedPropertyCount:0,_hydratedComponentCount:0,get name(){return this.jCal[0]},get _designSet(){return this.parent&&this.parent._designSet||ICAL.design.getDesignSet(this.name)},_hydrateComponent:function(a){this._components||(this._components=[],this._hydratedComponentCount=0);if(this._components[a])return this._components[a];var c=new b(this.jCal[2][a],this);this._hydratedComponentCount++;
return this._components[a]=c},_hydrateProperty:function(a){this._properties||(this._properties=[],this._hydratedPropertyCount=0);if(this._properties[a])return this._properties[a];var b=new ICAL.Property(this.jCal[1][a],this);this._hydratedPropertyCount++;return this._properties[a]=b},getFirstSubcomponent:function(a){if(a)for(var b=0,d=this.jCal[2],e=d.length;b<e;b++){if(d[b][0]===a)return this._hydrateComponent(b)}else if(this.jCal[2].length)return this._hydrateComponent(0);return null},getAllSubcomponents:function(a){var b=
this.jCal[2].length,d=0;if(a){for(var e=this.jCal[2],k=[];d<b;d++)a===e[d][0]&&k.push(this._hydrateComponent(d));return k}if(!this._components||this._hydratedComponentCount!==b)for(;d<b;d++)this._hydrateComponent(d);return this._components||[]},hasProperty:function(a){for(var b=this.jCal[1],d=b.length,e=0;e<d;e++)if(b[e][0]===a)return!0;return!1},getFirstProperty:function(a){if(a)for(var b=0,d=this.jCal[1],e=d.length;b<e;b++){if(d[b][0]===a)return this._hydrateProperty(b)}else if(this.jCal[1].length)return this._hydrateProperty(0);
return null},getFirstPropertyValue:function(a){return(a=this.getFirstProperty(a))?a.getFirstValue():null},getAllProperties:function(a){var b=this.jCal[1].length,d=0;if(a){for(var e=this.jCal[1],k=[];d<b;d++)a===e[d][0]&&k.push(this._hydrateProperty(d));return k}if(!this._properties||this._hydratedPropertyCount!==b)for(;d<b;d++)this._hydrateProperty(d);return this._properties||[]},_removeObjectByIndex:function(a,b,d){b=b||[];if(b[d]){var c=b[d];"parent"in c&&(c.parent=null)}b.splice(d,1);this.jCal[a].splice(d,
1)},_removeObject:function(a,b,d){var c=0,k=this.jCal[a],l=k.length;b=this[b];if("string"===typeof d)for(;c<l;c++){if(k[c][0]===d)return this._removeObjectByIndex(a,b,c),!0}else if(b)for(;c<l;c++)if(b[c]&&b[c]===d)return this._removeObjectByIndex(a,b,c),!0;return!1},_removeAllObjects:function(a,b,d){b=this[b];for(var c=this.jCal[a],k=c.length-1;0<=k;k--)d&&c[k][0]!==d||this._removeObjectByIndex(a,b,k)},addSubcomponent:function(a){this._components||(this._components=[],this._hydratedComponentCount=
0);a.parent&&a.parent.removeSubcomponent(a);var b=this.jCal[2].push(a.jCal);this._components[b-1]=a;this._hydratedComponentCount++;a.parent=this;return a},removeSubcomponent:function(a){(a=this._removeObject(2,"_components",a))&&this._hydratedComponentCount--;return a},removeAllSubcomponents:function(a){a=this._removeAllObjects(2,"_components",a);this._hydratedComponentCount=0;return a},addProperty:function(a){if(!(a instanceof ICAL.Property))throw new TypeError("must instance of ICAL.Property");
this._properties||(this._properties=[],this._hydratedPropertyCount=0);a.parent&&a.parent.removeProperty(a);var b=this.jCal[1].push(a.jCal);this._properties[b-1]=a;this._hydratedPropertyCount++;a.parent=this;return a},addPropertyWithValue:function(a,b){a=new ICAL.Property(a);a.setValue(b);this.addProperty(a);return a},updatePropertyWithValue:function(a,b){var c=this.getFirstProperty(a);c?c.setValue(b):c=this.addPropertyWithValue(a,b);return c},removeProperty:function(a){(a=this._removeObject(1,"_properties",
a))&&this._hydratedPropertyCount--;return a},removeAllProperties:function(a){a=this._removeAllObjects(1,"_properties",a);this._hydratedPropertyCount=0;return a},toJSON:function(){return this.jCal},toString:function(){return ICAL.stringify.component(this.jCal,this._designSet)}};b.fromString=function(a){return new b(ICAL.parse.component(a))};return b}();
ICAL.Property=function(){function b(b,d){this._parent=d||null;"string"===typeof b?(this.jCal=[b,{},a.defaultType],this.jCal[2]=this.getDefaultType()):this.jCal=b;this._updateType()}var a=ICAL.design;b.prototype={get type(){return this.jCal[2]},get name(){return this.jCal[0]},get parent(){return this._parent},set parent(b){var c=!this._parent||b&&b._designSet!=this._parent._designSet;this._parent=b;this.type==a.defaultType&&c&&(this.jCal[2]=this.getDefaultType(),this._updateType());return b},get _designSet(){return this.parent?
this.parent._designSet:a.defaultSet},_updateType:function(){var a=this._designSet;this.type in a.value&&(this.isDecorated="decorate"in a.value[this.type]?!0:!1,this.name in a.property&&(this.isMultiValue="multiValue"in a.property[this.name],this.isStructuredValue="structuredValue"in a.property[this.name]))},_hydrateValue:function(a){return this._values&&this._values[a]?this._values[a]:this.jCal.length<=3+a?null:this.isDecorated?(this._values||(this._values=[]),this._values[a]=this._decorate(this.jCal[3+
a])):this.jCal[3+a]},_decorate:function(a){return this._designSet.value[this.type].decorate(a,this)},_undecorate:function(a){return this._designSet.value[this.type].undecorate(a,this)},_setDecoratedValue:function(a,b){this._values||(this._values=[]);"object"===typeof a&&"icaltype"in a?(this.jCal[3+b]=this._undecorate(a),this._values[b]=a):(this.jCal[3+b]=a,this._values[b]=this._decorate(a))},getParameter:function(a){if(a in this.jCal[1])return this.jCal[1][a]},getFirstParameter:function(a){a=this.getParameter(a);
return Array.isArray(a)?a[0]:a},setParameter:function(a,b){var c=a.toLowerCase();"string"===typeof b&&c in this._designSet.param&&"multiValue"in this._designSet.param[c]&&(b=[b]);this.jCal[1][a]=b},removeParameter:function(a){delete this.jCal[1][a]},getDefaultType:function(){var b=this.jCal[0],d=this._designSet;return b in d.property&&(b=d.property[b],"defaultType"in b)?b.defaultType:a.defaultType},resetType:function(a){this.removeAllValues();this.jCal[2]=a;this._updateType()},getFirstValue:function(){return this._hydrateValue(0)},
getValues:function(){var a=this.jCal.length-3;if(1>a)return[];for(var b=0,e=[];b<a;b++)e[b]=this._hydrateValue(b);return e},removeAllValues:function(){this._values&&(this._values.length=0);this.jCal.length=3},setValues:function(a){if(!this.isMultiValue)throw Error(this.name+": does not not support mulitValue.\noverride isMultiValue");var b=a.length,c=0;this.removeAllValues();0<b&&"object"===typeof a[0]&&"icaltype"in a[0]&&this.resetType(a[0].icaltype);if(this.isDecorated)for(;c<b;c++)this._setDecoratedValue(a[c],
c);else for(;c<b;c++)this.jCal[3+c]=a[c]},setValue:function(a){this.removeAllValues();"object"===typeof a&&"icaltype"in a&&this.resetType(a.icaltype);this.isDecorated?this._setDecoratedValue(a,0):this.jCal[3]=a},toJSON:function(){return this.jCal},toICALString:function(){return ICAL.stringify.property(this.jCal,this._designSet,!0)}};b.fromString=function(a,d){return new b(ICAL.parse.property(a,d))};return b}();
ICAL.UtcOffset=function(){function b(a){this.fromData(a)}b.prototype={hours:0,minutes:0,factor:1,icaltype:"utc-offset",clone:function(){return ICAL.UtcOffset.fromSeconds(this.toSeconds())},fromData:function(a){if(a)for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b]);this._normalize()},fromSeconds:function(a){var b=Math.abs(a);this.factor=0>a?-1:1;this.hours=ICAL.helpers.trunc(b/3600);b-=3600*this.hours;this.minutes=ICAL.helpers.trunc(b/60);return this},toSeconds:function(){return this.factor*(60*this.minutes+
3600*this.hours)},compare:function(a){var b=this.toSeconds();a=a.toSeconds();return(b>a)-(a>b)},_normalize:function(){for(var a=this.toSeconds(),b=this.factor;-43200>a;)a+=97200;for(;50400<a;)a-=97200;this.fromSeconds(a);0==a&&(this.factor=b)},toICALString:function(){return ICAL.design.icalendar.value["utc-offset"].toICAL(this.toString())},toString:function(){return(1==this.factor?"+":"-")+ICAL.helpers.pad2(this.hours)+":"+ICAL.helpers.pad2(this.minutes)}};b.fromString=function(a){var b={};b.factor=
"+"===a[0]?1:-1;b.hours=ICAL.helpers.strictParseInt(a.substr(1,2));b.minutes=ICAL.helpers.strictParseInt(a.substr(4,2));return new ICAL.UtcOffset(b)};b.fromSeconds=function(a){var c=new b;c.fromSeconds(a);return c};return b}();
ICAL.Binary=function(){function b(a){this.value=a}b.prototype={icaltype:"binary",decodeValue:function(){return this._b64_decode(this.value)},setEncodedValue:function(a){this.value=this._b64_encode(a)},_b64_encode:function(a){var b=0,d=0,e=[];if(!a)return a;do{var k=a.charCodeAt(b++);var l=a.charCodeAt(b++);var f=a.charCodeAt(b++);var m=k<<16|l<<8|f;k=m>>18&63;l=m>>12&63;f=m>>6&63;m&=63;e[d++]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(k)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(l)+
"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(f)+"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".charAt(m)}while(b<a.length);b=e.join("");a=a.length%3;return(a?b.slice(0,a-3):b)+"\x3d\x3d\x3d".slice(a||3)},_b64_decode:function(a){var b=0,d=0,e=[];if(!a)return a;a+="";do{var k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));
var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\x3d".indexOf(a.charAt(b++));var r=k<<18|l<<12|f<<6|m;k=r>>16&255;l=r>>8&255;r&=255;64==f?e[d++]=String.fromCharCode(k):64==m?e[d++]=String.fromCharCode(k,l):e[d++]=String.fromCharCode(k,l,r)}while(b<a.length);return e.join("")},toString:function(){return this.value}};b.fromString=function(a){return new b(a)};return b}();
(function(){ICAL.Period=function(b){this.wrappedJSObject=this;if(b&&"start"in b){if(b.start&&!(b.start instanceof ICAL.Time))throw new TypeError(".start must be an instance of ICAL.Time");this.start=b.start}if(b&&b.end&&b.duration)throw Error("cannot accept both end and duration");if(b&&"end"in b){if(b.end&&!(b.end instanceof ICAL.Time))throw new TypeError(".end must be an instance of ICAL.Time");this.end=b.end}if(b&&"duration"in b){if(b.duration&&!(b.duration instanceof ICAL.Duration))throw new TypeError(".duration must be an instance of ICAL.Duration");
this.duration=b.duration}};ICAL.Period.prototype={start:null,end:null,duration:null,icalclass:"icalperiod",icaltype:"period",clone:function(){return ICAL.Period.fromData({start:this.start?this.start.clone():null,end:this.end?this.end.clone():null,duration:this.duration?this.duration.clone():null})},getDuration:function(){return this.duration?this.duration:this.end.subtractDate(this.start)},getEnd:function(){if(this.end)return this.end;var b=this.start.clone();b.addDuration(this.duration);return b},
toString:function(){return this.start+"/"+(this.end||this.duration)},toJSON:function(){return[this.start.toString(),(this.end||this.duration).toString()]},toICALString:function(){return this.start.toICALString()+"/"+(this.end||this.duration).toICALString()}};ICAL.Period.fromString=function(b,a){var c=b.split("/");if(2!==c.length)throw Error('Invalid string value: "'+b+'" must contain a "/" char.');b={start:ICAL.Time.fromDateTimeString(c[0],a)};c=c[1];ICAL.Duration.isValueString(c)?b.duration=ICAL.Duration.fromString(c):
b.end=ICAL.Time.fromDateTimeString(c,a);return new ICAL.Period(b)};ICAL.Period.fromData=function(b){return new ICAL.Period(b)};ICAL.Period.fromJSON=function(b,a){return ICAL.Duration.isValueString(b[1])?ICAL.Period.fromData({start:ICAL.Time.fromDateTimeString(b[0],a),duration:ICAL.Duration.fromString(b[1])}):ICAL.Period.fromData({start:ICAL.Time.fromDateTimeString(b[0],a),end:ICAL.Time.fromDateTimeString(b[1],a)})}})();
(function(){var b=/([PDWHMTS]{1,1})/;ICAL.Duration=function(a){this.wrappedJSObject=this;this.fromData(a)};ICAL.Duration.prototype={weeks:0,days:0,hours:0,minutes:0,seconds:0,isNegative:!1,icalclass:"icalduration",icaltype:"duration",clone:function(){return ICAL.Duration.fromData(this)},toSeconds:function(){var a=this.seconds+60*this.minutes+3600*this.hours+86400*this.days+604800*this.weeks;return this.isNegative?-a:a},fromSeconds:function(a){var b=Math.abs(a);this.isNegative=0>a;this.days=ICAL.helpers.trunc(b/
86400);0==this.days%7?(this.weeks=this.days/7,this.days=0):this.weeks=0;b-=86400*(this.days+7*this.weeks);this.hours=ICAL.helpers.trunc(b/3600);b-=3600*this.hours;this.minutes=ICAL.helpers.trunc(b/60);this.seconds=b-=60*this.minutes;return this},fromData:function(a){var b="weeks days hours minutes seconds isNegative".split(" "),d;for(d in b)if(b.hasOwnProperty(d)){var e=b[d];this[e]=a&&e in a?a[e]:0}},reset:function(){this.isNegative=!1;this.seconds=this.minutes=this.hours=this.days=this.weeks=0},
compare:function(a){var b=this.toSeconds();a=a.toSeconds();return(b>a)-(b<a)},normalize:function(){this.fromSeconds(this.toSeconds())},toString:function(){if(0==this.toSeconds())return"PT0S";var a="";this.isNegative&&(a+="-");a+="P";this.weeks&&(a+=this.weeks+"W");this.days&&(a+=this.days+"D");if(this.hours||this.minutes||this.seconds)a+="T",this.hours&&(a+=this.hours+"H"),this.minutes&&(a+=this.minutes+"M"),this.seconds&&(a+=this.seconds+"S");return a},toICALString:function(){return this.toString()}};
ICAL.Duration.fromSeconds=function(a){return(new ICAL.Duration).fromSeconds(a)};ICAL.Duration.isValueString=function(a){return"P"===a[0]||"P"===a[1]};ICAL.Duration.fromString=function(a){for(var c,d=Object.create(null),e=0;-1!==(c=a.search(b));){var k=a[c],l=a.substr(0,c);a=a.substr(c+1);c=e;a:{e=void 0;var f=d;switch(k){case "P":f.isNegative=l&&"-"===l?!0:!1;break;case "D":e="days";break;case "W":e="weeks";break;case "H":e="hours";break;case "M":e="minutes";break;case "S":e="seconds";break;default:e=
0;break a}if(e){if(!l&&0!==l)throw Error('invalid duration value: Missing number before "'+k+'"');var m=parseInt(l,10);if(ICAL.helpers.isStrictlyNaN(m))throw Error('invalid duration value: Invalid number "'+l+'" before "'+k+'"');f[e]=m}e=1}e=c+e}if(2>e)throw Error('invalid duration value: Not enough duration components in "'+a+'"');return new ICAL.Duration(d)};ICAL.Duration.fromData=function(a){return new ICAL.Duration(a)}})();
(function(){var b=["tzid","location","tznames","latitude","longitude"];ICAL.Timezone=function(a){this.wrappedJSObject=this;this.fromData(a)};ICAL.Timezone.prototype={tzid:"",location:"",tznames:"",latitude:0,longitude:0,component:null,expandedUntilYear:0,icalclass:"icaltimezone",fromData:function(a){this.expandedUntilYear=0;this.changes=[];if(a instanceof ICAL.Component)this.component=a;else{if(a&&"component"in a)if("string"==typeof a.component){var c=ICAL.parse(a.component);this.component=new ICAL.Component(c)}else this.component=
a.component instanceof ICAL.Component?a.component:null;for(var d in b)b.hasOwnProperty(d)&&(c=b[d],a&&c in a&&(this[c]=a[c]))}this.component instanceof ICAL.Component&&!this.tzid&&(this.tzid=this.component.getFirstPropertyValue("tzid"));return this},utcOffset:function(a){if(this==ICAL.Timezone.utcTimezone||this==ICAL.Timezone.localTimezone)return 0;this._ensureCoverage(a.year);if(!this.changes.length)return 0;a={year:a.year,month:a.month,day:a.day,hour:a.hour,minute:a.minute,second:a.second};for(var b=
this._findNearbyChange(a),d=-1,e=1;;){var k=ICAL.helpers.clone(this.changes[b],!0);k.utcOffset<k.prevUtcOffset?ICAL.Timezone.adjust_change(k,0,0,0,k.utcOffset):ICAL.Timezone.adjust_change(k,0,0,0,k.prevUtcOffset);0<=ICAL.Timezone._compare_change_fn(a,k)?d=b:e=-1;if(-1==e&&-1!=d)break;b+=e;if(0>b)return 0;if(b>=this.changes.length)break}b=this.changes[d];0>b.utcOffset-b.prevUtcOffset&&0<d&&(e=ICAL.helpers.clone(b,!0),ICAL.Timezone.adjust_change(e,0,0,0,e.prevUtcOffset),0>ICAL.Timezone._compare_change_fn(a,
e)&&(a=this.changes[d-1],0!=b.is_daylight&&0==a.is_daylight&&(b=a)));return b.utcOffset},_findNearbyChange:function(a){a=ICAL.helpers.binsearchInsert(this.changes,a,ICAL.Timezone._compare_change_fn);return a>=this.changes.length?this.changes.length-1:a},_ensureCoverage:function(a){if(-1==ICAL.Timezone._minimumExpansionYear){var b=ICAL.Time.now();ICAL.Timezone._minimumExpansionYear=b.year}b=a;b<ICAL.Timezone._minimumExpansionYear&&(b=ICAL.Timezone._minimumExpansionYear);b+=ICAL.Timezone.EXTRA_COVERAGE;
b>ICAL.Timezone.MAX_YEAR&&(b=ICAL.Timezone.MAX_YEAR);if(!this.changes.length||this.expandedUntilYear<a){a=this.component.getAllSubcomponents();for(var d=a.length,e=0;e<d;e++)this._expandComponent(a[e],b,this.changes);this.changes.sort(ICAL.Timezone._compare_change_fn);this.expandedUntilYear=b}},_expandComponent:function(a,b,d){function c(a){return a.factor*(3600*a.hours+60*a.minutes)}function k(){var b={};b.is_daylight="daylight"==a.name;b.utcOffset=c(a.getFirstProperty("tzoffsetto").getFirstValue());
b.prevUtcOffset=c(a.getFirstProperty("tzoffsetfrom").getFirstValue());return b}if(!a.hasProperty("dtstart")||!a.hasProperty("tzoffsetto")||!a.hasProperty("tzoffsetfrom"))return null;var l=a.getFirstProperty("dtstart").getFirstValue();if(a.hasProperty("rrule")||a.hasProperty("rdate")){var f=a.getAllProperties("rdate"),m;for(m in f)if(f.hasOwnProperty(m)){var r=f[m].getFirstValue();var g=k();g.year=r.year;g.month=r.month;g.day=r.day;r.isDate?(g.hour=l.hour,g.minute=l.minute,g.second=l.second,l.zone!=
ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(g,0,0,0,-g.prevUtcOffset)):(g.hour=r.hour,g.minute=r.minute,g.second=r.second,r.zone!=ICAL.Timezone.utcTimezone&&ICAL.Timezone.adjust_change(g,0,0,0,-g.prevUtcOffset));d.push(g)}if(f=a.getFirstProperty("rrule"))for(f=f.getFirstValue(),g=k(),f.until&&f.until.zone==ICAL.Timezone.utcTimezone&&(f.until.adjust(0,0,0,g.prevUtcOffset),f.until.zone=ICAL.Timezone.localTimezone),l=f.iterator(l);f=l.next();){g=k();if(f.year>b||!f)break;g.year=f.year;g.month=
f.month;g.day=f.day;g.hour=f.hour;g.minute=f.minute;g.second=f.second;g.isDate=f.isDate;ICAL.Timezone.adjust_change(g,0,0,0,-g.prevUtcOffset);d.push(g)}}else g=k(),g.year=l.year,g.month=l.month,g.day=l.day,g.hour=l.hour,g.minute=l.minute,g.second=l.second,ICAL.Timezone.adjust_change(g,0,0,0,-g.prevUtcOffset),d.push(g);return d},toString:function(){return this.tznames?this.tznames:this.tzid}};ICAL.Timezone._compare_change_fn=function(a,b){return a.year<b.year?-1:a.year>b.year?1:a.month<b.month?-1:
a.month>b.month?1:a.day<b.day?-1:a.day>b.day?1:a.hour<b.hour?-1:a.hour>b.hour?1:a.minute<b.minute?-1:a.minute>b.minute?1:a.second<b.second?-1:a.second>b.second?1:0};ICAL.Timezone.convert_time=function(a,b,d){if(a.isDate||b.tzid==d.tzid||b==ICAL.Timezone.localTimezone||d==ICAL.Timezone.localTimezone)return a.zone=d,a;b=b.utcOffset(a);a.adjust(0,0,0,-b);b=d.utcOffset(a);a.adjust(0,0,0,b);return null};ICAL.Timezone.fromData=function(a){return(new ICAL.Timezone).fromData(a)};ICAL.Timezone.utcTimezone=
ICAL.Timezone.fromData({tzid:"UTC"});ICAL.Timezone.localTimezone=ICAL.Timezone.fromData({tzid:"floating"});ICAL.Timezone.adjust_change=function(a,b,d,e,k){return ICAL.Time.prototype.adjust.call(a,b,d,e,k,a)};ICAL.Timezone._minimumExpansionYear=-1;ICAL.Timezone.MAX_YEAR=2035;ICAL.Timezone.EXTRA_COVERAGE=5})();
ICAL.TimezoneService=function(){var b,a={reset:function(){b=Object.create(null);var a=ICAL.Timezone.utcTimezone;b.Z=a;b.UTC=a;b.GMT=a},has:function(a){return!!b[a]},get:function(a){return b[a]},register:function(a,d){a instanceof ICAL.Component&&"vtimezone"===a.name&&(d=new ICAL.Timezone(a),a=d.tzid);if(d instanceof ICAL.Timezone)b[a]=d;else throw new TypeError("timezone must be ICAL.Timezone or ICAL.Component");},remove:function(a){return delete b[a]}};a.reset();return a}();
(function(){ICAL.Time=function(b,a){this.wrappedJSObject=this;var c=this._time=Object.create(null);c.year=0;c.month=1;c.day=1;c.hour=0;c.minute=0;c.second=0;c.isDate=!1;this.fromData(b,a)};ICAL.Time._dowCache={};ICAL.Time._wnCache={};ICAL.Time.prototype={icalclass:"icaltime",_cachedUnixTime:null,get icaltype(){return this.isDate?"date":"date-time"},zone:null,_pendingNormalization:!1,clone:function(){return new ICAL.Time(this._time,this.zone)},reset:function(){this.fromData(ICAL.Time.epochTime);this.zone=
ICAL.Timezone.utcTimezone},resetTo:function(b,a,c,d,e,k,l){this.fromData({year:b,month:a,day:c,hour:d,minute:e,second:k,zone:l})},fromJSDate:function(b,a){b?a?(this.zone=ICAL.Timezone.utcTimezone,this.year=b.getUTCFullYear(),this.month=b.getUTCMonth()+1,this.day=b.getUTCDate(),this.hour=b.getUTCHours(),this.minute=b.getUTCMinutes(),this.second=b.getUTCSeconds()):(this.zone=ICAL.Timezone.localTimezone,this.year=b.getFullYear(),this.month=b.getMonth()+1,this.day=b.getDate(),this.hour=b.getHours(),this.minute=
b.getMinutes(),this.second=b.getSeconds()):this.reset();this._cachedUnixTime=null;return this},fromData:function(b,a){if(b)for(var c in b)Object.prototype.hasOwnProperty.call(b,c)&&"icaltype"!==c&&(this[c]=b[c]);a&&(this.zone=a);!b||"isDate"in b?b&&"isDate"in b&&(this.isDate=b.isDate):this.isDate=!("hour"in b);b&&"timezone"in b&&(this.zone=ICAL.TimezoneService.get(b.timezone)||ICAL.Timezone.localTimezone);b&&"zone"in b&&(this.zone=b.zone);this.zone||(this.zone=ICAL.Timezone.localTimezone);this._cachedUnixTime=
null;return this},dayOfWeek:function(){var b=(this.year<<9)+(this.month<<5)+this.day;if(b in ICAL.Time._dowCache)return ICAL.Time._dowCache[b];var a=this.year-(3>this.month?1:0),c=this.day+a+ICAL.helpers.trunc(26*(this.month+(3>this.month?12:0)+1)/10)+ICAL.helpers.trunc(a/4);c+=6*ICAL.helpers.trunc(a/100)+ICAL.helpers.trunc(a/400);c=(c+6)%7+1;return ICAL.Time._dowCache[b]=c},dayOfYear:function(){var b=ICAL.Time.isLeapYear(this.year)?1:0;return ICAL.Time.daysInYearPassedMonth[b][this.month-1]+this.day},
startOfWeek:function(b){b=b||ICAL.Time.SUNDAY;var a=this.clone();a.day-=(this.dayOfWeek()+7-b)%7;a.isDate=!0;a.hour=0;a.minute=0;a.second=0;return a},endOfWeek:function(b){b=b||ICAL.Time.SUNDAY;var a=this.clone();a.day+=(7-this.dayOfWeek()+b-ICAL.Time.SUNDAY)%7;a.isDate=!0;a.hour=0;a.minute=0;a.second=0;return a},startOfMonth:function(){var b=this.clone();b.day=1;b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},endOfMonth:function(){var b=this.clone();b.day=ICAL.Time.daysInMonth(b.month,b.year);
b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},startOfYear:function(){var b=this.clone();b.day=1;b.month=1;b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},endOfYear:function(){var b=this.clone();b.day=31;b.month=12;b.isDate=!0;b.hour=0;b.minute=0;b.second=0;return b},startDoyWeek:function(b){b=b||ICAL.Time.SUNDAY;b=this.dayOfWeek()-b;0>b&&(b+=7);return this.dayOfYear()-b},getDominicalLetter:function(){return ICAL.Time.getDominicalLetter(this.year)},nthWeekDay:function(b,a){var c=ICAL.Time.daysInMonth(this.month,
this.year),d=0,e=this.clone();0<=a?(e.day=1,0!=a&&a--,d=e.day,c=e.dayOfWeek(),c=b-c,0>c&&(c+=7),d=d+c-b):(e.day=c,e=e.dayOfWeek(),a++,b=e-b,0>b&&(b+=7),b=c-b);return d+(b+7*a)},isNthWeekDay:function(b,a){var c=this.dayOfWeek();return 0===a&&c===b||this.nthWeekDay(b,a)===this.day?!0:!1},weekNumber:function(b){var a=(this.year<<12)+(this.month<<8)+(this.day<<3)+b;if(a in ICAL.Time._wnCache)return ICAL.Time._wnCache[a];var c=this.clone();c.isDate=!0;var d=this.year;if(12==c.month&&25<c.day){var e=ICAL.Time.weekOneStarts(d+
1,b);0>c.compare(e)&&(e=ICAL.Time.weekOneStarts(d,b))}else e=ICAL.Time.weekOneStarts(d,b),0>c.compare(e)&&(e=ICAL.Time.weekOneStarts(--d,b));b=c.subtractDate(e).toSeconds()/86400;b=ICAL.helpers.trunc(b/7)+1;return ICAL.Time._wnCache[a]=b},addDuration:function(b){var a=b.isNegative?-1:1,c=this.second,d=this.minute,e=this.hour,k=this.day;c+=a*b.seconds;d+=a*b.minutes;e+=a*b.hours;k+=a*b.days;k+=7*a*b.weeks;this.second=c;this.minute=d;this.hour=e;this.day=k;this._cachedUnixTime=null},subtractDate:function(b){var a=
this.toUnixTime()+this.utcOffset();b=b.toUnixTime()+b.utcOffset();return ICAL.Duration.fromSeconds(a-b)},subtractDateTz:function(b){var a=this.toUnixTime();b=b.toUnixTime();return ICAL.Duration.fromSeconds(a-b)},compare:function(b){var a=this.toUnixTime();b=b.toUnixTime();return a>b?1:b>a?-1:0},compareDateOnlyTz:function(b,a){var c=this.convertToZone(a);b=b.convertToZone(a);return 0!=(a=ICAL.Time._cmp_attr(c,b,"year"))||0!=(a=ICAL.Time._cmp_attr(c,b,"month"))?a:a=ICAL.Time._cmp_attr(c,b,"day")},convertToZone:function(b){var a=
this.clone(),c=this.zone.tzid==b.tzid;this.isDate||c||ICAL.Timezone.convert_time(a,this.zone,b);a.zone=b;return a},utcOffset:function(){return this.zone==ICAL.Timezone.localTimezone||this.zone==ICAL.Timezone.utcTimezone?0:this.zone.utcOffset(this)},toICALString:function(){var b=this.toString();return 10<b.length?ICAL.design.icalendar.value["date-time"].toICAL(b):ICAL.design.icalendar.value.date.toICAL(b)},toString:function(){var b=this.year+"-"+ICAL.helpers.pad2(this.month)+"-"+ICAL.helpers.pad2(this.day);
this.isDate||(b+="T"+ICAL.helpers.pad2(this.hour)+":"+ICAL.helpers.pad2(this.minute)+":"+ICAL.helpers.pad2(this.second),this.zone===ICAL.Timezone.utcTimezone&&(b+="Z"));return b},toJSDate:function(){return this.zone==ICAL.Timezone.localTimezone?this.isDate?new Date(this.year,this.month-1,this.day):new Date(this.year,this.month-1,this.day,this.hour,this.minute,this.second,0):new Date(1E3*this.toUnixTime())},_normalize:function(){this._time.isDate&&(this._time.hour=0,this._time.minute=0,this._time.second=
0);this.adjust(0,0,0,0);return this},adjust:function(b,a,c,d,e){var k=0,l=0;e=e||this._time;e.isDate||(d=e.second+d,e.second=d%60,d=ICAL.helpers.trunc(d/60),0>e.second&&(e.second+=60,d--),c=e.minute+c+d,e.minute=c%60,c=ICAL.helpers.trunc(c/60),0>e.minute&&(e.minute+=60,c--),a=e.hour+a+c,e.hour=a%24,k=ICAL.helpers.trunc(a/24),0>e.hour&&(e.hour+=24,k--));12<e.month?l=ICAL.helpers.trunc((e.month-1)/12):1>e.month&&(l=ICAL.helpers.trunc(e.month/12)-1);e.year+=l;e.month-=12*l;b=e.day+b+k;if(0<b)for(;;){l=
ICAL.Time.daysInMonth(e.month,e.year);if(b<=l)break;e.month++;12<e.month&&(e.year++,e.month=1);b-=l}else for(;0>=b;)1==e.month?(e.year--,e.month=12):e.month--,b+=ICAL.Time.daysInMonth(e.month,e.year);e.day=b;this._cachedUnixTime=null;return this},fromUnixTime:function(b){this.zone=ICAL.Timezone.utcTimezone;var a=ICAL.Time.epochTime.clone();a.adjust(0,0,0,b);this.year=a.year;this.month=a.month;this.day=a.day;this.hour=a.hour;this.minute=a.minute;this.second=Math.floor(a.second);this._cachedUnixTime=
null},toUnixTime:function(){if(null!==this._cachedUnixTime)return this._cachedUnixTime;var b=this.utcOffset();return this._cachedUnixTime=Date.UTC(this.year,this.month-1,this.day,this.hour,this.minute,this.second-b)/1E3},toJSON:function(){for(var b="year month day hour minute second isDate".split(" "),a=Object.create(null),c=0,d=b.length,e;c<d;c++)e=b[c],a[e]=this[e];this.zone&&(a.timezone=this.zone.tzid);return a}};(function(){function b(a){Object.defineProperty(ICAL.Time.prototype,a,{get:function(){this._pendingNormalization&&
(this._normalize(),this._pendingNormalization=!1);return this._time[a]},set:function(b){"isDate"===a&&b&&!this._time.isDate&&this.adjust(0,0,0,0);this._cachedUnixTime=null;this._pendingNormalization=!0;return this._time[a]=b}})}"defineProperty"in Object&&(b("year"),b("month"),b("day"),b("hour"),b("minute"),b("second"),b("isDate"))})();ICAL.Time.daysInMonth=function(b,a){var c=30;if(1>b||12<b)return c;c=[0,31,28,31,30,31,30,31,31,30,31,30,31][b];2==b&&(c+=ICAL.Time.isLeapYear(a));return c};ICAL.Time.isLeapYear=
function(b){return 1752>=b?0==b%4:0==b%4&&0!=b%100||0==b%400};ICAL.Time.fromDayOfYear=function(b,a){var c=new ICAL.Time;c.auto_normalize=!1;var d=ICAL.Time.isLeapYear(a)?1:0;if(1>b)return a--,d=ICAL.Time.isLeapYear(a)?1:0,b+=ICAL.Time.daysInYearPassedMonth[d][12],ICAL.Time.fromDayOfYear(b,a);if(b>ICAL.Time.daysInYearPassedMonth[d][12])return d=ICAL.Time.isLeapYear(a)?1:0,b-=ICAL.Time.daysInYearPassedMonth[d][12],a++,ICAL.Time.fromDayOfYear(b,a);c.year=a;c.isDate=!0;for(a=11;0<=a;a--)if(b>ICAL.Time.daysInYearPassedMonth[d][a]){c.month=
a+1;c.day=b-ICAL.Time.daysInYearPassedMonth[d][a];break}c.auto_normalize=!0;return c};ICAL.Time.fromStringv2=function(b){return new ICAL.Time({year:parseInt(b.substr(0,4),10),month:parseInt(b.substr(5,2),10),day:parseInt(b.substr(8,2),10),isDate:!0})};ICAL.Time.fromDateString=function(b){return new ICAL.Time({year:ICAL.helpers.strictParseInt(b.substr(0,4)),month:ICAL.helpers.strictParseInt(b.substr(5,2)),day:ICAL.helpers.strictParseInt(b.substr(8,2)),isDate:!0})};ICAL.Time.fromDateTimeString=function(b,
a){if(19>b.length)throw Error('invalid date-time value: "'+b+'"');var c;b[19]&&"Z"===b[19]?c="Z":a&&(c=a.getParameter("tzid"));return new ICAL.Time({year:ICAL.helpers.strictParseInt(b.substr(0,4)),month:ICAL.helpers.strictParseInt(b.substr(5,2)),day:ICAL.helpers.strictParseInt(b.substr(8,2)),hour:ICAL.helpers.strictParseInt(b.substr(11,2)),minute:ICAL.helpers.strictParseInt(b.substr(14,2)),second:ICAL.helpers.strictParseInt(b.substr(17,2)),timezone:c})};ICAL.Time.fromString=function(b){return 10<
b.length?ICAL.Time.fromDateTimeString(b):ICAL.Time.fromDateString(b)};ICAL.Time.fromJSDate=function(b,a){return(new ICAL.Time).fromJSDate(b,a)};ICAL.Time.fromData=function(b,a){return(new ICAL.Time).fromData(b,a)};ICAL.Time.now=function(){return ICAL.Time.fromJSDate(new Date,!1)};ICAL.Time.weekOneStarts=function(b,a){b=ICAL.Time.fromData({year:b,month:1,day:1,isDate:!0});var c=b.dayOfWeek();a=a||ICAL.Time.DEFAULT_WEEK_START;c>ICAL.Time.THURSDAY&&(b.day+=7);a>ICAL.Time.THURSDAY&&(b.day-=7);b.day-=
c-a;return b};ICAL.Time.getDominicalLetter=function(b){var a=(b+(b/4|0)+(b/400|0)-(b/100|0)-1)%7;return ICAL.Time.isLeapYear(b)?"GFEDCBA"[(a+6)%7]+"GFEDCBA"[a]:"GFEDCBA"[a]};ICAL.Time.epochTime=ICAL.Time.fromData({year:1970,month:1,day:1,hour:0,minute:0,second:0,isDate:!1,timezone:"Z"});ICAL.Time._cmp_attr=function(b,a,c){return b[c]>a[c]?1:b[c]<a[c]?-1:0};ICAL.Time.daysInYearPassedMonth=[[0,31,59,90,120,151,181,212,243,273,304,334,365],[0,31,60,91,121,152,182,213,244,274,305,335,366]];ICAL.Time.SUNDAY=
1;ICAL.Time.MONDAY=2;ICAL.Time.TUESDAY=3;ICAL.Time.WEDNESDAY=4;ICAL.Time.THURSDAY=5;ICAL.Time.FRIDAY=6;ICAL.Time.SATURDAY=7;ICAL.Time.DEFAULT_WEEK_START=ICAL.Time.MONDAY})();
(function(){ICAL.VCardTime=function(b,a,c){this.wrappedJSObject=this;var d=this._time=Object.create(null);d.year=null;d.month=null;d.day=null;d.hour=null;d.minute=null;d.second=null;this.icaltype=c||"date-and-or-time";this.fromData(b,a)};ICAL.helpers.inherits(ICAL.Time,ICAL.VCardTime,{icalclass:"vcardtime",icaltype:"date-and-or-time",zone:null,clone:function(){return new ICAL.VCardTime(this._time,this.zone,this.icaltype)},_normalize:function(){return this},utcOffset:function(){return this.zone instanceof
ICAL.UtcOffset?this.zone.toSeconds():ICAL.Time.prototype.utcOffset.apply(this,arguments)},toICALString:function(){return ICAL.design.vcard.value[this.icaltype].toICAL(this.toString())},toString:function(){var b=ICAL.helpers.pad2,a=this.year,c=this.month,d=this.day,e=this.hour,k=this.minute,l=this.second,f=null!==c,m=null!==d,r=null!==e,g=null!==k,n=null!==l;a=(null!==a?b(a)+(f||m?"-":""):f||m?"--":"")+(f?b(c):"")+(m?"-"+b(d):"");b=(r?b(e):"-")+(r&&g?":":"")+(g?b(k):"")+(r||g?"":"-")+(g&&n?":":"")+
(n?b(l):"");e=this.zone===ICAL.Timezone.utcTimezone?"Z":this.zone instanceof ICAL.UtcOffset?this.zone.toString():this.zone===ICAL.Timezone.localTimezone?"":this.zone instanceof ICAL.Timezone?ICAL.UtcOffset.fromSeconds(this.zone.utcOffset(this)).toString():"";switch(this.icaltype){case "time":return b+e;case "date-and-or-time":case "date-time":return a+("--"==b?"":"T"+b+e);case "date":return a}return null}});ICAL.VCardTime.fromDateAndOrTimeString=function(b,a){function c(a,b,c){return a?ICAL.helpers.strictParseInt(a.substr(b,
c)):null}var d=b.split("T");b=d[0];var e=(d=d[1])?ICAL.design.vcard.value.time._splitZone(d):[];d=e[0];e=e[1];var k=b?b.length:0,l=e?e.length:0,f=b&&"-"==b[0]&&"-"==b[1],m=e&&"-"==e[0];b={year:f?null:c(b,0,4),month:!f||4!=k&&7!=k?7==k?c(b,5,2):10==k?c(b,5,2):null:c(b,2,2),day:5==k?c(b,3,2):7==k&&f?c(b,5,2):10==k?c(b,8,2):null,hour:m?null:c(e,0,2),minute:m&&3==l?c(e,1,2):4<l?m?c(e,1,2):c(e,3,2):null,second:4==l?c(e,2,2):6==l?c(e,4,2):8==l?c(e,6,2):null};d="Z"==d?ICAL.Timezone.utcTimezone:d&&":"==d[3]?
ICAL.UtcOffset.fromString(d):null;return new ICAL.VCardTime(b,d,a)}})();
(function(){function b(a,b,c,d){var e=d;"+"===d[0]&&(e=d.substr(1));e=ICAL.helpers.strictParseInt(e);if(void 0!==b&&d<b)throw Error(a+': invalid value "'+d+'" must be \x3e '+b);if(void 0!==c&&d>c)throw Error(a+': invalid value "'+d+'" must be \x3c '+b);return e}var a={SU:ICAL.Time.SUNDAY,MO:ICAL.Time.MONDAY,TU:ICAL.Time.TUESDAY,WE:ICAL.Time.WEDNESDAY,TH:ICAL.Time.THURSDAY,FR:ICAL.Time.FRIDAY,SA:ICAL.Time.SATURDAY},c={},d;for(d in a)a.hasOwnProperty(d)&&(c[a[d]]=d);ICAL.Recur=function(a){this.wrappedJSObject=
this;this.parts={};a&&"object"===typeof a&&this.fromData(a)};ICAL.Recur.prototype={parts:null,interval:1,wkst:ICAL.Time.MONDAY,until:null,count:null,freq:null,icalclass:"icalrecur",icaltype:"recur",iterator:function(a){return new ICAL.RecurIterator({rule:this,dtstart:a})},clone:function(){return new ICAL.Recur(this.toJSON())},isFinite:function(){return!(!this.count&&!this.until)},isByCount:function(){return!(!this.count||this.until)},addComponent:function(a,b){a=a.toUpperCase();a in this.parts?this.parts[a].push(b):
this.parts[a]=[b]},setComponent:function(a,b){this.parts[a.toUpperCase()]=b.slice()},getComponent:function(a){a=a.toUpperCase();return a in this.parts?this.parts[a].slice():[]},getNextOccurrence:function(a,b){a=this.iterator(a);do var c=a.next();while(c&&0>=c.compare(b));c&&b.zone&&(c.zone=b.zone);return c},fromData:function(a){for(var b in a){var c=b.toUpperCase();c in m?Array.isArray(a[b])?this.parts[c]=a[b]:this.parts[c]=[a[b]]:this[b]=a[b]}this.interval&&"number"!=typeof this.interval&&f.INTERVAL(this.interval,
this);this.wkst&&"number"!=typeof this.wkst&&(this.wkst=ICAL.Recur.icalDayToNumericDay(this.wkst));!this.until||this.until instanceof ICAL.Time||(this.until=ICAL.Time.fromString(this.until))},toJSON:function(){var a=Object.create(null);a.freq=this.freq;this.count&&(a.count=this.count);1<this.interval&&(a.interval=this.interval);for(var b in this.parts)if(this.parts.hasOwnProperty(b)){var c=this.parts[b];Array.isArray(c)&&1==c.length?a[b.toLowerCase()]=c[0]:a[b.toLowerCase()]=ICAL.helpers.clone(this.parts[b])}this.until&&
(a.until=this.until.toString());"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(a.wkst=ICAL.Recur.numericDayToIcalDay(this.wkst));return a},toString:function(){var a="FREQ\x3d"+this.freq;this.count&&(a+=";COUNT\x3d"+this.count);1<this.interval&&(a+=";INTERVAL\x3d"+this.interval);for(var b in this.parts)this.parts.hasOwnProperty(b)&&(a+=";"+b+"\x3d"+this.parts[b]);this.until&&(a+=";UNTIL\x3d"+this.until.toICALString());"wkst"in this&&this.wkst!==ICAL.Time.DEFAULT_WEEK_START&&(a+=";WKST\x3d"+
ICAL.Recur.numericDayToIcalDay(this.wkst));return a}};ICAL.Recur.icalDayToNumericDay=function(b){return a[b]};ICAL.Recur.numericDayToIcalDay=function(a){return c[a]};var e=/^(SU|MO|TU|WE|TH|FR|SA)$/,k=/^([+-])?(5[0-3]|[1-4][0-9]|[1-9])?(SU|MO|TU|WE|TH|FR|SA)$/,l="SECONDLY MINUTELY HOURLY DAILY WEEKLY MONTHLY YEARLY".split(" "),f={FREQ:function(a,b,c){if(-1!==l.indexOf(a))b.freq=a;else throw Error('invalid frequency "'+a+'" expected: "'+l.join(", ")+'"');},COUNT:function(a,b,c){b.count=ICAL.helpers.strictParseInt(a)},
INTERVAL:function(a,b,c){b.interval=ICAL.helpers.strictParseInt(a);1>b.interval&&(b.interval=1)},UNTIL:function(a,b,c){b.until=10<a.length?ICAL.design.icalendar.value["date-time"].fromICAL(a):ICAL.design.icalendar.value.date.fromICAL(a);c||(b.until=ICAL.Time.fromString(b.until))},WKST:function(a,b,c){if(e.test(a))b.wkst=ICAL.Recur.icalDayToNumericDay(a);else throw Error('invalid WKST value "'+a+'"');}},m={BYSECOND:b.bind(this,"BYSECOND",0,60),BYMINUTE:b.bind(this,"BYMINUTE",0,59),BYHOUR:b.bind(this,
"BYHOUR",0,23),BYDAY:function(a){if(k.test(a))return a;throw Error('invalid BYDAY value "'+a+'"');},BYMONTHDAY:b.bind(this,"BYMONTHDAY",-31,31),BYYEARDAY:b.bind(this,"BYYEARDAY",-366,366),BYWEEKNO:b.bind(this,"BYWEEKNO",-53,53),BYMONTH:b.bind(this,"BYMONTH",0,12),BYSETPOS:b.bind(this,"BYSETPOS",-366,366)};ICAL.Recur.fromString=function(a){a=ICAL.Recur._stringToData(a,!1);return new ICAL.Recur(a)};ICAL.Recur.fromData=function(a){return new ICAL.Recur(a)};ICAL.Recur._stringToData=function(a,b){var c=
Object.create(null);a=a.split(";");for(var d=a.length,e=0;e<d;e++){var g=a[e].split("\x3d"),k=g[0].toUpperCase(),l=g[0].toLowerCase(),r=b?l:k;g=g[1];if(k in m){l=g.split(",");g=0;for(var P=l.length;g<P;g++)l[g]=m[k](l[g]);c[r]=1==l.length?l[0]:l}else if(k in f)f[k](g,c,b);else c[l]=g}return c}})();
ICAL.RecurIterator=function(){function b(a){this.fromData(a)}b.prototype={completed:!1,rule:null,dtstart:null,last:null,occurrence_number:0,by_indices:null,initialized:!1,by_data:null,days:null,days_index:0,fromData:function(a){this.rule=ICAL.helpers.formatClassType(a.rule,ICAL.Recur);if(!this.rule)throw Error("iterator requires a (ICAL.Recur) rule");this.dtstart=ICAL.helpers.formatClassType(a.dtstart,ICAL.Time);if(!this.dtstart)throw Error("iterator requires a (ICAL.Time) dtstart");this.by_data=
a.by_data?a.by_data:ICAL.helpers.clone(this.rule.parts,!0);a.occurrence_number&&(this.occurrence_number=a.occurrence_number);this.days=a.days||[];a.last&&(this.last=ICAL.helpers.formatClassType(a.last,ICAL.Time));this.by_indices=a.by_indices;this.by_indices||(this.by_indices={BYSECOND:0,BYMINUTE:0,BYHOUR:0,BYDAY:0,BYMONTH:0,BYWEEKNO:0,BYMONTHDAY:0});(this.initialized=a.initialized||!1)||this.init()},init:function(){this.initialized=!0;this.last=this.dtstart.clone();var a=this.by_data;"BYDAY"in a&&
this.sort_byday_rules(a.BYDAY,this.rule.wkst);if("BYYEARDAY"in a&&("BYMONTH"in a||"BYWEEKNO"in a||"BYMONTHDAY"in a||"BYDAY"in a))throw Error("Invalid BYYEARDAY rule");if("BYWEEKNO"in a&&"BYMONTHDAY"in a)throw Error("BYWEEKNO does not fit to BYMONTHDAY");if("MONTHLY"==this.rule.freq&&("BYYEARDAY"in a||"BYWEEKNO"in a))throw Error("For MONTHLY recurrences neither BYYEARDAY nor BYWEEKNO may appear");if("WEEKLY"==this.rule.freq&&("BYYEARDAY"in a||"BYMONTHDAY"in a))throw Error("For WEEKLY recurrences neither BYMONTHDAY nor BYYEARDAY may appear");
if("YEARLY"!=this.rule.freq&&"BYYEARDAY"in a)throw Error("BYYEARDAY may only appear in YEARLY rules");this.last.second=this.setup_defaults("BYSECOND","SECONDLY",this.dtstart.second);this.last.minute=this.setup_defaults("BYMINUTE","MINUTELY",this.dtstart.minute);this.last.hour=this.setup_defaults("BYHOUR","HOURLY",this.dtstart.hour);this.last.day=this.setup_defaults("BYMONTHDAY","DAILY",this.dtstart.day);this.last.month=this.setup_defaults("BYMONTH","MONTHLY",this.dtstart.month);if("WEEKLY"==this.rule.freq)if("BYDAY"in
a){var b=this.ruleDayOfWeek(a.BYDAY[0]);b=b[1];a=b-this.last.dayOfWeek();if(this.last.dayOfWeek()<b&&0<=a||0>a)this.last.day+=a}else b=ICAL.Recur.numericDayToIcalDay(this.dtstart.dayOfWeek()),a.BYDAY=[b];if("YEARLY"==this.rule.freq){for(;;){this.expand_year_days(this.last.year);if(0<this.days.length)break;this.increment_year(this.rule.interval)}this._nextByYearDay()}if("MONTHLY"==this.rule.freq&&this.has_by_data("BYDAY")){var d=null,e=this.last.clone(),k=ICAL.Time.daysInMonth(this.last.month,this.last.year),
l;for(l in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(l)){this.last=e.clone();b=this.ruleDayOfWeek(this.by_data.BYDAY[l]);a=b[0];b=b[1];var f=this.last.nthWeekDay(b,a);if(6<=a||-6>=a)throw Error("Malformed values in BYDAY part");if(f>k||0>=f){if(d&&d.month==e.month)continue;for(;f>k||0>=f;)this.increment_month(),k=ICAL.Time.daysInMonth(this.last.month,this.last.year),f=this.last.nthWeekDay(b,a)}this.last.day=f;if(!d||0>this.last.compare(d))d=this.last.clone()}this.last=d.clone();this.has_by_data("BYMONTHDAY")&&
this._byDayAndMonthDay(!0);if(this.last.day>k||0==this.last.day)throw Error("Malformed values in BYDAY part");}else this.has_by_data("BYMONTHDAY")&&0>this.last.day&&(k=ICAL.Time.daysInMonth(this.last.month,this.last.year),this.last.day=k+this.last.day+1)},next:function(){var a=this.last?this.last.clone():null;if(this.rule.count&&this.occurrence_number>=this.rule.count||this.rule.until&&0<this.last.compare(this.rule.until))return this.completed=!0,null;if(0==this.occurrence_number&&0<=this.last.compare(this.dtstart))return this.occurrence_number++,
this.last;do{var b=1;switch(this.rule.freq){case "SECONDLY":this.next_second();break;case "MINUTELY":this.next_minute();break;case "HOURLY":this.next_hour();break;case "DAILY":this.next_day();break;case "WEEKLY":this.next_week();break;case "MONTHLY":b=this.next_month();break;case "YEARLY":this.next_year();break;default:return null}}while(!this.check_contracting_rules()||0>this.last.compare(this.dtstart)||!b);if(0==this.last.compare(a))throw Error("Same occurrence found twice, protecting you from death by recursion");
if(this.rule.until&&0<this.last.compare(this.rule.until))return this.completed=!0,null;this.occurrence_number++;return this.last},next_second:function(){return this.next_generic("BYSECOND","SECONDLY","second","minute")},increment_second:function(a){return this.increment_generic(a,"second",60,"minute")},next_minute:function(){return this.next_generic("BYMINUTE","MINUTELY","minute","hour","next_second")},increment_minute:function(a){return this.increment_generic(a,"minute",60,"hour")},next_hour:function(){return this.next_generic("BYHOUR",
"HOURLY","hour","monthday","next_minute")},increment_hour:function(a){this.increment_generic(a,"hour",24,"monthday")},next_day:function(){var a="DAILY"==this.rule.freq;if(0==this.next_hour())return 0;a?this.increment_monthday(this.rule.interval):this.increment_monthday(1);return 0},next_week:function(){var a=0;if(0==this.next_weekday_by_week())return a;this.has_by_data("BYWEEKNO")?(++this.by_indices.BYWEEKNO,this.by_indices.BYWEEKNO==this.by_data.BYWEEKNO.length&&(this.by_indices.BYWEEKNO=0,a=1),
this.last.month=1,this.last.day=1,this.last.day+=7*this.by_data.BYWEEKNO[this.by_indices.BYWEEKNO],a&&this.increment_year(1)):this.increment_monthday(7*this.rule.interval);return a},normalizeByMonthDayRules:function(a,b,d){a=ICAL.Time.daysInMonth(b,a);b=[];for(var c=0,k=d.length,l;c<k;c++)if(l=d[c],!(Math.abs(l)>a)){if(0>l)l=a+(l+1);else if(0===l)continue;-1===b.indexOf(l)&&b.push(l)}return b.sort(function(a,b){return a-b})},_byDayAndMonthDay:function(a){function b(){g=ICAL.Time.daysInMonth(n.last.month,
n.last.year);e=n.normalizeByMonthDayRules(n.last.year,n.last.month,n.by_data.BYMONTHDAY);for(f=e.length;e[l]<=x&&(!a||e[l]!=x)&&l<f-1;)l++}function d(){x=0;n.increment_month();l=0;b()}var e,k=this.by_data.BYDAY,l=0,f,m=k.length,r=0,g,n=this,x=this.last.day;b();a&&--x;for(var y=48;!r&&y;){y--;var D=x+1;if(D>g)d();else{var w=e[l++];if(w>=D){x=w;for(D=0;D<m;D++){var B=this.ruleDayOfWeek(k[D]);w=B[0];B=B[1];this.last.day=x;if(this.last.isNthWeekDay(B,w)){r=1;break}}r||l!==f||d()}else d()}}if(0>=y)throw Error("Malformed values in BYDAY combined with BYMONTHDAY parts");
return r},next_month:function(){var a=1;if(0==this.next_hour())return a;if(this.has_by_data("BYDAY")&&this.has_by_data("BYMONTHDAY"))a=this._byDayAndMonthDay();else if(this.has_by_data("BYDAY")){var b=ICAL.Time.daysInMonth(this.last.month,this.last.year),d=0,e=0;if(this.has_by_data("BYSETPOS")){a=this.last.day;for(var k=1;k<=b;k++)this.last.day=k,this.is_day_in_byday(this.last)&&(e++,k<=a&&d++);this.last.day=a}a=0;for(k=this.last.day+1;k<=b;k++)if(this.last.day=k,this.is_day_in_byday(this.last)&&
(!this.has_by_data("BYSETPOS")||this.check_set_position(++d)||this.check_set_position(d-e-1))){a=1;break}if(k>b)if(this.last.day=1,this.increment_month(),this.is_day_in_byday(this.last)){if(!this.has_by_data("BYSETPOS")||this.check_set_position(1))a=1}else a=0}else this.has_by_data("BYMONTHDAY")?(this.by_indices.BYMONTHDAY++,this.by_indices.BYMONTHDAY>=this.by_data.BYMONTHDAY.length&&(this.by_indices.BYMONTHDAY=0,this.increment_month()),b=ICAL.Time.daysInMonth(this.last.month,this.last.year),k=this.by_data.BYMONTHDAY[this.by_indices.BYMONTHDAY],
0>k&&(k=b+k+1),k>b?(this.last.day=1,a=this.is_day_in_byday(this.last)):this.last.day=k):(this.increment_month(),b=ICAL.Time.daysInMonth(this.last.month,this.last.year),this.by_data.BYMONTHDAY[0]>b?a=0:this.last.day=this.by_data.BYMONTHDAY[0]);return a},next_weekday_by_week:function(){var a=0;if(0==this.next_hour())return a;if(!this.has_by_data("BYDAY"))return 1;for(;;){var b=new ICAL.Time;this.by_indices.BYDAY++;this.by_indices.BYDAY==Object.keys(this.by_data.BYDAY).length&&(this.by_indices.BYDAY=
0,a=1);var d=this.ruleDayOfWeek(this.by_data.BYDAY[this.by_indices.BYDAY])[1];d-=this.rule.wkst;0>d&&(d+=7);b.year=this.last.year;b.month=this.last.month;b.day=this.last.day;b=b.startDoyWeek(this.rule.wkst);if(!(1>d+b)||a)return d=ICAL.Time.fromDayOfYear(b+d,this.last.year),this.last.year=d.year,this.last.month=d.month,this.last.day=d.day,a}},next_year:function(){if(0==this.next_hour())return 0;if(++this.days_index==this.days.length){this.days_index=0;do this.increment_year(this.rule.interval),this.expand_year_days(this.last.year);
while(0==this.days.length)}this._nextByYearDay();return 1},_nextByYearDay:function(){var a=this.days[this.days_index],b=this.last.year;1>a&&(a+=1,b+=1);a=ICAL.Time.fromDayOfYear(a,b);this.last.day=a.day;this.last.month=a.month},ruleDayOfWeek:function(a){if(a=a.match(/([+-]?[0-9])?(MO|TU|WE|TH|FR|SA|SU)/)){var b=parseInt(a[1]||0,10);a=ICAL.Recur.icalDayToNumericDay(a[2]);return[b,a]}return[0,0]},next_generic:function(a,b,d,e,k){var c=a in this.by_data;b=this.rule.freq==b;var f=0;if(k&&0==this[k]())return f;
if(c)this.by_indices[a]++,k=this.by_data[a],this.by_indices[a]==k.length&&(this.by_indices[a]=0,f=1),this.last[d]=k[this.by_indices[a]];else if(b)this["increment_"+d](this.rule.interval);if(c&&f&&b)this["increment_"+e](1);return f},increment_monthday:function(a){for(var b=0;b<a;b++){var d=ICAL.Time.daysInMonth(this.last.month,this.last.year);this.last.day++;this.last.day>d&&(this.last.day-=d,this.increment_month())}},increment_month:function(){this.last.day=1;if(this.has_by_data("BYMONTH"))this.by_indices.BYMONTH++,
this.by_indices.BYMONTH==this.by_data.BYMONTH.length&&(this.by_indices.BYMONTH=0,this.increment_year(1)),this.last.month=this.by_data.BYMONTH[this.by_indices.BYMONTH];else{"MONTHLY"==this.rule.freq?this.last.month+=this.rule.interval:this.last.month++;this.last.month--;var a=ICAL.helpers.trunc(this.last.month/12);this.last.month%=12;this.last.month++;0!=a&&this.increment_year(a)}},increment_year:function(a){this.last.year+=a},increment_generic:function(a,b,d,e){this.last[b]+=a;a=ICAL.helpers.trunc(this.last[b]/
d);this.last[b]%=d;if(0!=a)this["increment_"+e](a)},has_by_data:function(a){return a in this.rule.parts},expand_year_days:function(a){var b=new ICAL.Time;this.days=[];var d={},e=["BYDAY","BYWEEKNO","BYMONTHDAY","BYMONTH","BYYEARDAY"];for(l in e)if(e.hasOwnProperty(l)){var k=e[l];k in this.rule.parts&&(d[k]=this.rule.parts[k])}if("BYMONTH"in d&&"BYWEEKNO"in d){e=1;var l={};b.year=a;b.isDate=!0;for(k=0;k<this.by_data.BYMONTH.length;k++){var f=this.by_data.BYMONTH[k];b.month=f;b.day=1;k=b.weekNumber(this.rule.wkst);
b.day=ICAL.Time.daysInMonth(f,a);for(f=b.weekNumber(this.rule.wkst);k<f;k++)l[k]=1}for(f=0;f<this.by_data.BYWEEKNO.length&&e;f++)k=this.by_data.BYWEEKNO[f],e=52>k?e&l[f]:0;e?delete d.BYMONTH:delete d.BYWEEKNO}e=Object.keys(d).length;if(0==e)a=this.dtstart.clone(),a.year=this.last.year,this.days.push(a.dayOfYear());else if(1==e&&"BYMONTH"in d)for(var m in this.by_data.BYMONTH)this.by_data.BYMONTH.hasOwnProperty(m)&&(b=this.dtstart.clone(),b.year=a,b.month=this.by_data.BYMONTH[m],b.isDate=!0,this.days.push(b.dayOfYear()));
else if(1==e&&"BYMONTHDAY"in d)for(var r in this.by_data.BYMONTHDAY){if(this.by_data.BYMONTHDAY.hasOwnProperty(r)){m=this.dtstart.clone();var g=this.by_data.BYMONTHDAY[r];if(0>g){var n=ICAL.Time.daysInMonth(m.month,a);g=g+n+1}m.day=g;m.year=a;m.isDate=!0;this.days.push(m.dayOfYear())}}else if(2==e&&"BYMONTHDAY"in d&&"BYMONTH"in d)for(m in this.by_data.BYMONTH){if(this.by_data.BYMONTH.hasOwnProperty(m))for(r in d=this.by_data.BYMONTH[m],n=ICAL.Time.daysInMonth(d,a),this.by_data.BYMONTHDAY)this.by_data.BYMONTHDAY.hasOwnProperty(r)&&
(g=this.by_data.BYMONTHDAY[r],0>g&&(g=g+n+1),b.day=g,b.month=d,b.year=a,b.isDate=!0,this.days.push(b.dayOfYear()))}else if(!(1==e&&"BYWEEKNO"in d||2==e&&"BYWEEKNO"in d&&"BYMONTHDAY"in d))if(1==e&&"BYDAY"in d)this.days=this.days.concat(this.expand_by_day(a));else if(2==e&&"BYDAY"in d&&"BYMONTH"in d){for(m in this.by_data.BYMONTH)if(this.by_data.BYMONTH.hasOwnProperty(m))if(f=this.by_data.BYMONTH[m],n=ICAL.Time.daysInMonth(f,a),b.year=a,b.month=this.by_data.BYMONTH[m],b.day=1,b.isDate=!0,d=b.dayOfWeek(),
r=b.dayOfYear()-1,b.day=n,e=b.dayOfWeek(),this.has_by_data("BYSETPOS")){d=[];for(l=1;l<=n;l++)b.day=l,this.is_day_in_byday(b)&&d.push(l);for(n=0;n<d.length;n++)(this.check_set_position(n+1)||this.check_set_position(n-d.length))&&this.days.push(r+d[n])}else for(g in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(g))if(k=this.ruleDayOfWeek(this.by_data.BYDAY[g]),l=k[0],f=k[1],k=(f+7-d)%7+1,f=n-(e+7-f)%7,0==l)for(l=k;l<=n;l+=7)this.days.push(r+l);else 0<l?(l=k+7*(l-1),l<=n&&this.days.push(r+
l)):(l=f+7*(l+1),0<l&&this.days.push(r+l));this.days.sort(function(a,b){return a-b})}else if(2==e&&"BYDAY"in d&&"BYMONTHDAY"in d)for(n in m=this.expand_by_day(a),m)m.hasOwnProperty(n)&&(l=m[n],b=ICAL.Time.fromDayOfYear(l,a),0<=this.by_data.BYMONTHDAY.indexOf(b.day)&&this.days.push(l));else if(3==e&&"BYDAY"in d&&"BYMONTHDAY"in d&&"BYMONTH"in d)for(n in m=this.expand_by_day(a),m)m.hasOwnProperty(n)&&(l=m[n],b=ICAL.Time.fromDayOfYear(l,a),0<=this.by_data.BYMONTH.indexOf(b.month)&&0<=this.by_data.BYMONTHDAY.indexOf(b.day)&&
this.days.push(l));else if(2==e&&"BYDAY"in d&&"BYWEEKNO"in d)for(n in m=this.expand_by_day(a),m)m.hasOwnProperty(n)&&(l=m[n],b=ICAL.Time.fromDayOfYear(l,a),k=b.weekNumber(this.rule.wkst),this.by_data.BYWEEKNO.indexOf(k)&&this.days.push(l));else 3==e&&"BYDAY"in d&&"BYWEEKNO"in d&&"BYMONTHDAY"in d||(this.days=1==e&&"BYYEARDAY"in d?this.days.concat(this.by_data.BYYEARDAY):[]);return 0},expand_by_day:function(a){var b=[],d=this.last.clone();d.year=a;d.month=1;d.day=1;d.isDate=!0;a=d.dayOfWeek();d.month=
12;d.day=31;d.isDate=!0;var e=d.dayOfWeek();d=d.dayOfYear();for(var k in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(k)){var l=this.ruleDayOfWeek(this.by_data.BYDAY[k]),f=l[0];l=l[1];if(0==f)for(f=(l+7-a)%7+1;f<=d;f+=7)b.push(f);else 0<f?b.push((l>=a?l-a+1:l-a+8)+7*(f-1)):(f=-f,b.push((l<=e?d-e+l:d-e+l-7)-7*(f-1)))}return b},is_day_in_byday:function(a){for(var b in this.by_data.BYDAY)if(this.by_data.BYDAY.hasOwnProperty(b)){var d=this.ruleDayOfWeek(this.by_data.BYDAY[b]),e=d[0];d=d[1];
var k=a.dayOfWeek();if(0==e&&d==k||a.nthWeekDay(d,e)==a.day)return 1}return 0},check_set_position:function(a){return this.has_by_data("BYSETPOS")?-1!==this.by_data.BYSETPOS.indexOf(a):!1},sort_byday_rules:function(a,b){for(var c=0;c<a.length;c++)for(var e=0;e<c;e++){var k=this.ruleDayOfWeek(a[e])[1],l=this.ruleDayOfWeek(a[c])[1];k-=b;l-=b;0>k&&(k+=7);0>l&&(l+=7);k>l&&(k=a[c],a[c]=a[e],a[e]=k)}},check_contract_restriction:function(a,c){var d=b._expandMap[this.rule.freq][b._indexMap[a]],e=!1;if(a in
this.by_data&&d==b.CONTRACT){a=this.by_data[a];for(var k in a)if(a.hasOwnProperty(k)&&a[k]==c){e=!0;break}}else e=!0;return e},check_contracting_rules:function(){var a=this.last.dayOfWeek(),b=this.last.weekNumber(this.rule.wkst),d=this.last.dayOfYear();return this.check_contract_restriction("BYSECOND",this.last.second)&&this.check_contract_restriction("BYMINUTE",this.last.minute)&&this.check_contract_restriction("BYHOUR",this.last.hour)&&this.check_contract_restriction("BYDAY",ICAL.Recur.numericDayToIcalDay(a))&&
this.check_contract_restriction("BYWEEKNO",b)&&this.check_contract_restriction("BYMONTHDAY",this.last.day)&&this.check_contract_restriction("BYMONTH",this.last.month)&&this.check_contract_restriction("BYYEARDAY",d)},setup_defaults:function(a,c,d){return b._expandMap[this.rule.freq][b._indexMap[a]]!=b.CONTRACT&&(a in this.by_data||(this.by_data[a]=[d]),this.rule.freq!=c)?this.by_data[a][0]:d},toJSON:function(){var a=Object.create(null);a.initialized=this.initialized;a.rule=this.rule.toJSON();a.dtstart=
this.dtstart.toJSON();a.by_data=this.by_data;a.days=this.days;a.last=this.last.toJSON();a.by_indices=this.by_indices;a.occurrence_number=this.occurrence_number;return a}};b._indexMap={BYSECOND:0,BYMINUTE:1,BYHOUR:2,BYDAY:3,BYMONTHDAY:4,BYYEARDAY:5,BYWEEKNO:6,BYMONTH:7,BYSETPOS:8};b._expandMap={SECONDLY:[1,1,1,1,1,1,1,1],MINUTELY:[2,1,1,1,1,1,1,1],HOURLY:[2,2,1,1,1,1,1,1],DAILY:[2,2,2,1,1,1,1,1],WEEKLY:[2,2,2,2,3,3,1,1],MONTHLY:[2,2,2,2,2,3,3,1],YEARLY:[2,2,2,2,2,2,2,2]};b.UNKNOWN=0;b.CONTRACT=1;b.EXPAND=
2;b.ILLEGAL=3;return b}();
ICAL.RecurExpansion=function(){function b(a){return ICAL.helpers.formatClassType(a,ICAL.Time)}function a(a,b){return a.compare(b)}function c(a){this.ruleDates=[];this.exDates=[];this.fromData(a)}c.prototype={complete:!1,ruleIterators:null,ruleDates:null,exDates:null,ruleDateInc:0,exDateInc:0,exDate:null,ruleDate:null,dtstart:null,last:null,fromData:function(a){var c=ICAL.helpers.formatClassType(a.dtstart,ICAL.Time);if(c)this.dtstart=c;else throw Error(".dtstart (ICAL.Time) must be given");if(a.component)this._init(a.component);
else{this.last=b(a.last)||c.clone();if(!a.ruleIterators)throw Error(".ruleIterators or .component must be given");this.ruleIterators=a.ruleIterators.map(function(a){return ICAL.helpers.formatClassType(a,ICAL.RecurIterator)});this.ruleDateInc=a.ruleDateInc;this.exDateInc=a.exDateInc;a.ruleDates&&(this.ruleDates=a.ruleDates.map(b),this.ruleDate=this.ruleDates[this.ruleDateInc]);a.exDates&&(this.exDates=a.exDates.map(b),this.exDate=this.exDates[this.exDateInc]);"undefined"!==typeof a.complete&&(this.complete=
a.complete)}},next:function(){for(var a,b,c=0;;){if(500<c++)throw Error("max tries have occured, rule may be impossible to forfill.");b=this.ruleDate;a=this._nextRecurrenceIter(this.last);if(!b&&!a){this.complete=!0;break}if(!b||a&&0<b.compare(a.last))b=a.last.clone(),a.next();this.ruleDate===b&&this._nextRuleDay();this.last=b;if(this.exDate&&(a=this.exDate.compare(this.last),0>a&&this._nextExDay(),0===a)){this._nextExDay();continue}return this.last}},toJSON:function(){function a(a){return a.toJSON()}
var b=Object.create(null);b.ruleIterators=this.ruleIterators.map(a);this.ruleDates&&(b.ruleDates=this.ruleDates.map(a));this.exDates&&(b.exDates=this.exDates.map(a));b.ruleDateInc=this.ruleDateInc;b.exDateInc=this.exDateInc;b.last=this.last.toJSON();b.dtstart=this.dtstart.toJSON();b.complete=this.complete;return b},_extractDates:function(b,c){function d(b){m=ICAL.helpers.binsearchInsert(e,b,a);e.splice(m,0,b)}var e=[];b=b.getAllProperties(c);c=b.length;for(var f=0,m;f<c;f++)b[f].getValues().forEach(d);
return e},_init:function(b){this.ruleIterators=[];this.last=this.dtstart.clone();if(b.hasProperty("rdate")||b.hasProperty("rrule")||b.hasProperty("recurrence-id")){b.hasProperty("rdate")&&(this.ruleDates=this._extractDates(b,"rdate"),this.ruleDates[0]&&0>this.ruleDates[0].compare(this.dtstart)?(this.ruleDateInc=0,this.last=this.ruleDates[0].clone()):this.ruleDateInc=ICAL.helpers.binsearchInsert(this.ruleDates,this.last,a),this.ruleDate=this.ruleDates[this.ruleDateInc]);if(b.hasProperty("rrule"))for(var c=
b.getAllProperties("rrule"),d=0,l=c.length,f;d<l;d++)f=c[d].getFirstValue(),f=f.iterator(this.dtstart),this.ruleIterators.push(f),f.next();b.hasProperty("exdate")&&(this.exDates=this._extractDates(b,"exdate"),this.exDateInc=ICAL.helpers.binsearchInsert(this.exDates,this.last,a),this.exDate=this.exDates[this.exDateInc])}else this.ruleDate=this.last.clone(),this.complete=!0},_nextExDay:function(){this.exDate=this.exDates[++this.exDateInc]},_nextRuleDay:function(){this.ruleDate=this.ruleDates[++this.ruleDateInc]},
_nextRecurrenceIter:function(){var a=this.ruleIterators;if(0===a.length)return null;for(var b=a.length,c,l,f=0,m;f<b;f++)if(c=a[f],l=c.last,c.completed)b--,0!==f&&f--,a.splice(f,1);else if(!m||0<m.last.compare(l))m=c;return m}};return c}();
ICAL.Event=function(){function b(a,b){a instanceof ICAL.Component||(b=a,a=null);this.component=a?a:new ICAL.Component("vevent");this._rangeExceptionCache=Object.create(null);this.exceptions=Object.create(null);this.rangeExceptions=[];b&&b.strictExceptions&&(this.strictExceptions=b.strictExceptions);b&&b.exceptions?b.exceptions.forEach(this.relateException,this):this.component.parent&&!this.isRecurrenceException()&&this.component.parent.getAllSubcomponents("vevent").forEach(function(a){a.hasProperty("recurrence-id")&&
this.relateException(a)},this)}function a(a,b){return a[0]>b[0]?1:b[0]>a[0]?-1:0}b.prototype={THISANDFUTURE:"THISANDFUTURE",exceptions:null,strictExceptions:!1,relateException:function(b){if(this.isRecurrenceException())throw Error("cannot relate exception to exceptions");b instanceof ICAL.Component&&(b=new ICAL.Event(b));if(this.strictExceptions&&b.uid!==this.uid)throw Error("attempted to relate unrelated exception");var c=b.recurrenceId.toString();this.exceptions[c]=b;b.modifiesFuture()&&(b=[b.recurrenceId.toUnixTime(),
c],c=ICAL.helpers.binsearchInsert(this.rangeExceptions,b,a),this.rangeExceptions.splice(c,0,b))},modifiesFuture:function(){return this.component.hasProperty("recurrence-id")?this.component.getFirstProperty("recurrence-id").getParameter("range")===this.THISANDFUTURE:!1},findRangeException:function(b){if(!this.rangeExceptions.length)return null;b=b.toUnixTime();var c=ICAL.helpers.binsearchInsert(this.rangeExceptions,[b],a);--c;if(0>c)return null;c=this.rangeExceptions[c];return b<c[0]?null:c[1]},getOccurrenceDetails:function(a){var b=
a.toString(),c=a.convertToZone(ICAL.Timezone.utcTimezone).toString(),k={recurrenceId:a};if(b in this.exceptions)a=k.item=this.exceptions[b],k.startDate=a.startDate,k.endDate=a.endDate,k.item=a;else if(c in this.exceptions)a=this.exceptions[c],k.startDate=a.startDate,k.endDate=a.endDate,k.item=a;else if(c=this.findRangeException(a)){b=this.exceptions[c];k.item=b;var l=this._rangeExceptionCache[c];if(!l){l=b.recurrenceId.clone();var f=b.startDate.clone();l.zone=f.zone;l=f.subtractDate(l);this._rangeExceptionCache[c]=
l}a=a.clone();a.zone=b.startDate.zone;a.addDuration(l);c=a.clone();c.addDuration(b.duration);k.startDate=a;k.endDate=c}else c=a.clone(),c.addDuration(this.duration),k.endDate=c,k.startDate=a,k.item=this;return k},iterator:function(a){return new ICAL.RecurExpansion({component:this.component,dtstart:a||this.startDate})},isRecurring:function(){var a=this.component;return a.hasProperty("rrule")||a.hasProperty("rdate")},isRecurrenceException:function(){return this.component.hasProperty("recurrence-id")},
getRecurrenceTypes:function(){for(var a=this.component.getAllProperties("rrule"),b=0,e=a.length,k=Object.create(null);b<e;b++){var l=a[b].getFirstValue();k[l.freq]=!0}return k},get uid(){return this._firstProp("uid")},set uid(a){this._setProp("uid",a)},get startDate(){return this._firstProp("dtstart")},set startDate(a){this._setTime("dtstart",a)},get endDate(){var a=this._firstProp("dtend");if(!a){var b=this._firstProp("duration");a=this.startDate.clone();b?a.addDuration(b):a.isDate&&(a.day+=1)}return a},
set endDate(a){this.component.hasProperty("duration")&&this.component.removeProperty("duration");this._setTime("dtend",a)},get duration(){var a=this._firstProp("duration");return a?a:this.endDate.subtractDate(this.startDate)},set duration(a){this.component.hasProperty("dtend")&&this.component.removeProperty("dtend");this._setProp("duration",a)},get location(){return this._firstProp("location")},set location(a){return this._setProp("location",a)},get attendees(){return this.component.getAllProperties("attendee")},
get summary(){return this._firstProp("summary")},set summary(a){this._setProp("summary",a)},get description(){return this._firstProp("description")},set description(a){this._setProp("description",a)},get organizer(){return this._firstProp("organizer")},set organizer(a){this._setProp("organizer",a)},get sequence(){return this._firstProp("sequence")},set sequence(a){this._setProp("sequence",a)},get recurrenceId(){return this._firstProp("recurrence-id")},set recurrenceId(a){this._setProp("recurrence-id",
a)},_setTime:function(a,b){var c=this.component.getFirstProperty(a);c||(c=new ICAL.Property(a),this.component.addProperty(c));b.zone===ICAL.Timezone.localTimezone||b.zone===ICAL.Timezone.utcTimezone?c.removeParameter("tzid"):c.setParameter("tzid",b.zone.tzid);c.setValue(b)},_setProp:function(a,b){this.component.updatePropertyWithValue(a,b)},_firstProp:function(a){return this.component.getFirstPropertyValue(a)},toString:function(){return this.component.toString()}};return b}();
ICAL.ComponentParser=function(){function b(a){"undefined"===typeof a&&(a={});for(var b in a)a.hasOwnProperty(b)&&(this[b]=a[b])}b.prototype={parseEvent:!0,parseTimezone:!0,oncomplete:function(){},onerror:function(a){},ontimezone:function(a){},onevent:function(a){},process:function(a){"string"===typeof a&&(a=ICAL.parse(a));a instanceof ICAL.Component||(a=new ICAL.Component(a));a=a.getAllSubcomponents();for(var b=0,d=a.length,e;b<d;b++)switch(e=a[b],e.name){case "vtimezone":if(this.parseTimezone){var k=
e.getFirstPropertyValue("tzid");if(k)this.ontimezone(new ICAL.Timezone({tzid:k,component:e}))}break;case "vevent":if(this.parseEvent)this.onevent(new ICAL.Event(e))}this.oncomplete()}};return b}();
later=function(){var b={version:"1.2.0"};Array.prototype.indexOf||(Array.prototype.indexOf=function(a){if(null==this)throw new TypeError;var b=Object(this),d=b.length>>>0;if(0===d)return-1;var e=0;1<arguments.length&&(e=Number(arguments[1]),e!=e?e=0:0!=e&&Infinity!=e&&-Infinity!=e&&(e=(0<e||-1)*Math.floor(Math.abs(e))));if(e>=d)return-1;for(e=0<=e?e:Math.max(d-Math.abs(e),0);e<d;e++)if(e in b&&b[e]===a)return e;return-1});String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,
"")});b.array={};b.array.sort=function(a,b){a.sort(function(a,b){return+a-+b});b&&0===a[0]&&a.push(a.shift())};b.array.next=function(a,b,d){for(var c,k=0!==d[0],l=0,f=b.length-1;-1<f;--f){c=b[f];if(c===a)return c;if(c>a||0===c&&k&&d[1]>a)l=f;else break}return b[l]};b.array.nextInvalid=function(a,b,d){var c=d[0];d=d[1];var k=b.length,l=0===b[k-1]&&0!==c?d:0,f=a;a=b.indexOf(a);for(var m=f;f===(b[a]||l);)if(f++,f>d&&(f=c),a++,a===k&&(a=0),f===m)return;return f};b.array.prev=function(a,b,d){for(var c,
k=b.length,l=0!==d[0],f=k-1,m=0;m<k;m++){c=b[m];if(c===a)return c;if(c<a||0===c&&l&&d[1]<a)f=m;else break}return b[f]};b.array.prevInvalid=function(a,b,d){var c=d[0];d=d[1];var k=b.length,l=0===b[k-1]&&0!==c?d:0,f=a;a=b.indexOf(a);for(var m=f;f===(b[a]||l);)if(f--,f<c&&(f=d),a--,-1===a&&(a=k-1),f===m)return;return f};b.day=b.D={name:"day",range:86400,val:function(a){return a.D||(a.D=b.date.getDate.call(a))},isValid:function(a,c){return b.D.val(a)===(c||b.D.extent(a)[1])},extent:function(a){if(a.DExtent)return a.DExtent;
var c=b.M.val(a),d=b.DAYS_IN_MONTH[c-1];2===c&&366===b.dy.extent(a)[1]&&(d+=1);return a.DExtent=[1,d]},start:function(a){return a.DStart||(a.DStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)))},end:function(a){return a.DEnd||(a.DEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)))},next:function(a,c){c=c>b.D.extent(a)[1]?1:c;a=b.date.nextRollover(a,c,b.D,b.M);var d=b.D.extent(a)[1];c=c>d?1:c||d;return b.date.next(b.Y.val(a),b.M.val(a),c)},prev:function(a,c){a=b.date.prevRollover(a,c,b.D,b.M);var d=
b.D.extent(a)[1];return b.date.prev(b.Y.val(a),b.M.val(a),c>d?d:c||d)}};b.dayOfWeekCount=b.dc={name:"day of week count",range:604800,val:function(a){return a.dc||(a.dc=Math.floor((b.D.val(a)-1)/7)+1)},isValid:function(a,c){return b.dc.val(a)===c||0===c&&b.D.val(a)>b.D.extent(a)[1]-7},extent:function(a){return a.dcExtent||(a.dcExtent=[1,Math.ceil(b.D.extent(a)[1]/7)])},start:function(a){return a.dcStart||(a.dcStart=b.date.next(b.Y.val(a),b.M.val(a),Math.max(1,7*(b.dc.val(a)-1)+1||1)))},end:function(a){return a.dcEnd||
(a.dcEnd=b.date.prev(b.Y.val(a),b.M.val(a),Math.min(7*b.dc.val(a),b.D.extent(a)[1])))},next:function(a,c){c=c>b.dc.extent(a)[1]?1:c;var d=b.date.nextRollover(a,c,b.dc,b.M),e=b.dc.extent(d)[1];c=c>e?1:c;d=b.date.next(b.Y.val(d),b.M.val(d),0===c?b.D.extent(d)[1]-6:1+7*(c-1));return d.getTime()<=a.getTime()?(d=b.M.next(a,b.M.val(a)+1),b.date.next(b.Y.val(d),b.M.val(d),0===c?b.D.extent(d)[1]-6:1+7*(c-1))):d},prev:function(a,c){a=b.date.prevRollover(a,c,b.dc,b.M);var d=b.dc.extent(a)[1];c=c>d?d:c||d;return b.dc.end(b.date.prev(b.Y.val(a),
b.M.val(a),1+7*(c-1)))}};b.dayOfWeek=b.dw=b.d={name:"day of week",range:86400,val:function(a){return a.dw||(a.dw=b.date.getDay.call(a)+1)},isValid:function(a,c){return b.dw.val(a)===(c||7)},extent:function(){return[1,7]},start:function(a){return b.D.start(a)},end:function(a){return b.D.end(a)},next:function(a,c){c=7<c?1:c||7;return b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c-b.dw.val(a))+(c<=b.dw.val(a)?7:0))},prev:function(a,c){c=7<c?7:c||7;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)+
(c-b.dw.val(a))+(c>=b.dw.val(a)?-7:0))}};b.dayOfYear=b.dy={name:"day of year",range:86400,val:function(a){return a.dy||(a.dy=Math.ceil(1+(b.D.start(a).getTime()-b.Y.start(a).getTime())/b.DAY))},isValid:function(a,c){return b.dy.val(a)===(c||b.dy.extent(a)[1])},extent:function(a){var c=b.Y.val(a);return a.dyExtent||(a.dyExtent=[1,c%4?365:366])},start:function(a){return b.D.start(a)},end:function(a){return b.D.end(a)},next:function(a,c){c=c>b.dy.extent(a)[1]?1:c;a=b.date.nextRollover(a,c,b.dy,b.Y);
var d=b.dy.extent(a)[1];c=c>d?1:c||d;return b.date.next(b.Y.val(a),b.M.val(a),c)},prev:function(a,c){a=b.date.prevRollover(a,c,b.dy,b.Y);var d=b.dy.extent(a)[1];c=c>d?d:c||d;return b.date.prev(b.Y.val(a),b.M.val(a),c)}};b.hour=b.h={name:"hour",range:3600,val:function(a){return a.h||(a.h=b.date.getHour.call(a))},isValid:function(a,c){return b.h.val(a)===c},extent:function(){return[0,23]},start:function(a){return a.hStart||(a.hStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a)))},end:function(a){return a.hEnd||
(a.hEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a)))},next:function(a,c){c=23<c?0:c;var d=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c<=b.h.val(a)?1:0),c);!b.date.isUTC&&d.getTime()<=a.getTime()&&(d=b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d),c+1));return d},prev:function(a,c){c=23<c?23:c;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)+(c>=b.h.val(a)?-1:0),c)}};b.minute=b.m={name:"minute",range:60,val:function(a){return a.m||(a.m=b.date.getMin.call(a))},isValid:function(a,c){return b.m.val(a)===
c},extent:function(a){return[0,59]},start:function(a){return a.mStart||(a.mStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a),b.m.val(a)))},end:function(a){return a.mEnd||(a.mEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a),b.m.val(a)))},next:function(a,c){var d=b.m.val(a),e=b.s.val(a);c=59<c?60-d:c<=d?60-d+c:c-d;d=new Date(a.getTime()+c*b.MIN-e*b.SEC);!b.date.isUTC&&d.getTime()<=a.getTime()&&(d=new Date(a.getTime()+(c+120)*b.MIN-e*b.SEC));return d},prev:function(a,c){c=59<c?
59:c;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a)+(c>=b.m.val(a)?-1:0),c)}};b.month=b.M={name:"month",range:2629740,val:function(a){return a.M||(a.M=b.date.getMonth.call(a)+1)},isValid:function(a,c){return b.M.val(a)===(c||12)},extent:function(){return[1,12]},start:function(a){return a.MStart||(a.MStart=b.date.next(b.Y.val(a),b.M.val(a)))},end:function(a){return a.MEnd||(a.MEnd=b.date.prev(b.Y.val(a),b.M.val(a)))},next:function(a,c){c=12<c?1:c||12;return b.date.next(b.Y.val(a)+(c>
b.M.val(a)?0:1),c)},prev:function(a,c){c=12<c?12:c||12;return b.date.prev(b.Y.val(a)-(c>=b.M.val(a)?1:0),c)}};b.second=b.s={name:"second",range:1,val:function(a){return a.s||(a.s=b.date.getSec.call(a))},isValid:function(a,c){return b.s.val(a)===c},extent:function(){return[0,59]},start:function(a){return a},end:function(a){return a},next:function(a,c){var d=b.s.val(a);c=59<c?60-d:c<=d?60-d+c:c-d;d=new Date(a.getTime()+c*b.SEC);!b.date.isUTC&&d.getTime()<=a.getTime()&&(d=new Date(a.getTime()+(c+7200)*
b.SEC));return d},prev:function(a,c,d){c=59<c?59:c;return b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a),b.h.val(a),b.m.val(a)+(c>=b.s.val(a)?-1:0),c)}};b.time=b.t={name:"time",range:1,val:function(a){return a.t||(a.t=3600*b.h.val(a)+60*b.m.val(a)+b.s.val(a))},isValid:function(a,c){return b.t.val(a)===c},extent:function(){return[0,86399]},start:function(a){return a},end:function(a){return a},next:function(a,c){c=86399<c?0:c;var d=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c<=b.t.val(a)?1:0),0,0,
c);!b.date.isUTC&&d.getTime()<a.getTime()&&(d=b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d),b.h.val(d),b.m.val(d),c+7200));return d},prev:function(a,c){c=86399<c?86399:c;return b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)+(c>=b.t.val(a)?-1:0),0,0,c)}};b.weekOfMonth=b.wm={name:"week of month",range:604800,val:function(a){return a.wm||(a.wm=(b.D.val(a)+(b.dw.val(b.M.start(a))-1)+(7-b.dw.val(a)))/7)},isValid:function(a,c){return b.wm.val(a)===(c||b.wm.extent(a)[1])},extent:function(a){return a.wmExtent||
(a.wmExtent=[1,(b.D.extent(a)[1]+(b.dw.val(b.M.start(a))-1)+(7-b.dw.val(b.M.end(a))))/7])},start:function(a){return a.wmStart||(a.wmStart=b.date.next(b.Y.val(a),b.M.val(a),Math.max(b.D.val(a)-b.dw.val(a)+1,1)))},end:function(a){return a.wmEnd||(a.wmEnd=b.date.prev(b.Y.val(a),b.M.val(a),Math.min(b.D.val(a)+(7-b.dw.val(a)),b.D.extent(a)[1])))},next:function(a,c){c=c>b.wm.extent(a)[1]?1:c;a=b.date.nextRollover(a,c,b.wm,b.M);var d=b.wm.extent(a)[1];c=c>d?1:c||d;return b.date.next(b.Y.val(a),b.M.val(a),
Math.max(1,7*(c-1)-(b.dw.val(a)-2)))},prev:function(a,c){a=b.date.prevRollover(a,c,b.wm,b.M);var d=b.wm.extent(a)[1];c=c>d?d:c||d;return b.wm.end(b.date.next(b.Y.val(a),b.M.val(a),Math.max(1,7*(c-1)-(b.dw.val(a)-2))))}};b.weekOfYear=b.wy={name:"week of year (ISO)",range:604800,val:function(a){if(a.wy)return a.wy;var c=b.dw.next(b.wy.start(a),5),d=b.dw.next(b.Y.prev(c,b.Y.val(c)-1),5);return a.wy=1+Math.ceil((c.getTime()-d.getTime())/b.WEEK)},isValid:function(a,c){return b.wy.val(a)===(c||b.wy.extent(a)[1])},
extent:function(a){if(a.wyExtent)return a.wyExtent;var c=b.dw.next(b.wy.start(a),5),d=b.dw.val(b.Y.start(c));c=b.dw.val(b.Y.end(c));return a.wyExtent=[1,5===d||5===c?53:52]},start:function(a){return a.wyStart||(a.wyStart=b.date.next(b.Y.val(a),b.M.val(a),b.D.val(a)-(1<b.dw.val(a)?b.dw.val(a)-2:6)))},end:function(a){return a.wyEnd||(a.wyEnd=b.date.prev(b.Y.val(a),b.M.val(a),b.D.val(a)+(1<b.dw.val(a)?8-b.dw.val(a):0)))},next:function(a,c){c=c>b.wy.extent(a)[1]?1:c;a=b.dw.next(b.wy.start(a),5);var d=
b.date.nextRollover(a,c,b.wy,b.Y);1!==b.wy.val(d)&&(d=b.dw.next(d,2));a=b.wy.extent(d)[1];d=b.wy.start(d);c=c>a?1:c||a;return b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d)+7*(c-1))},prev:function(a,c){a=b.dw.next(b.wy.start(a),5);var d=b.date.prevRollover(a,c,b.wy,b.Y);1!==b.wy.val(d)&&(d=b.dw.next(d,2));a=b.wy.extent(d)[1];d=b.wy.end(d);c=c>a?a:c||a;return b.wy.end(b.date.next(b.Y.val(d),b.M.val(d),b.D.val(d)+7*(c-1)))}};b.year=b.Y={name:"year",range:31556900,val:function(a){return a.Y||(a.Y=b.date.getYear.call(a))},
isValid:function(a,c){return b.Y.val(a)===c},extent:function(){return[1970,2099]},start:function(a){return a.YStart||(a.YStart=b.date.next(b.Y.val(a)))},end:function(a){return a.YEnd||(a.YEnd=b.date.prev(b.Y.val(a)))},next:function(a,c){return c>b.Y.val(a)&&c<=b.Y.extent()[1]?b.date.next(c):b.NEVER},prev:function(a,c){return c<b.Y.val(a)&&c>=b.Y.extent()[0]?b.date.prev(c):b.NEVER}};b.fullDate=b.fd={name:"full date",range:1,val:function(a){return a.fd||(a.fd=a.getTime())},isValid:function(a,c){return b.fd.val(a)===
c},extent:function(){return[0,3250368E7]},start:function(a){return a},end:function(a){return a},next:function(a,c){return b.fd.val(a)<c?new Date(c):b.NEVER},prev:function(a,c){return b.fd.val(a)>c?new Date(c):b.NEVER}};b.modifier={};b.modifier.after=b.modifier.a=function(a,b){var c=b[0];return{name:"after "+a.name,range:(a.extent(new Date)[1]-c)*a.range,val:a.val,isValid:function(a,b){return this.val(a)>=c},extent:a.extent,start:a.start,end:a.end,next:function(b,d){d!=c&&(d=a.extent(b)[0]);return a.next(b,
d)},prev:function(b,d){d=d===c?a.extent(b)[1]:c-1;return a.prev(b,d)}}};b.modifier.before=b.modifier.b=function(a,b){var c=b[b.length-1];return{name:"before "+a.name,range:a.range*(c-1),val:a.val,isValid:function(a,b){return this.val(a)<c},extent:a.extent,start:a.start,end:a.end,next:function(b,d){d=d===c?a.extent(b)[0]:c;return a.next(b,d)},prev:function(b,d){d=d===c?c-1:a.extent(b)[1];return a.prev(b,d)}}};b.compile=function(a){function c(a){return"next"===a?function(a,b){return a.getTime()>b.getTime()}:
function(a,b){return b.getTime()>a.getTime()}}var d=[],e=0,k;for(k in a){var l=k.split("_"),f=l[0],m=l[1];l=a[k];f=m?b.modifier[m](b[f],l):b[f];d.push({constraint:f,vals:l});e++}d.sort(function(a,b){a=a.constraint.range;b=b.constraint.range;return b<a?-1:b>a?1:0});var r=d[e-1].constraint;return{start:function(a,c){for(var f=b.array[a],g=1E3,k;g--&&!k&&c;){k=!0;for(var l=0;l<e;l++){var m=d[l].constraint,n=m.val(c),P=m.extent(c);n=f(n,d[l].vals,P);if(!m.isValid(c,n)){c=m[a](c,n);k=!1;break}}}c!==b.NEVER&&
(c="next"===a?r.start(c):r.end(c));return c},end:function(a,f){for(var g,k=b.array[a+"Invalid"],l=c(a),m=e-1;0<=m;m--){var n=d[m].constraint,r=n.val(f),P=n.extent(f);r=k(r,d[m].vals,P);void 0!==r&&(n=n[a](f,r),!n||g&&!l(g,n)||(g=n))}return g},tick:function(a,c){return new Date("next"===a?r.end(c).getTime()+b.SEC:r.start(c).getTime()-b.SEC)},tickStart:function(a){return r.start(a)}}};b.schedule=function(a){function c(a,c,r,x,F){var w=l(a),y=c,D=1E3,B=[],fa=[],O,S=[],H="next"===a,K=H?0:1,C=H?1:0;r=
r?new Date(r):new Date;if(!r||!r.getTime())throw Error("Invalid start date.");var Q=m;for(var U=r,T=0,ha=Q.length;T<ha;T++)B[T]=Q[T].start(a,U);Q=g;U=r;l(a);T=0;for(ha=Q.length;T<ha;T++){var ia=Q[T].start(a,U);fa[T]=ia?[ia,Q[T].end(a,ia)]:b.NEVER}for(;D--&&y&&(O=f(B,w))&&(!x||!w(O,x));){if(n){Q=a;U=g;T=fa;ha=O;ia=l(Q);for(var Y=0,ka=U.length;Y<ka;Y++)if(T[Y]&&!ia(T[Y][0],ha)){var R=U[Y].start(Q,ha);T[Y]=R?[R,U[Y].end(Q,R)]:b.NEVER}Q=void 0;U=fa;T=O;ha=l(a);ia=0;for(Y=U.length;ia<Y;ia++)ka=U[ia],!ka||
ha(ka[0],T)||ka[1]&&!ha(ka[1],T)||Q&&!ha(ka[1],Q)||(Q=ka[1]);if(Q){e(a,m,B,Q);continue}}if(F){Y=void 0;Q=fa;U=w;T=0;for(ha=Q.length;T<ha;T++)!Q[T]||Y&&!U(Y,Q[T][0])||(Y=Q[T][0]);a:{Q=void 0;U=a;T=m;ha=B;ia=O;ka=l(U);R=0;for(var aa=T.length;R<aa;R++){var N=ha[R];if(N&&N.getTime()===ia.getTime()){N=T[R].end(U,N);if(Y&&(!N||ka(N,Y))){Q=Y;break a}if(!Q||ka(N,Q))Q=N}}}U=H?[new Date(Math.max(r,O)),Q?new Date(x?Math.min(Q,x):Q):void 0]:[Q?new Date(x?Math.max(x,Q.getTime()+b.SEC):Q.getTime()+b.SEC):void 0,
new Date(Math.min(r,O.getTime()+b.SEC))];if(V&&U[K].getTime()===V[C].getTime())V[C]=U[C],y++;else{var V=U;S.push(V)}if(!Q)break;e(a,m,B,Q)}else for(S.push(H?new Date(Math.max(r,O)):k(m,B,O,x)),Q=a,U=m,T=B,ha=O,ia=0,Y=U.length;ia<Y;ia++)T[ia]&&T[ia].getTime()===ha.getTime()&&(T[ia]=U[ia].start(Q,U[ia].tick(Q,ha)));y--}a=0;for(r=S.length;a<r;a++)x=S[a],S[a]="[object Array]"===Object.prototype.toString.call(x)?[d(x[0]),d(x[1])]:d(x);return 0===S.length?b.NEVER:1===c?S[0]:S}function d(a){if(a instanceof
Date&&!isNaN(a.valueOf()))return new Date(a)}function e(a,b,c,d){for(var e=l(a),f=0,g=b.length;f<g;f++)c[f]&&!e(c[f],d)&&(c[f]=b[f].start(a,d))}function k(a,b,c,d){for(var e,f=0,g=b.length;f<g;f++)if(b[f]&&b[f].getTime()===c.getTime()){var k=a[f].tickStart(c);if(d&&k<d)return d;if(!e||k>e)e=k}return e}function l(a){return"next"===a?function(a,b){return!a||!b||a.getTime()>b.getTime()}:function(a,b){return!a||!b||b.getTime()>a.getTime()}}function f(a,b){for(var c=a[0],d=1,e=a.length;d<e;d++)a[d]&&b(c,
a[d])&&(c=a[d]);return c}if(!a)throw Error("Missing schedule definition.");if(!a.schedules)throw Error("Definition must include at least one schedule.");for(var m=[],r=a.schedules.length,g=[],n=a.exceptions?a.exceptions.length:0,x=0;x<r;x++)m.push(b.compile(a.schedules[x]));for(r=0;r<n;r++)g.push(b.compile(a.exceptions[r]));return{isValid:function(a){return c("next",1,a,a)!==b.NEVER},next:function(a,b,d){return c("next",a||1,b,d)},prev:function(a,b,d){return c("prev",a||1,b,d)},nextRange:function(a,
b,d){return c("next",a||1,b,d,!0)},prevRange:function(a,b,d){return c("prev",a||1,b,d,!0)}}};b.setTimeout=function(a,c){function d(){var b=Date.now(),c=e.next(2,b);if(c[0]){var m=c[0].getTime()-b;1E3>m&&(m=c[1]?c[1].getTime()-b:1E3);k=2147483647>m?setTimeout(a,m):setTimeout(d,2147483647)}else k=void 0}var e=b.schedule(c),k;a&&d();return{isDone:function(){return!k},clear:function(){clearTimeout(k)}}};b.setInterval=function(a,c){function d(){k||(a(),e=b.setTimeout(d,c))}if(a){var e=b.setTimeout(d,c),
k=e.isDone();return{isDone:function(){return e.isDone()},clear:function(){k=!0;e.clear()}}}};b.date={};b.date.timezone=function(a){b.date.build=a?function(a,b,c,d,m,r){return new Date(a,b,c,d,m,r)}:function(a,b,c,d,m,r){return new Date(Date.UTC(a,b,c,d,m,r))};var c=a?"get":"getUTC",d=Date.prototype;b.date.getYear=d[c+"FullYear"];b.date.getMonth=d[c+"Month"];b.date.getDate=d[c+"Date"];b.date.getDay=d[c+"Day"];b.date.getHour=d[c+"Hours"];b.date.getMin=d[c+"Minutes"];b.date.getSec=d[c+"Seconds"];b.date.isUTC=
!a};b.date.UTC=function(){b.date.timezone(!1)};b.date.localTime=function(){b.date.timezone(!0)};b.date.UTC();b.SEC=1E3;b.MIN=60*b.SEC;b.HOUR=60*b.MIN;b.DAY=24*b.HOUR;b.WEEK=7*b.DAY;b.DAYS_IN_MONTH=[31,28,31,30,31,30,31,31,30,31,30,31];b.NEVER=0;b.date.next=function(a,c,d,e,k,l){return b.date.build(a,void 0!==c?c-1:0,void 0!==d?d:1,e||0,k||0,l||0)};b.date.nextRollover=function(a,c,d,e){var k=d.val(a);d=d.extent(a)[1];return(c||d)<=k||c>d?new Date(e.end(a).getTime()+b.SEC):e.start(a)};b.date.prev=function(a,
c,d,e,k,l){var f=arguments.length;c=2>f?11:c-1;d=3>f?b.D.extent(b.date.next(a,c+1))[1]:d;return b.date.build(a,c,d,4>f?23:e,5>f?59:k,6>f?59:l)};b.date.prevRollover=function(a,b,d,e){d=d.val(a);return b>=d||!b?e.start(e.prev(a,e.val(a)-1)):e.start(a)};b.parse={};b.parse.cron=function(a,b){function c(a,b,c){return isNaN(a)?r[a]||null:Math.min(+a+(b||0),c||9999)}function e(a){var b={},c;for(c in a)"dc"!==c&&"d"!==c&&(b[c]=a[c].slice(0));return b}function k(a,b,c,d,e){for(a[b]||(a[b]=[]);c<=d;)0>a[b].indexOf(c)&&
a[b].push(c),c+=e||1;a[b].sort(function(a,b){return a-b})}function l(a,b,c,d){if(b.d&&!b.dc||b.dc&&0>b.dc.indexOf(d))a.push(e(b)),b=a[a.length-1];k(b,"d",c,c);k(b,"dc",d,d)}function f(a){return-1<a.indexOf("#")||0<a.indexOf("L")}function m(a,b){return f(a)&&!f(b)?1:a-b}var r={JAN:1,FEB:2,MAR:3,APR:4,MAY:5,JUN:6,JUL:7,AUG:8,SEP:9,OCT:10,NOV:11,DEC:12,SUN:1,MON:2,TUE:3,WED:4,THU:5,FRI:6,SAT:7},g={"* * * * * *":"0/1 * * * * *","@YEARLY":"0 0 1 1 *","@ANNUALLY":"0 0 1 1 *","@MONTHLY":"0 0 1 * *","@WEEKLY":"0 0 * * 0",
"@DAILY":"0 0 * * *","@HOURLY":"0 * * * *"},n={s:[0,0,59],m:[1,0,59],h:[2,0,23],D:[3,1,31],M:[4,1,12],Y:[6,1970,2099],d:[5,1,7,1]};a=function(a){a=a.toUpperCase();return g[a]||a}(a);return function(a){var b={schedules:[{}],exceptions:[]};a=a.replace(/(\s)+/g," ").split(" ");var d,e;for(d in n){var f=n[d];if((e=a[f[0]])&&"*"!==e&&"?"!==e){e=e.split(",").sort(m);var g,x=e.length;for(g=0;g<x;g++){var A,G=e[g];var M=b;var fa=d,O=f[1],S=f[2],H=f[3],K=M.schedules,C=K[K.length-1];"L"===G&&(G=O-1);null!==
(A=c(G,H,S))?k(C,fa,A,A):null!==(A=c(G.replace("W",""),H,S))?(G=M,H=C,S={},fa={},1===A?(k(H,"D",1,3),k(H,"d",r.MON,r.FRI),k(S,"D",2,2),k(S,"d",r.TUE,r.FRI),k(fa,"D",3,3)):(k(H,"D",A-1,A+1),k(H,"d",r.MON,r.FRI),k(S,"D",A-1,A-1),k(S,"d",r.MON,r.THU),k(fa,"D",A+1,A+1)),k(fa,"d",r.TUE,r.FRI),G.exceptions.push(S),G.exceptions.push(fa)):null!==(A=c(G.replace("L",""),H,S))?l(K,C,A,O-1):2===(M=G.split("#")).length?(A=c(M[0],H,S),l(K,C,A,c(M[1]))):(A=C,C=G.split("/"),G=+C[1],C=C[0],"*"!==C&&"0"!==C&&(C=C.split("-"),
O=c(C[0],H,S),S=c(C[1],H,S)||S),k(A,fa,O,S,G))}}}return b}(b?a:"0 "+a)};b.parse.recur=function(){var a,c,d,e;function k(b,f,k){b=y?b+"_"+y:b;m||(r.push({}),m=r[0]);m[b]||(m[b]=[]);g=m[b];if(x){n=[];for(B=f;B<=k;B+=x)n.push(B);a=b;c=x;d=g.length;e=k}n=D?[f]:w?[k]:n;b=n.length;for(B=0;B<b;B+=1)f=n[B],0>g.indexOf(f)&&g.push(f);n=x=y=D=w=0}var l=[],f=[],m,r=l,g,n,x,y,D,w,B;return{schedules:l,exceptions:f,on:function(){n=arguments[0]instanceof Array?arguments[0]:arguments;return this},every:function(a){x=
a||1;return this},after:function(a){y="a";n=[a];return this},before:function(a){y="b";n=[a];return this},first:function(){D=1;return this},last:function(){w=1;return this},time:function(){for(var a=0,b=n.length;a<b;a++){var c=n[a].split(":");3>c.length&&c.push(0);n[a]=3600*+c[0]+60*+c[1]+ +c[2]}k("t");return this},second:function(){k("s",0,59);return this},minute:function(){k("m",0,59);return this},hour:function(){k("h",0,23);return this},dayOfMonth:function(){k("D",1,w?0:31);return this},dayOfWeek:function(){k("d",
1,7);return this},onWeekend:function(){n=[1,7];return this.dayOfWeek()},onWeekday:function(){n=[2,3,4,5,6];return this.dayOfWeek()},dayOfWeekCount:function(){k("dc",1,w?0:5);return this},dayOfYear:function(){k("dy",1,w?0:366);return this},weekOfMonth:function(){k("wm",1,w?0:5);return this},weekOfYear:function(){k("wy",1,w?0:53);return this},month:function(){k("M",1,12);return this},year:function(){k("Y",1970,2450);return this},fullDate:function(){for(var a=0,b=n.length;a<b;a++)n[a]=n[a].getTime();
k("fd");return this},customModifier:function(a,c){if(!b.modifier[a])throw Error("Custom modifier "+a+" not recognized!");y=a;n=c instanceof Array?c:[c];return this},customPeriod:function(a){var c=b[a];if(!c)throw Error("Custom time period "+a+" not recognized!");k(a,c.extent(new Date)[0],c.extent(new Date)[1]);return this},startingOn:function(a){return this.between(a,e)},between:function(b,e){m[a]=m[a].splice(0,d);x=c;k(a,b,e);return this},and:function(){m=r[r.push({})-1];return this},except:function(){r=
f;m=null;return this}}};b.parse.text=function(a){function c(a,b,c,d){return{startPos:a,endPos:b,text:c,type:d}}function d(a){a=a instanceof Array?a:[a];var b=/\s+/,d,e;a.push(b);for(e=x;!k||k.type===b;){var f=-1;var g=y.substring(e);var k=c(e,e,y.split(b)[0]);var l,m=a.length;for(l=0;l<m;l++){var n=a[l];(d=n.exec(g))&&0===d.index&&d[0].length>f&&(f=d[0].length,k=c(e,e+f,g.substring(0,f),n))}k.type===b&&(e=k.endPos)}return k}function e(a){a=d(a);x=a.endPos;return a}function k(a){var b=+g(a);a=m(w.through)?
+g(a):b;for(var c=[];b<=a;b++)c.push(b);return c}function l(a){for(var b=k(a);m(w.and);)b=b.concat(k(a));return b}function f(a){var b=r([w.second,w.minute,w.hour,w.dayOfYear,w.dayOfWeek,w.dayInstance,w.day,w.month,w.year,w.weekOfMonth,w.weekOfYear]);switch(b.type){case w.second:a.second();break;case w.minute:a.minute();break;case w.hour:a.hour();break;case w.dayOfYear:a.dayOfYear();break;case w.dayOfWeek:a.dayOfWeek();break;case w.dayInstance:a.dayOfWeekCount();break;case w.day:a.dayOfMonth();break;
case w.weekOfMonth:a.weekOfMonth();break;case w.weekOfYear:a.weekOfYear();break;case w.month:a.month();break;case w.year:a.year();break;default:D=x}return b}function m(a){var b=d(a).type===a;b&&e(a);return b}function r(a){var b=e(a);if(b.type){var c=b.text,d=c;switch(a){case w.time:c=c.split(/(:|am|pm)/);a="pm"===c[3]&&12>c[0]?parseInt(c[0],10)+12:c[0];c=c[2].trim();d=(1===a.length?"0":"")+a+":"+c;break;case w.rank:d=parseInt(/^\d+/.exec(c)[0],10);break;case w.monthName:case w.dayName:d=B[c.substring(0,
3)]}b.text=d}else D=x;return b}function g(a){return r(a).text}var n=b.parse.recur,x=0,y="",D,w={eof:/^$/,rank:/^((\d+)(st|nd|rd|th)?)\b/,time:/^((([0]?[1-9]|1[0-2]):[0-5]\d(\s)?(am|pm))|(([0]?\d|1\d|2[0-3]):[0-5]\d))\b/,dayName:/^((sun|mon|tue(s)?|wed(nes)?|thu(r(s)?)?|fri|sat(ur)?)(day)?)\b/,monthName:/^(jan(uary)?|feb(ruary)?|ma((r(ch)?)?|y)|apr(il)?|ju(ly|ne)|aug(ust)?|oct(ober)?|(sept|nov|dec)(ember)?)\b/,yearIndex:/^(\d\d\d\d)\b/,every:/^every\b/,after:/^after\b/,before:/^before\b/,second:/^(s|sec(ond)?(s)?)\b/,
minute:/^(m|min(ute)?(s)?)\b/,hour:/^(h|hour(s)?)\b/,day:/^(day(s)?( of the month)?)\b/,dayInstance:/^day instance\b/,dayOfWeek:/^day(s)? of the week\b/,dayOfYear:/^day(s)? of the year\b/,weekOfYear:/^week(s)?( of the year)?\b/,weekOfMonth:/^week(s)? of the month\b/,weekday:/^weekday\b/,weekend:/^weekend\b/,month:/^month(s)?\b/,year:/^year(s)?\b/,between:/^between (the)?\b/,start:/^(start(ing)? (at|on( the)?)?)\b/,at:/^(at|@)\b/,and:/^(,|and\b)/,except:/^(except\b)/,also:/(also)\b/,first:/^(first)\b/,
last:/^last\b/,"in":/^in\b/,of:/^of\b/,onthe:/^on the\b/,on:/^on\b/,through:/(-|^(to|through)\b)/},B={jan:1,feb:2,mar:3,apr:4,may:5,jun:6,jul:7,aug:8,sep:9,oct:10,nov:11,dec:12,sun:1,mon:2,tue:3,wed:4,thu:5,fri:6,sat:7,"1st":1,fir:1,"2nd":2,sec:2,"3rd":3,thi:3,"4th":4,"for":4};return function(a){x=0;y=a;D=-1;for(a=n();x<y.length&&0>D;)switch(r([w.every,w.after,w.before,w.onthe,w.on,w.of,w["in"],w.at,w.and,w.except,w.also]).type){case w.every:var b=a;if(m(w.weekend))b.on(B.sun,B.sat).dayOfWeek();else if(m(w.weekday))b.on(B.mon,
B.tue,B.wed,B.thu,B.fri).dayOfWeek();else{var c=g(w.rank);b.every(c);var e=f(b);m(w.start)?(c=g(w.rank),b.startingOn(c),r(e.type)):m(w.between)&&(c=g(w.rank),m(w.and)&&(e=g(w.rank),b.between(c,e)))}break;case w.after:void 0!==d(w.time).type?(a.after(g(w.time)),a.time()):(a.after(g(w.rank)),f(a));break;case w.before:void 0!==d(w.time).type?(a.before(g(w.time)),a.time()):(a.before(g(w.rank)),f(a));break;case w.onthe:b=a;if(m(w.first))b.first();else if(m(w.last))b.last();else b.on(l(w.rank));f(b);break;
case w.on:a.on(l(w.dayName)).dayOfWeek();break;case w.of:a.on(l(w.monthName)).month();break;case w["in"]:a.on(l(w.yearIndex)).year();break;case w.at:for(a.on(g(w.time)).time();m(w.and);)a.on(g(w.time)).time();break;case w.and:break;case w.also:a.and();break;case w.except:a.except();break;default:D=x}return{schedules:a.schedules,exceptions:a.exceptions,error:D}}(a.toLowerCase())};return b}();later.date.localTime();
(function(){window.ScreensPlayer=window.ScreensPlayer||{sequence:{},strategies:{},transitions:{}};window.CQ=window.CQ||{};window.CQ.screens=window.CQ.screens||{};window.CQ.screens.sequence={util:{}}})();
(function(b,a){var c=function(a){return{startDate:null,endDate:null,isValidInDate:function(a){return!1}}},d=function(a){var d=c(),e=b.parse.text(a);Object.defineProperty(d,"startDate",{get:function(){return e.schedules[0].fd_a&&e.schedules[0].fd_a[0]?e.schedules[0].fd_a[0]:null},set:function(a){e.schedules[0].fd_a=[];e.schedules[0].fd_a[0]=a}});Object.defineProperty(d,"endDate",{get:function(){return e.schedules[0].fd_b&&e.schedules[0].fd_b[0]?e.schedules[0].fd_b[0]:null},set:function(a){e.schedules[0].fd_b=
[];e.schedules[0].fd_b[0]=a}});d.isValidInDate=function(a){return b.schedule(e).isValid(a)};return d},e=function(a){var d=c(),e=b.parse.cron(a,5<a.split(" ").length);Object.defineProperty(d,"startDate",{get:function(){return e.schedules[0].fd_a&&e.schedules[0].fd_a[0]?e.schedules[0].fd_a[0]:null},set:function(a){e.schedules[0].fd_a=[];e.schedules[0].fd_a[0]=a}});Object.defineProperty(d,"endDate",{get:function(){return e.schedules[0].fd_b&&e.schedules[0].fd_b[0]?e.schedules[0].fd_b[0]:null},set:function(a){e.schedules[0].fd_b=
[];e.schedules[0].fd_b[0]=a}});d.isValidInDate=function(a){return b.schedule(e).isValid(a)};return d},k=function(b){b=new a.Component(b);var c=b.getFirstSubcomponent("vevent"),d=c.getFirstPropertyValue("rrule"),e=c.getFirstPropertyValue("dtstart"),f=new a.Event(c);return{vcalendar:b,vevent:c,recur:d,dtstart:e,veventComp:f}},l=function(b){var d=c();try{var e=window.ICAL.parse(b),f=k(e);d.isValidInDate=function(b){var c=new a.Time.fromJSDate(b);b=(new a.Time.fromData({year:c.year,month:c.month,day:c.day,
hour:0,minute:0})).adjust(0,0,0,-1);b=f.recur.getNextOccurrence(f.dtstart,b);var e=f.veventComp.getOccurrenceDetails(b),g=1E3*c.toUnixTime();b=0>=e.startDate.compare(c);c=0<=e.endDate.compare(c);e=0<d.startDate?g>=d.startDate:!0;g=0<d.endDate?g<=d.endDate:!0;return b&&c&&e&&g}}catch(n){console.error("[STRATEGY] Invalid iCalendar ",n)}return d};window.ScreensPlayer.isSequenceItemScheduled=function(c,k){if(c.schedule){try{a.parse(c.schedule);var f=!0}catch(y){f=!1}f?f=l(c.schedule):(f=-1!==b.parse.text(c.schedule).error?
!1:!0,f?(console.warn("[STRATEGY] Invalid iCalendar schedule.",c.schedule,"Please update channel assignment."),f=d(c.schedule)):(console.warn("[STRATEGY] Invalid iCalendar schedule.",c.schedule,"Please update channel assignment. Falling back to cron parsing."),f=e(c.schedule)))}else f=e("* * * * * *");var g=6E4*(new Date).getTimezoneOffset(),m="number"===typeof c.startDate;m&&(f.startDate=(new Date(c.startDate+g)).getTime());var x="number"===typeof c.endDate;x&&(f.endDate=(new Date(c.endDate+g)).getTime());
return!(c.schedule||m||x)||f.isValidInDate(k)};window.CQ.screens.sequence.util.isFirmwareOrigin=function(a){return"single"===a};window.CQ.screens.sequence.util.isInAuthoring=function(a){try{return!!(a.top!==a&&a.top.Granite&&a.top.Granite.author&&a.top.Granite.author.layerManager)}catch(m){return!1}};window.CQ.screens.sequence.util.isInDirectPreview=function(a){try{return-1===a.top.location.search.indexOf("displayPath\x3d")&&-1===a.top.location.pathname.indexOf("/screens/player.html/")}catch(m){return!1}};
window.CQ.screens.sequence.util.isEmbeddedSequence=function(a){try{return!(a===a.parent||!a.parent.ScreensDisplay)}catch(m){return!1}};window.CQ.screens.sequence.util.isMultizoneChannelOrigin=function(a,b){if("multizone"!==b.context)return!1;if("parentSequence"===a)return!0;b=window.ScreensDisplay.getWindowIO();return"single"===a&&(window.CQ.screens.sequence.util.isInDirectPreview(window)||b.targetWindows.single===b.targetWindows.parentSequence)};window.CQ.screens.sequence.util.createSequencePayload=
function(a){return a&&a.sequence?{playOnce:a.sequence.playOnce}:null};window.CQ.screens.sequence.util.registerParentSequenceInWindowIO=function(a,b){-1!==Object.keys(b.targetWindows).map(function(a){return b.targetWindows[a]}).indexOf(a.parent)&&b.targetWindows.single!==a.parent||b.addWindow("parentSequence",a.parent)}})(window.later,window.ICAL);
(function(b){function a(a,b,c){return function(d,e){var f=new a.ScreensPlayer.Sequence(b,e);b.on("channel-show",function(b,c){console.log("[Sequence#init] Received channel-show for origin "+c);if(a.CQ.screens.sequence.util.isFirmwareOrigin(c)&&!a.CQ.screens.sequence.util.isEmbeddedSequence(a)||a.CQ.screens.sequence.util.isMultizoneChannelOrigin(c,b))c=a.CQ.screens.sequence.util.isEmbeddedSequence(a)&&!a.CQ.screens.sequence.util.isMultizoneChannelOrigin(c,b),f.start(Object.assign({isControlled:c},
a.CQ.screens.sequence.util.createSequencePayload(b)))});b.on("channel-hide",function(b,c){console.log("[Sequence#init] Received channel-hide for origin "+c);(a.CQ.screens.sequence.util.isFirmwareOrigin(c)||a.CQ.screens.sequence.util.isMultizoneChannelOrigin(c,b))&&f.stop()});c&&setTimeout(function(){return f.start()},0)}}function c(c,e){return function(){document.querySelector(".cq-Screens-channel--sequence")&&(window.CQ.screens.sequence.util.isEmbeddedSequence(window)&&window.CQ.screens.sequence.util.registerParentSequenceInWindowIO(window,
c),b(".cq-Sequence[data-strategy]").each(a(window,c,e)),c.postMessage("channel-status-ready"))}}require(["util/ScreensDisplay","window.io"],function(a,e){(a=a.getWindowIO())||(a=new e);if(window.CQ.screens.sequence.util.isEmbeddedSequence(window)||!window.CQ.screens.sequence.util.isInAuthoring(window)&&!window.CQ.screens.sequence.util.isInDirectPreview(window))if(window.CQ.screens.sequence.util.isEmbeddedSequence(window))b(c(a,!1));else if(window.isPlayerWioReady)b(c(a,!1));else a.on("player-wio-ready",
c(a,!1));else b(c(a,!0))})})(window.jQuery);(function(b){function a(a){return Array.from(a.children).some(function(a){return"CQ"!==a.nodeName})}b.ScreensPlayer.sequence.legacyItemSkipFilter=function(b){return"true"!==b.dataset.itemSkip&&a(b)}})(window);
(function(b){var a=b.ScreensPlayer;b.ScreensPlayer.sequence.scheduledItemsFilter=function(b){b=b.querySelector("[data-schedule]")||b.querySelector("[data-startdate]")||b.querySelector("[data-enddate]");var c=new Date;var e=b?{schedule:b.dataset.schedule||null,startDate:b.dataset.startdate?Number(b.dataset.startdate):null,endDate:b.dataset.enddate?Number(b.dataset.enddate):null}:{};return b&&!a.isSequenceItemScheduled(e,c)?!1:!0}})(window);
(function(b,a){b=function(a){this.strategy=a;this.strategy.items().hide();return this};b.prototype.execute=function(a,b,e){var c=function(){b.show(0,e)};a&&a.hide(0,c)||c()};b.prototype.destroy=function(){this.strategy=null};a.transitions.normal=b})(window.jQuery,window.ScreensPlayer);
(function(b,a){b=function(a){this.strategy=a;this.strategy.items().css({position:"absolute",x:0,y:0});return this};b.prototype.execute=function(a,b,e,k){b.css("z-index",1);b.fadeIn(k||1600,function(){b.css("z-index",0);a&&a.hide(0);e()});b.show(0)};b.prototype.destroy=function(){this.strategy=null};a.transitions.fade=b})(window.jQuery,window.ScreensPlayer);
(function(b,a){var c=function(a){return a.css({position:"absolute",x:0,y:0})},d=function(a,b,c,d,e,k){function f(){a.css({x:0,y:0}).hide(0);e()}d.width=c.width=window.innerWidth+"px";d.height=c.height=window.innerHeight+"px";b.css(c).show(0).transition({x:0,y:0},k||1600);a&&a.css({x:0,y:0}).transition(d,k||1600,f)||e()};b=function(a){this.strategy=a;c(this.strategy.items());return this};var e=function(a){this.strategy=a;c(this.strategy.items());return this},k=function(a){this.strategy=a;c(this.strategy.items());
return this},l=function(a){this.strategy=a;c(this.strategy.items());return this};b.prototype.execute=function(a,b,c,e){d(a,b,{y:-window.innerHeight},{y:+window.innerHeight},c,e)};e.prototype.execute=function(a,b,c,e){d(a,b,{y:window.innerHeight},{y:-window.innerHeight},c,e)};k.prototype.execute=function(a,b,c,e){d(a,b,{x:-window.innerWidth},{x:window.innerWidth},c,e)};l.prototype.execute=function(a,b,c,e){d(a,b,{x:window.innerWidth},{x:-window.innerWidth},c,e)};b.prototype.destroy=function(){this.strategy=
null};e.prototype.destroy=function(){this.strategy=null};k.prototype.destroy=function(){this.strategy=null};l.prototype.destroy=function(){this.strategy=null};a.transitions.slideintop=b;a.transitions.slideinbottom=e;a.transitions.slideinleft=k;a.transitions.slideinright=l})(window.jQuery,window.ScreensPlayer);
(function(b,a){var c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.items().hide()};c.prototype.init=function(){};c.prototype.items=function(){return b(this.el.getElementsByClassName("cq-Sequence-item"))};c.prototype.visibleItems=function(){var c=this.items().toArray().filter(a.sequence.scheduledItemsFilter).filter(a.sequence.legacyItemSkipFilter);return b(c)};c.prototype.startItem=function(a){return this.items().first()};c.prototype.isCycleComplete=
function(a){var b=this.visibleItems().last();return 0===this.visibleItems().length||a&&b[0]===a[0]};c.prototype.next=function(a){var b=this.visibleItems();if(!b.length||0===b.length)return null;var c=a?b.index(a):-1;b=b.eq((c+1)%b.length);c=b.get(0);var d="normal",f=0,m=b.prev(".cq-Sequence-transition");a&&(m=m.add(a.next(".cq-Sequence-transition")));m&&m.length&&(d=(a=m.get(0).getElementsByClassName("transition")[0])?a.dataset.transition:null,f=a?parseInt(a.dataset.transitionDuration,10):null);"0"===
c.dataset.duration?b=this.next():"true"===c.dataset.pauseSequence&&this.$el.trigger("pause-sequence");return{$item:b,transitionType:d,transitionDuration:f}};c.prototype.duration=function(a){a=a.get(0);var b=null;a&&(b=parseInt(a.dataset.duration,10),!b&&(b=(b=a.querySelector("[data-duration]"))?parseInt(b.dataset.duration,10):null,!b&&a.classList.contains("cq-Screens-subsequence")&&(a=a.getElementsByTagName("iframe")[0])))&&(a.setAttribute("data-duration","-1"),b=-1);b=parseInt(b,10);if(isNaN(b)||
0===b)b=parseInt(this.el.dataset.duration,10)||8E3;return b};c.prototype.scheduleCurrent=function(a,b){this.timeout=window.setTimeout(a,b)};c.prototype.destroy=function(){this.$el.removeData("screens-strategy");this.el=this.$el=null};a.strategies.normal=c})(window.jQuery,window.ScreensPlayer);
(function(b,a,c){c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.items().hide();this.init()};c.prototype.init=function(){this.data={};this.computeSequenceCycles(this.visibleItems());this.updateTimeAnchor(new Date)};c.prototype.updateTimeAnchor=function(a){a=new Date(a);a.setHours(0);a.setMinutes(0);a.setSeconds(0);a.setMilliseconds(0);this.data.anchor=a.getTime()};c.prototype.computeSequenceCycles=function(a){var c=this;this.data.cycles=[];this.data.totalDuration=
0;b.each(a,function(a,d){var e=b(d);d.dataset.itemSkip&&"false"!==d.dataset.itemSkip||(e=c.duration(e),-1!==e&&(c.data.cycles.push({duration:e,index:a,startTime:c.data.totalDuration,item:d}),c.data.totalDuration+=e))});this.data.nbCycles=this.data.cycles.length};c.prototype.update=function(){this.computeSequenceCycles(this.visibleItems());this.updateTimeAnchor(Date.now());return!0};c.prototype.items=function(){return b(this.el.getElementsByClassName("cq-Sequence-item"))};c.prototype.visibleItems=
function(){var c=this.items().toArray().filter(a.sequence.legacyItemSkipFilter);return b(c)};c.prototype.startItem=function(a){return b()};c.prototype.isCycleComplete=function(a){var b=this.visibleItems().last();return 0===this.visibleItems().length||a&&b[0]===a[0]};c.prototype.getNext=function(){this.computeSequenceCycles(this.visibleItems());var a=(new Date).getTime(),b=a-this.data.anchor,c=Math.floor(b/this.data.totalDuration),l=b%this.data.totalDuration;a-=l;b=this.data.cycles.find(function(a){return a.startTime+
a.duration>l+16})||this.data.cycles[0]||{item:null};return{index:b.index,time:a+b.startTime+b.duration,item:b.item,loopCount:c}};c.prototype.next=function(){var a=this.getNext();return a.item?{$item:b(a.item),transitionType:"normal",loopCount:a.loopCount}:null};c.prototype.scheduleCurrent=function(a,b){b=this.getNext().time-(new Date).getTime();window.setTimeout(a,b)};c.prototype.duration=function(a){a=a.get(0);var b=null,c;a&&(b=parseInt(a.dataset.duration,10),!b&&(b=(c=a.querySelector("[data-duration]"))?
parseInt(c.dataset.duration,10):null,!b&&a.classList.contains("cq-Screens-subsequence")&&(c=a.getElementsByTagName("iframe")[0])))&&(c.setAttribute("data-duration","-1"),b=-1);b=parseInt(b,10);if(isNaN(b)||0===b)b=parseInt(this.el.dataset.duration,10)||8E3;-1===b&&(b=(c=a.querySelector("[data-item-duration]"))&&parseInt(c.dataset.itemDuration,10)||b);return b};c.prototype.destroy=function(){this.$el.removeData("screens-strategy");delete this.$el;delete this.el};a.strategies.absolute=c})(window.jQuery,
window.ScreensPlayer,window.later);
(function(b,a){var c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.latency=0;this.items().hide();this.init()};c.prototype=Object.assign({},a.strategies.absolute.prototype);c.prototype.updateTimeAnchor=function(a){this.data.anchor=a-this.latency};c.prototype.update=function(a){if(!isNaN(a.latency))return this.latency=a.latency||0,!1;this.computeSequenceCycles(this.visibleItems());this.updateTimeAnchor(Date.now()-(a.msIntoTheSequence||0));return!0};a.strategies.synced=
c})(window.jQuery,window.ScreensPlayer);
(function(b,a){var c=function(a){this.$el=b(a);this.el=this.$el.get(0);this.$el.data("screens-strategy",this);this.items().hide();this.startItem()};c.prototype.init=function(){};c.prototype.items=function(){return b(this.el.getElementsByClassName("cq-Sequence-item"))};c.prototype.visibleItems=function(){var c=this.items().toArray().filter(a.sequence.legacyItemSkipFilter);return b(c)};c.prototype.startItem=function(a){var b=this.visibleItems();this.$currentItem=this.visibleItems().eq(a?a%b.length:
0);return null};c.prototype.isCycleComplete=function(a){return!this.visibleItems().length||!!a};c.prototype.getNext=function(){var a=this.visibleItems();if(!a.length||0===a.length)return null;var b=this.$currentItem?a.index(this.$currentItem):-1;return a.eq((b+1)%a.length)};c.prototype.next=function(a){if(a)return null;a=this.getNext();return a?(this.$currentItem=a)?{$item:this.$currentItem,transitionType:"normal"}:null:null};c.prototype.duration=function(a){a=a.get(0);var b=null;a&&(b=parseInt(a.dataset.duration,
10),b||(b=(a=a.querySelector("[data-duration]"))?parseInt(a.dataset.duration,10):null));b&&"0"!==b||(b=parseInt(this.el.dataset.duration,10)||8E3);return parseInt(b,10)};c.prototype.scheduleCurrent=function(a,b){this.timeout=window.setTimeout(a,b)};c.prototype.destroy=function(){this.$el.removeData("screens-strategy");this.el=this.$el=null};a.strategies.singleitem=c})(window.jQuery,window.ScreensPlayer);
(function(b,a){function c(a){if(!a)return"";var b=["A","SCRIPT","LINK"];return(a=[].concat($jscomp.arrayFromIterable(a.get(0).querySelectorAll(["src","href",'style*\x3d"background-image"',"data-src","data-href"].map(function(a){return"["+a+"]"}).join(",")))).filter(function(a){return!b.includes(a.nodeName)})[0])?a.src||a.href||a.style.backgroundImage.slice(5,-2)||a.dataset.src||a.dataset.href||this.$currentItem.text():""}function d(a,b){if(!window.CQ.screens.sequence.util.isEmbeddedSequence(window))switch(a.type){case "sequence-element-show":a.msg&&
this.strategy.update&&this.strategy.update({msIntoTheSequence:a.msg.msIntoTheSequence})}}function e(a){window.CQ.screens.sequence.util.isEmbeddedSequence(window)||a.msg&&this.strategy.update&&this.strategy.update({latency:a.msg.latency||0})}function k(){this._wio.targetWindows.parentSequence?this._wio.postMessage(f.SEQUENCE_CYCLE_COMPLETE,{},"parentSequence"):this._wio.targetWindows.single?(this._wio.postMessage(f.SEQUENCE_CYCLE_COMPLETE,{},"single"),this.postMessage(f.COMMAND_P2P_SEND,{type:f.SEQUENCE_CYCLE_COMPLETE})):
console.log("Could not inform parent about cycle complete event")}var l="sequence-start sequence-stop sequence-resume sequence-pause sequence-set-strategy sequence-element-update".split(" "),f={SEQUENCE_INITIALIZED:"sequence-state-initialized",SEQUENCE_STARTED:"sequence-state-started",SEQUENCE_STOPPED:"sequence-state-stopped",SEQUENCE_PAUSED:"sequence-state-paused",SEQUENCE_RESUMED:"sequence-state-resumed",SEQUENCE_CYCLE_COMPLETE:"sequence-state-cycle-complete",COMMAND_P2P_SEND:"COMMAND_P2P_SEND",
COMMAND_P2P_RECEIVE:"COMMAND_P2P_RECEIVE",COMMAND_P2P_PING:"COMMAND_P2P_PING",COMMAND_P2P_PONG:"COMMAND_P2P_PONG"},m=function(c,g,k,m){this._init=function(){this.$el=b(g);this.el=this.$el.get(0);this._wio=c;this._wioEventHandlers=[];this._allItemsSkippedInterval=null;this.$el.data("screens-sequence",this);this.disabled=!0;this.currentItemDuration=this.currentItemStartTime=0;this.setStrategy(k||this.$el.data("strategy")||"normal");this.transition=b.isFunction(m)&&m||new (a.transitions[m||this.$el.data("transition")||
"normal"])(this.strategy);this._bindEvents();this._wio.postMessage(f.SEQUENCE_INITIALIZED,{items:this.strategy.items().length},"parentSequence");this._wio.on("parent-ready",function(a,b){"parentSequence"===b&&this._wio.postMessage(f.SEQUENCE_INITIALIZED,{items:this.strategy.items().length},"parentSequence")}.bind(this));return this};this._createWioMessageHandler=function(a){var b=this;return function(c,d){b.$el.trigger(a,c)}};this._bindEvents=function(){this.$el.on("sequence-start",function(a,b){this.start(b)}.bind(this));
this.$el.on("sequence-pause",function(){this.pause()}.bind(this));this.$el.on("sequence-resume",function(){this.resume()}.bind(this));this.$el.on("sequence-stop",function(){this.stop()}.bind(this));this.$el.on("sequence-element-update",function(a){this.strategy.update&&this.strategy.update()&&(console.log("Strategy updated. Restarting sequence."),this.stop(),this.start())}.bind(this));this.$el.on("sequence-set-strategy",function(a,b){b&&b.strategy&&this.setStrategy(b.strategy)}.bind(this));for(var a=
0;a<l.length;a++){var b=this._wio.on(l[a],this._createWioMessageHandler(l[a]));this._wioEventHandlers.push({event:l[a],handler:b})}this._wio.on(f.COMMAND_P2P_RECEIVE,d.bind(this));this._wio.on(f.COMMAND_P2P_PONG,e.bind(this))};this._destroy=function(){this.$el.off(l.join(" "));for(var a=0;a<this._wioEventHandlers.length;a++)this._wio.removeListener(this._wioEventHandlers[a].event,this._wioEventHandlers.handler);this._wio.off(f.COMMAND_P2P_RECEIVE);this._wio.off(f.COMMAND_P2P_PONG);this._wio=null;
this.$el.removeData("screens-sequence");this.el=this.$el=null;this.transition.destroy();this.transition=null;this.strategy.destroy();this.strategy=null};return this._init()};m.prototype.setStrategy=function(b){this.strategy="string"!==typeof b?b:new a.strategies[b](this.$el)};m.prototype.start=function(a){a&&(a.isControlled&&(this.isControlled=a.isControlled),a.playOnce&&(this.playOnce=a.playOnce),a.duration&&(this.duration=a.duration),a.loopCount&&(this.$currentItem=this.strategy.startItem(a.loopCount)));
if(!this.disabled)return null;this.disabled=!1;this._wio.postMessage(f.SEQUENCE_STARTED,{},"parentSequence");this.next();return this};m.prototype.pause=function(){if(this.disabled)return null;this.disabled=!0;window.clearTimeout(this.strategy.timeout);this.currentItemDuration-=(new Date).getTime()-this.currentItemStartTime;this._wio.postMessage(f.SEQUENCE_PAUSED,{},"parentSequence");return this};m.prototype.resume=function(){if(!this.disabled)return null;this.disabled=!1;this.currentItemStartTime=
(new Date).getTime();var a=this.currentItemStartTime+this.currentItemDuration-(new Date).getTime();0<a?this.strategy.scheduleCurrent(this.next.bind(this),a):this.next();this._wio.postMessage(f.SEQUENCE_RESUMED,{},"parentSequence");return this};m.prototype.stop=function(){this.$currentItem&&(this.$currentItem.trigger("sequence-element-stop"),this.$currentItem.trigger("sequence-element-hide"),this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-hide",{},"single"));this.$currentItem=
null;window.clearTimeout(this.strategy.timeout);this._wio.postMessage(f.SEQUENCE_STOPPED,{},"parentSequence");if(this.disabled)return null;this.disabled=!0;return this};m.prototype.next=function(){if(!this.disabled){if(this.strategy.isCycleComplete(this.$currentItem)&&(k.call(this),this.isControlled&&(!this.duration||-1===this.duration||this.playOnce))){this.$currentItem&&this.$currentItem.hide();return}var b=this.strategy.next(this.$currentItem);if(b){var d=b.$item;this.currentItemDuration=this.strategy.duration(d);
if(this.$currentItem&&1===this.strategy.visibleItems().length)this.stop(),this.resume();else{m.loadNext(this.strategy,b);var e=b.transitionType,l=b.transitionDuration;b=b.loopCount;this.$currentItem&&this.$currentItem.trigger("sequence-element-stop");var y=this.transition;e&&(y=new a.transitions[e](this.strategy));this.disabled||(this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-show",{element:c(d)},"single"),-1<this.currentItemDuration?(d.trigger("sequence-element-show",[b]),
this.currentItemStartTime=(new Date).getTime(),this.strategy.scheduleCurrent(this.next.bind(this),this.currentItemDuration)):(e=function(){window.setTimeout(this.next.bind(this),10,d)},d.trigger("sequence-element-show",[b,e.bind(this)]),d.trigger("sequence-element-delegate-transition",[e.bind(this)])),this.strategy.data&&0<=this.strategy.data.anchor&&this.postMessage(f.COMMAND_P2P_SEND,{type:"sequence-element-show",msg:{msIntoTheSequence:Date.now()-this.strategy.data.anchor}}));y.execute(this.$currentItem,
d,function(){this.disabled||(this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-hide",{element:this.$currentItem?c(this.$currentItem):null},"single"),this.$currentItem&&this.$currentItem.trigger("sequence-element-hide"),this.$currentItem=d)}.bind(this),l)}}else this._wio.targetWindows.single&&this._wio.postMessage("sequence-element-show",{element:null},"single"),k.call(this),console.warn("All items in sequence are skipped. Not able to advance."),window.clearInterval(this._allItemsSkippedInterval),
this._allItemsSkippedInterval=window.setInterval(this.next.bind(this),6E4,this.$currentItem)}};m.prototype.destroy=function(){this.stop();window.clearInterval(this._allItemsSkippedInterval);this._destroy()};m.loadNext=function(a,b){(a=a.next(b.$item))&&a.$item!==b.$item&&a.$item.trigger("sequence-element-load")};m.prototype.postMessage=function(a,b){this._wio.targetWindows.single?this._wio.postMessage(a,Object.assign({timestamp:Date.now()},b),"single"):console.log("Could not inform firmware about event "+
a)};window.ScreensPlayer.Sequence=m})(window.jQuery,window.ScreensPlayer);
(function(b){window.ScreensPlayer.ContextHubHelper={};var a=function(a,b){if(!a)throw Error("Missing selector: cannot initialize the helper.");if(!b)throw Error("Missing ContextHub: cannot initialize the helper.");if(!b.version)throw Error("ContextHub not initialized: cannot initialize the helper.");this.selector=a;this.contextHub=b};a.prototype.onInit=function(a){this.initHandler=a;return this};a.prototype.onUpdate=function(a){this.updateHandler=a;return this};a.prototype.onUpdateVisible=function(a){this.updateVisibleHandler=
a;return this};a.prototype.activate=function(){var a=this;if(a.initHandler)this.contextHub.eventing.on("ch-segment-engine:teaser-registered",function(b,c){c.data.forEach(function(b){var c=document.querySelector("#"+b.key+" "+a.selector);c&&a.initHandler(b.key,c)})});a.updateHandler&&(this.delegateTransitionHandler=function(b,c){b.target.querySelector(a.selector)&&(a.transitionCallback=c)},b(document).on("sequence-element-delegate-transition",".cq-Sequence-item.target",this.delegateTransitionHandler),
this.contextHub.eventing.on("ch-segment-engine:teaser-loaded",function(b,c){c.data.forEach(function(b){var c=document.querySelector("#"+b.key),d=c.querySelector(a.selector);d&&(null!==c.offsetParent&&(a.transitionCallback&&a.transitionCallback(),a.transitionCallback=null,a.updateVisibleHandler&&a.updateVisibleHandler(b.key,d)),a.updateHandler&&a.updateHandler(b.key,d))})}))};a.prototype.deactivate=function(){this.contextHub.eventing.off("ch-segment-engine:teaser-registered");this.contextHub.eventing.off("ch-segment-engine:teaser-loaded");
b(document).off("sequence-element-delegate-transition",".cq-Sequence-item.target",this.delegateTransitionHandler);this.delegateTransitionHandler=null};window.ScreensPlayer.ContextHubHelper.createTargetedComponent=function(b,d){return new a(b,d)};window.ScreensPlayer.ContextHubHelper.polyfillUpdateInterval=function(a){a&&a.version&&!a.Store.JSONPStore.prototype.setUpdateInterval&&Object.keys(a.getAllStores()).forEach(function(b){var c=a.getStore(b);b=c.config.pollInterval;!c.queryService||isNaN(b)||
0>=b||window.setInterval(function(){c.queryService(!0)},b)})};window.ScreensPlayer.ContextHubHelper.patchVariantUrlsForOfflinePlayback=function(a){if(a&&a.version)a.eventing.on("ch-segment-engine:teaser-registered",function(a,b){function c(a){a.url=a.url.replace("jcr:content","_jcr_content")}b.data.forEach(function(a){a.teaser.details.variants.forEach(c)})})};b(function(){window.ScreensPlayer.ContextHubHelper.polyfillUpdateInterval(window.ContextHub);window.ScreensPlayer.ContextHubHelper.patchVariantUrlsForOfflinePlayback(window.ContextHub)})})(window.jQuery);
define("lodash-after",[],function(){function b(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function a(a){a?(a=c(a),a=a===d||a===-d?1.7976931348623157E308*(0>a?-1:1):a===a?a:0):a=0===a?a:0;var b=a%1;return a===a?b?a-b:a:0}function c(a){if("number"==typeof a)return a;var c=a;if("symbol"==typeof c||c&&"object"==typeof c&&"[object Symbol]"==g.call(c))return e;b(a)&&(a="function"==typeof a.valueOf?a.valueOf():a,a=b(a)?a+"":a);if("string"!=typeof a)return 0===a?a:+a;a=a.replace(k,"");return(c=
f.test(a))||m.test(a)?r(a.slice(2),c?2:8):l.test(a)?e:+a}var d=1/0,e=0/0,k=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,m=/^0o[0-7]+$/i,r=parseInt,g=Object.prototype.toString;return function(b,c){if("function"!=typeof c)throw new TypeError("Expected a function");b=a(b);return function(){if(1>--b)return c.apply(this,arguments)}}});
define("lodash-defer",[],function(){function b(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}function a(a,b,c){if("function"!=typeof a)throw new TypeError("Expected a function");return setTimeout(function(){a.apply(void 0,c)},b)}var c=Math.max;return function(a,e){e=c(void 0===e?a.length-1:e,0);return function(){for(var d=arguments,l=-1,f=c(d.length-e,0),m=Array(f);++l<f;)m[l]=
d[e+l];l=-1;for(f=Array(e+1);++l<e;)f[l]=d[l];f[e]=m;return b(a,this,f)}}(function(b,c){return a(b,1,c)})});(function(){define("jquery",function(){return jQuery});define("backbone",function(){return Backbone})})();